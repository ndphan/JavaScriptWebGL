{"version":3,"file":"index.js","mappings":"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","sources":["webpack://ExampleApp/webpack/universalModuleDefinition","webpack://ExampleApp/./dist/Core/WebGL/EntityProgram/Entity3DProgram.js","webpack://ExampleApp/./dist/Core/Data/Vector2d.js","webpack://ExampleApp/./dist/Entity/PlaneColour.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelPosition.js","webpack://ExampleApp/./dist/Core/Data/Rect3d.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/vec2.js","webpack://ExampleApp/./dist/Core/Common/SubscriberPool.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelObject3d.js","webpack://ExampleApp/./dist/Core/Builder/ConfigMapBuilder.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat2.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat2d.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat3.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat4.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/vec3.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/vec4.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/quat.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/quat2.js","webpack://ExampleApp/./dist/Core/WebGL/ShaderProgram/Shader3DProgram.js","webpack://ExampleApp/./dist/Manager/EntityManager.js","webpack://ExampleApp/./dist/Core/Common/IdGenerator.js","webpack://ExampleApp/./dist/Entity/SpriteMoveable.js","webpack://ExampleApp/./dist/Core/Buffer/ArrayBuffer.js","webpack://ExampleApp/./dist/Core/Font/Font.js","webpack://ExampleApp/./dist/Core/EngineEntity/ShaderEntity.js","webpack://ExampleApp/./dist/Core/Data/RenderOption.js","webpack://ExampleApp/./dist/Core/Data/Coordinate.js","webpack://ExampleApp/./dist/Core/WebGL/Base/ProgramReference.js","webpack://ExampleApp/./dist/Manager/ObjectManager.js","webpack://ExampleApp/./dist/Core/Common/Timer.js","webpack://ExampleApp/./dist/Core/Physics/EngineMath.js","webpack://ExampleApp/./dist/Core/WebGL/EntityProgram/EntityColorProgram.js","webpack://ExampleApp/./dist/Core/Physics/Physics.js","webpack://ExampleApp/./dist/Core/Updater.js","webpack://ExampleApp/./dist/Core/EngineEntity/EngineMap.js","webpack://ExampleApp/./dist/Entity/Plane3d.js","webpack://ExampleApp/./dist/Core/WebGL/ShaderProgram/ShaderColourProgram.js","webpack://ExampleApp/./dist/AssetLoader/BitmapConfigParser.js","webpack://ExampleApp/./dist/Core/Buffer/Texture.js","webpack://ExampleApp/./dist/Core/Physics/CollisionDetection.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelObjectRect3d.js","webpack://ExampleApp/./dist/Entity/Plane2d.js","webpack://ExampleApp/./ExampleApp/index.ts","webpack://ExampleApp/./dist/Core/Data/Light.js","webpack://ExampleApp/./dist/Core/Events.js","webpack://ExampleApp/./dist/Core/EngineEntity/EngineObject.js","webpack://ExampleApp/./dist/Core/Data/FontMetaData.js","webpack://ExampleApp/./dist/Core/Data/TextureVertexModel.js","webpack://ExampleApp/./dist/Core/Data/Colour.js","webpack://ExampleApp/./dist/Core/Data/ModelData.js","webpack://ExampleApp/./dist/Core/Data/ColourVertexModel.js","webpack://ExampleApp/./dist/Core/Builder/ShaderEntityBuilder.js","webpack://ExampleApp/./dist/Entity/Moveable.js","webpack://ExampleApp/./dist/Core/WorldDelegate.js","webpack://ExampleApp/./dist/Core/EngineHelper.js","webpack://ExampleApp/./dist/Core/Data/Rect2d.js","webpack://ExampleApp/./dist/Entity/SpriteModel.js","webpack://ExampleApp/./dist/Core/App.js","webpack://ExampleApp/./dist/Core/Common/NotificationQueue.js","webpack://ExampleApp/./dist/Core/WebGL/Base/WebGLContext.js","webpack://ExampleApp/./dist/Core/Data/VertexModel.js","webpack://ExampleApp/./dist/Core/Camera.js","webpack://ExampleApp/./ExampleApp/Sphere.ts","webpack://ExampleApp/./dist/Core/EngineEntity/Position.js","webpack://ExampleApp/./dist/index.js","webpack://ExampleApp/./dist/Core/Data/Resource.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/common.js","webpack://ExampleApp/./dist/Entity/BasicSprite.js","webpack://ExampleApp/./dist/Core/Renderer.js","webpack://ExampleApp/./dist/Entity/LineColour.js","webpack://ExampleApp/./dist/Entity/TriangleColour2d.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelObject2d.js","webpack://ExampleApp/./dist/Manager/EntityManager2d.js","webpack://ExampleApp/./dist/AssetLoader/VertexParser.js","webpack://ExampleApp/./dist/Core/WebGL/Base/BaseProgram.js","webpack://ExampleApp/./dist/AssetLoader/ResourceResolver.js","webpack://ExampleApp/./dist/AssetLoader/FntFontReader.js","webpack://ExampleApp/./dist/Core/Data/RenderUnit.js","webpack://ExampleApp/./dist/Entity/Object3d.js","webpack://ExampleApp/./dist/Core/EngineEntity/EngineObjectHelper.js","webpack://ExampleApp/./dist/Core/Data/PlaneType.js","webpack://ExampleApp/./dist/Core/Builder/VertexBuilder.js","webpack://ExampleApp/webpack/bootstrap","webpack://ExampleApp/webpack/runtime/define property getters","webpack://ExampleApp/webpack/runtime/hasOwnProperty shorthand","webpack://ExampleApp/webpack/runtime/make namespace object","webpack://ExampleApp/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ExampleApp\"] = factory();\n\telse\n\t\troot[\"ExampleApp\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Shader3DProgram_1 = require(\"../ShaderProgram/Shader3DProgram\");\nvar RenderOption_1 = require(\"../../Data/RenderOption\");\nvar Entity3DProgram = /** @class */ (function () {\n    function Entity3DProgram(ctx) {\n        this.ctx = ctx;\n        this.program = new Shader3DProgram_1.default(ctx);\n    }\n    Entity3DProgram.prototype.updatePerspective = function (projectionMatrix) {\n        this.program.bindProgram();\n        this.program.glSetProjectMatrix(projectionMatrix);\n    };\n    Entity3DProgram.prototype.delete = function () {\n        this.program.arrayBuffer.delete();\n        this.program.delete();\n    };\n    Entity3DProgram.prototype.setLight = function (light, camera) {\n        this.program.setLight(light, camera);\n    };\n    Entity3DProgram.prototype.updateBuffer = function (entity, buffer) {\n        var opt = entity.getOpt();\n        if (RenderOption_1.ShaderType.THREE_DIMENSION !== opt.shaderType) {\n            console.error(\"Updating buffer for registered 3D Entity but with different shader type as RenderOptions\", opt);\n            return;\n        }\n        var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n        if (!buffer || buffer.length !== buffReg.verticesSize) {\n            console.error(\"New Buffer data does not match initial buffer data!\", entity, buffer, buffReg.verticesSize);\n        }\n        this.program.arrayBuffer.bufferSub(buffReg.offset, buffer, Shader3DProgram_1.default.DRAW_VERTEX_SIZE);\n    };\n    Entity3DProgram.prototype._render3DShadowEntities = function (entities) {\n        for (var index = 0; index < entities.length; index++) {\n            var data = entities[index];\n            var entity = data[0];\n            var model = data[1];\n            var opt = entity.getOpt();\n            this.program.glSetShadowModelMatrix(model);\n            if (!entity.rendererBufferId) {\n                throw new Error(\"Unregistered entity buffer\" + entity);\n            }\n            var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n            if (opt.renderType === RenderOption_1.RenderType.TRIANGLE) {\n                this.ctx.drawArrays(this.ctx.TRIANGLES, buffReg.offset, buffReg.size);\n            }\n            else {\n                this.ctx.drawArrays(this.ctx.TRIANGLE_STRIP, buffReg.offset, buffReg.size);\n            }\n        }\n    };\n    Entity3DProgram.prototype._setupShadow = function () {\n        this.program.bindShadowTexture();\n    };\n    Entity3DProgram.prototype.render3DShadowMap = function (entities, setOriginalViewport) {\n        if (!this.program.isShadowEnabled) {\n            return;\n        }\n        this.ctx.disable(this.ctx.CULL_FACE);\n        this.program.prepareShadowTexture();\n        this._render3DShadowEntities(entities);\n        this.program.revertShadowTexture();\n        setOriginalViewport();\n        this.ctx.enable(this.ctx.CULL_FACE);\n        this.ctx.cullFace(this.ctx.BACK);\n        this._setupShadow();\n    };\n    Entity3DProgram.prototype.render = function (entities, camera, textureReg, is2d) {\n        this.program.arrayBuffer.bind();\n        this.program.bindAttributePointers();\n        this.program.bindProgram();\n        this.program.glSetViewMatrix(camera.viewMatrix);\n        if (is2d) {\n            if (this.ctx.isEnabled(this.ctx.CULL_FACE)) {\n                this.ctx.disable(this.ctx.CULL_FACE);\n            }\n            if (this.ctx.isEnabled(this.ctx.DEPTH_TEST)) {\n                this.ctx.disable(this.ctx.DEPTH_TEST);\n            }\n        }\n        else {\n            if (!this.ctx.isEnabled(this.ctx.CULL_FACE)) {\n                this.ctx.enable(this.ctx.CULL_FACE);\n            }\n            if (!this.ctx.isEnabled(this.ctx.DEPTH_TEST)) {\n                this.ctx.enable(this.ctx.DEPTH_TEST);\n            }\n        }\n        for (var index = 0; index < entities.length; index++) {\n            var data = entities[index];\n            var entity = data[0];\n            var model = data[1];\n            var opt = entity.getOpt();\n            if (!entity.rendererTextureRef) {\n                throw new Error(\"Unregistered entity texture\" + entity);\n            }\n            var texReg = textureReg[entity.rendererTextureRef];\n            this.program.bindTexture(texReg.texture);\n            this.program.glSetModelViewMatrix(model);\n            if (!entity.rendererBufferId) {\n                throw new Error(\"Unregistered entity buffer\" + entity);\n            }\n            var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n            if (opt.renderType === RenderOption_1.RenderType.TRIANGLE) {\n                this.ctx.drawArrays(this.ctx.TRIANGLES, buffReg.offset, buffReg.size);\n            }\n            else {\n                this.ctx.drawArrays(this.ctx.TRIANGLE_STRIP, buffReg.offset, buffReg.size);\n            }\n        }\n        this.program.arrayBuffer.unbind();\n        this.program.unbindAttributePointers();\n        this.program.unbindProgram();\n    };\n    Entity3DProgram.prototype.bindBuffer = function () {\n        this.program.arrayBuffer.bufferBind();\n    };\n    Entity3DProgram.prototype.registerEntity = function (object, objBuffer) {\n        var size = objBuffer.length / Shader3DProgram_1.default.DRAW_VERTEX_SIZE;\n        this.program.arrayBuffer.bufferReg[this.program.arrayBuffer.bufferRegId] = {\n            offset: this.program.arrayBuffer.length(),\n            size: size,\n            verticesSize: objBuffer.length,\n        };\n        this.program.arrayBuffer.push(objBuffer, size);\n        object.rendererBufferId = this.program.arrayBuffer.bufferRegId;\n        this.program.arrayBuffer.bufferRegId++;\n    };\n    return Entity3DProgram;\n}());\nexports.default = Entity3DProgram;\n//# sourceMappingURL=Entity3DProgram.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vec2_1 = require(\"gl-matrix/vec2\");\nvar Vector2d = /** @class */ (function (_super) {\n    __extends(Vector2d, _super);\n    function Vector2d() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Vector2d.prototype, \"x\", {\n        get: function () {\n            return this[0];\n        },\n        set: function (x) {\n            this[0] = x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Vector2d.prototype, \"y\", {\n        get: function () {\n            return this[1];\n        },\n        set: function (y) {\n            this[1] = y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Vector2d.prototype.normalise = function () {\n        return vec2_1.default.normalize(Vector2d.newVector(0.0, 0.0), this);\n    };\n    Vector2d.prototype.dot = function (v) {\n        return vec2_1.default.dot(this, v);\n    };\n    Vector2d.prototype.negate = function () {\n        return vec2_1.default.negate(Vector2d.newVector(0.0, 0.0), this);\n    };\n    Vector2d.prototype.scale = function (s) {\n        return vec2_1.default.scale(Vector2d.newVector(0.0, 0.0), this, s);\n    };\n    Vector2d.prototype.subtract = function (v) {\n        return vec2_1.default.subtract(Vector2d.newVector(0, 0), this, v);\n    };\n    Vector2d.prototype.add = function (v) {\n        return vec2_1.default.add(Vector2d.newVector(0, 0), this, v);\n    };\n    Vector2d.newVector = function (x, y) {\n        var vector = new Vector2d();\n        vector.x = x;\n        vector.y = y;\n        return vector;\n    };\n    return Vector2d;\n}(Float32Array));\nexports.default = Vector2d;\n//# sourceMappingURL=Vector2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderOption_1 = require(\"../Core/Data/RenderOption\");\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar ShaderEntityBuilder_1 = require(\"../Core/Builder/ShaderEntityBuilder\");\nvar Colour_1 = require(\"../Core/Data/Colour\");\nvar ColourVertexModel_1 = require(\"../Core/Data/ColourVertexModel\");\nvar EngineObjectHelper_1 = require(\"../Core/EngineEntity/EngineObjectHelper\");\nvar PlaneColour = /** @class */ (function (_super) {\n    __extends(PlaneColour, _super);\n    function PlaneColour(rect, rgba) {\n        var _this = _super.call(this) || this;\n        _this.rgba = rgba;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    PlaneColour.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    PlaneColour.prototype.init = function (engineHelper) {\n        this.vertexModel = new ColourVertexModel_1.default().fillRenderUnits(EngineObjectHelper_1.default.vertex.planeXYColour(this.rgba || new Colour_1.default(0, 0, 0, 0)));\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.TRIANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.COLOUR;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .build(this, renderOpt);\n    };\n    return PlaneColour;\n}(EngineObject_1.default));\nexports.default = PlaneColour;\n//# sourceMappingURL=PlaneColour.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Rect3d_1 = require(\"../Data/Rect3d\");\nvar Position_1 = require(\"./Position\");\nvar ModelPosition = /** @class */ (function () {\n    function ModelPosition() {\n        var _this = this;\n        this.position = new Position_1.default();\n        this.dirtyModel = true;\n        this.dirtyQuat = true;\n        this.dirtyPos = true;\n        this.dirtyScale = true;\n        this.dirtyOrigin = true;\n        this.intermediateModels = [\n            gl_matrix_1.mat4.create(),\n            gl_matrix_1.mat4.create(),\n            gl_matrix_1.mat4.create(),\n            gl_matrix_1.mat4.create(),\n        ];\n        // prevent memory reallocation of objects\n        this.initialMat4Temp = gl_matrix_1.mat4.create();\n        this.rotateQuatTemp = gl_matrix_1.quat.create();\n        this.rotateMat4Temp = gl_matrix_1.mat4.create();\n        this.getModel = function () {\n            if (_this.dirtyModel) {\n                _this.dirtyModel = false;\n                _this._buildModel();\n            }\n            return _this.cachedModel;\n        };\n        this.getPosition = function () {\n            return _this.position;\n        };\n    }\n    ModelPosition.prototype.setPosition = function (position) {\n        this.position = position;\n        this.dirtyOrigin = true;\n        this.dirtyQuat = true;\n        this.dirtyPos = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.pos = function () {\n        return [this.position.x, this.position.y, this.position.z];\n    };\n    ModelPosition.prototype.centerRect = function (rect) {\n        this.center(rect.x, rect.y, rect.z);\n    };\n    ModelPosition.prototype.rotateOriginRect = function (rect) {\n        this.rotateOrigin(rect.x, rect.y, rect.z);\n    };\n    ModelPosition.prototype.centerCoord = function (coord) {\n        this.center(coord.x, coord.y, coord.z);\n    };\n    ModelPosition.prototype.center = function (x, y, z) {\n        if (this.position.x === x &&\n            this.position.y === y &&\n            this.position.z === z) {\n            return;\n        }\n        this.position.x = x;\n        this.position.y = y;\n        this.position.z = z;\n        this.dirtyPos = true;\n        this.dirtyModel = true;\n        this.rotateOrigin(x, y, z);\n    };\n    ModelPosition.prototype.translate = function (dx, dy, dz) {\n        this.position.x += dx;\n        this.position.y += dy;\n        this.position.z += dz;\n        this.dirtyPos = true;\n        this.dirtyModel = true;\n        this.rotateOrigin(this.position.x, this.position.y, this.position.z);\n    };\n    ModelPosition.prototype.rotateOrigin = function (x, y, z) {\n        if (this.position.originX !== x ||\n            this.position.originY !== y ||\n            this.position.originZ !== z) {\n            this.position.originX = x;\n            this.position.originY = y;\n            this.position.originZ = z;\n            this.dirtyOrigin = true;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.angleX = function (x) {\n        if (this.position.ax !== x) {\n            this.position.ax = x;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.angleY = function (y) {\n        if (this.position.ay !== y) {\n            this.position.ay = y;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.angleZ = function (z) {\n        if (this.position.az !== z) {\n            this.position.az = z;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.rotateX = function (x) {\n        this.angleX(x);\n    };\n    ModelPosition.prototype.rotateY = function (y) {\n        this.angleY(y);\n    };\n    ModelPosition.prototype.rotateZ = function (z) {\n        this.angleZ(z);\n    };\n    ModelPosition.prototype.scaleX = function (x) {\n        this.position.scaleX = x;\n        this.position.width = this.position.scaleX;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scaleY = function (y) {\n        this.position.scaleY = y;\n        this.position.height = this.position.scaleY;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scaleZ = function (z) {\n        this.position.scaleZ = z;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scale = function (x, y, z) {\n        if (this.position.scaleX === x &&\n            this.position.scaleY === y &&\n            this.position.scaleZ === z) {\n            return;\n        }\n        this.position.scaleX = x;\n        this.position.scaleY = y;\n        this.position.scaleZ = z;\n        this.position.width = x;\n        this.position.height = y;\n        this.position.length = z;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scaleRect = function (rect) {\n        this.scale(rect.width, rect.height, rect.length);\n    };\n    ModelPosition.prototype._buildQuat = function () {\n        var quatMat = this.createMat4NoAlloc(this.rotateMat4Temp);\n        var quatRotationxyz = this.createQuatNoAlloc(this.rotateQuatTemp);\n        quatRotationxyz = gl_matrix_1.quat.rotateX(quatRotationxyz, quatRotationxyz, this.degreesToRadians(this.position.ax));\n        quatRotationxyz = gl_matrix_1.quat.rotateY(quatRotationxyz, quatRotationxyz, this.degreesToRadians(this.position.ay));\n        quatRotationxyz = gl_matrix_1.quat.rotateZ(quatRotationxyz, quatRotationxyz, this.degreesToRadians(this.position.az));\n        quatRotationxyz = gl_matrix_1.quat.normalize(quatRotationxyz, quatRotationxyz);\n        return gl_matrix_1.mat4.fromQuat(quatMat, quatRotationxyz);\n    };\n    ModelPosition.prototype.getIntermediateModel = function (point, dest) {\n        var org = this.intermediateModels[point];\n        for (var index in dest) {\n            if (dest.hasOwnProperty(index)) {\n                dest[index] = org[index];\n            }\n        }\n        return dest;\n    };\n    ModelPosition.prototype._buildModelIntermediate = function (point, dest) {\n        // faster copy - preserve existing reference to prevent GC\n        var org = this.intermediateModels[point];\n        for (var index in dest) {\n            if (dest.hasOwnProperty(index)) {\n                org[index] = dest[index];\n            }\n        }\n        return dest;\n    };\n    ModelPosition.prototype.createQuatNoAlloc = function (out) {\n        out[0] = 0;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 1;\n        return out;\n    };\n    ModelPosition.prototype.createMat4NoAlloc = function (out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 0;\n        out[5] = 1;\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = 0;\n        out[9] = 0;\n        out[10] = 1;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    };\n    ModelPosition.prototype._buildModel = function () {\n        var _dirty = false;\n        var dest = this.createMat4NoAlloc(this.initialMat4Temp);\n        if (this.dirtyOrigin) {\n            _dirty = true;\n            var origin_1 = [\n                this.position.originX,\n                this.position.originY,\n                this.position.originZ,\n            ];\n            gl_matrix_1.mat4.translate(dest, dest, origin_1);\n            this._buildModelIntermediate(0, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(0, dest);\n        }\n        // cache this one as its heavy\n        if (this.dirtyQuat || _dirty) {\n            _dirty = true;\n            this.quatRotationxyz = this._buildQuat();\n            gl_matrix_1.mat4.multiply(dest, dest, this.quatRotationxyz);\n            this._buildModelIntermediate(1, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(1, dest);\n        }\n        if (this.dirtyPos || _dirty) {\n            _dirty = true;\n            var negOrigin = [\n                -1 * this.position.originX,\n                -1 * this.position.originY,\n                -1 * this.position.originZ,\n            ];\n            gl_matrix_1.mat4.translate(dest, dest, negOrigin);\n            var pos = [\n                this.position.x,\n                this.position.y,\n                this.position.z,\n            ];\n            gl_matrix_1.mat4.translate(dest, dest, pos);\n            this._buildModelIntermediate(2, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(2, dest);\n        }\n        if (this.dirtyScale || _dirty) {\n            _dirty = true;\n            var scale = [\n                this.position.scaleX,\n                this.position.scaleY,\n                this.position.scaleZ,\n            ];\n            gl_matrix_1.mat4.scale(dest, dest, scale);\n            this._buildModelIntermediate(3, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(3, dest);\n        }\n        this.dirtyPos = false;\n        this.dirtyQuat = false;\n        this.dirtyScale = false;\n        this.dirtyOrigin = false;\n        this.cachedModel = dest;\n    };\n    ModelPosition.prototype.degreesToRadians = function (degrees) {\n        return Math.round(gl_matrix_1.glMatrix.toRadian(degrees) * 100) / 100;\n    };\n    ModelPosition.prototype.setRect = function (rect) {\n        this.scaleRect(rect);\n        this.centerRect(rect);\n    };\n    // memory optimised\n    ModelPosition.prototype.setRect2 = function (x, y, z, width, height, length) {\n        this.scale(width, height, length);\n        this.center(x, y, z);\n    };\n    // memory optimised\n    ModelPosition.prototype.getRect2 = function () {\n        return this.position;\n    };\n    ModelPosition.prototype.getRect = function () {\n        return new Rect3d_1.default(this.position.x, this.position.y, this.position.z, this.position.width, this.position.height, this.position.length);\n    };\n    return ModelPosition;\n}());\nexports.default = ModelPosition;\n//# sourceMappingURL=ModelPosition.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Coordinate_1 = require(\"./Coordinate\");\nvar Rect3d = /** @class */ (function (_super) {\n    __extends(Rect3d, _super);\n    function Rect3d(x, y, z, width, height, length) {\n        var _this = _super.call(this, x, y, z) || this;\n        _this.width = width || 0;\n        _this.height = height || 0;\n        _this.length = length || 0;\n        return _this;\n    }\n    Rect3d.prototype.center = function () {\n        if (!this.centre || !this.equalCenter(this.centre)) {\n            this.centre = this.newCenter();\n        }\n        return this.centre;\n    };\n    Rect3d.prototype.equal = function (r) {\n        return (r.x === this.x &&\n            r.y === this.y &&\n            r.z === this.z &&\n            r.width === this.width &&\n            r.height === this.height &&\n            r.length === this.length);\n    };\n    Rect3d.prototype.equalCenter = function (c) {\n        return (c.x === this.x + this.width / 2.0 &&\n            c.y === this.y + this.height / 2.0 &&\n            c.z === this.z + this.length / 2.0 &&\n            c.width === this.width &&\n            c.height === this.height &&\n            c.length === this.length);\n    };\n    Rect3d.prototype.newCenter = function () {\n        return new Rect3d(this.x + this.width / 2.0, this.y + this.height / 2.0, this.z + this.length / 2.0, this.width, this.height, this.length);\n    };\n    return Rect3d;\n}(Coordinate_1.default));\nexports.default = Rect3d;\n//# sourceMappingURL=Rect3d.js.map","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionListeners = exports.Subscription = void 0;\nvar Subscription = /** @class */ (function () {\n    function Subscription(key) {\n        this.key = key;\n    }\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nvar SubscriptionListeners = /** @class */ (function (_super) {\n    __extends(SubscriptionListeners, _super);\n    function SubscriptionListeners(key) {\n        var _this = _super.call(this, key) || this;\n        _this.listeners = {};\n        _this.subscriptionId = 0;\n        return _this;\n    }\n    SubscriptionListeners.prototype.listen = function (callback) {\n        this.listeners[this.subscriptionId++] = callback;\n        return this.subscriptionId - 1;\n    };\n    SubscriptionListeners.prototype.unlisten = function (subscriptionId) {\n        delete this.listeners[subscriptionId];\n    };\n    SubscriptionListeners.prototype.publish = function (data) {\n        Object.values(this.listeners).forEach(function (listener) { return listener(data); });\n    };\n    SubscriptionListeners.prototype.flush = function () {\n        this.listeners = {};\n    };\n    return SubscriptionListeners;\n}(Subscription));\nexports.SubscriptionListeners = SubscriptionListeners;\nvar SubscriberPool = /** @class */ (function () {\n    function SubscriberPool() {\n        this.subscribers = {};\n    }\n    SubscriberPool.prototype.listen = function (subscription, callback) {\n        return this.getSubscriptionListeners(subscription).listen(callback);\n    };\n    SubscriberPool.prototype.getSubscriptionListeners = function (subscription) {\n        var key = subscription.key;\n        if (!this.subscribers[key]) {\n            this.subscribers[key] = new SubscriptionListeners(key);\n        }\n        return this.subscribers[key];\n    };\n    SubscriberPool.prototype.publish = function (subscription, data) {\n        this.getSubscriptionListeners(subscription).publish(data);\n    };\n    return SubscriberPool;\n}());\nexports.default = SubscriberPool;\n//# sourceMappingURL=SubscriberPool.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Builder/ShaderEntityBuilder\");\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar EngineObject_1 = require(\"./EngineObject\");\nvar ModelObject3d = /** @class */ (function (_super) {\n    __extends(ModelObject3d, _super);\n    function ModelObject3d(rect, vertexModel) {\n        var _this = _super.call(this) || this;\n        _this.renderType = RenderOption_1.RenderType.TRIANGLE;\n        _this.vertexModel = vertexModel;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    ModelObject3d.prototype.setRenderType = function (renderType) {\n        this.renderType = renderType;\n    };\n    ModelObject3d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = this.renderType;\n        renderOpt.shaderType = RenderOption_1.ShaderType.THREE_DIMENSION;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .createTexture(this.vertexModel.textureSource)\n            .build(this, renderOpt);\n    };\n    return ModelObject3d;\n}(EngineObject_1.default));\nexports.default = ModelObject3d;\n//# sourceMappingURL=ModelObject3d.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigEntity = void 0;\nvar BasicSprite_1 = require(\"../../Entity/BasicSprite\");\nvar LineColour_1 = require(\"../../Entity/LineColour\");\nvar Moveable_1 = require(\"../../Entity/Moveable\");\nvar Plane2d_1 = require(\"../../Entity/Plane2d\");\nvar Plane3d_1 = require(\"../../Entity/Plane3d\");\nvar PlaneColour_1 = require(\"../../Entity/PlaneColour\");\nvar SpriteModel_1 = require(\"../../Entity/SpriteModel\");\nvar SpriteMoveable_1 = require(\"../../Entity/SpriteMoveable\");\nvar TriangleColour2d_1 = require(\"../../Entity/TriangleColour2d\");\nvar Coordinate_1 = require(\"../Data/Coordinate\");\nvar Rect2d_1 = require(\"../Data/Rect2d\");\nvar Rect3d_1 = require(\"../Data/Rect3d\");\nvar EngineObject_1 = require(\"../EngineEntity/EngineObject\");\nvar Events_1 = require(\"../Events\");\nvar Font_1 = require(\"../Font/Font\");\nvar Physics_1 = require(\"../Physics/Physics\");\nvar ConfigMapBuilder = /** @class */ (function () {\n    function ConfigMapBuilder(engineHelper) {\n        this.engineHelper = engineHelper;\n        this.objects = [];\n        this.ref = {};\n        this.anchor = {};\n        this.texts = [];\n    }\n    ConfigMapBuilder.prototype.build = function (map) {\n        for (var prop in map) {\n            if (map.hasOwnProperty(prop)) {\n                if (prop.startsWith(\"$\")) {\n                    this.ref[prop] = map[prop];\n                }\n                else if (prop.startsWith(\"+\")) {\n                    this.anchor[prop] = map[prop];\n                }\n                else {\n                    var object = map[prop];\n                    this.initObjectPosition(object);\n                    if (object.$ref && this.ref[object.$ref]) {\n                        // merge ref with object\n                        object = __assign(__assign({}, this.ref[object.$ref]), object);\n                    }\n                    if (object.$anchor && this.anchor[object.$anchor]) {\n                        var anchor = this.anchor[object.$anchor];\n                        // translate anchor\n                        if (object.type === \"Font\") {\n                            object.position.x += anchor.position.x;\n                            object.position.y += anchor.position.y;\n                        }\n                        else {\n                            object.position.x += anchor.position.x;\n                            object.position.y += anchor.position.y;\n                            object.position.width += anchor.position.width;\n                            object.position.height += anchor.position.height;\n                        }\n                    }\n                    this.buildModel(object);\n                }\n            }\n        }\n    };\n    ConfigMapBuilder.prototype.initObjectPosition = function (object) {\n        if (!object.position) {\n            object.position = { x: 0, y: 0, height: 0, width: 0 };\n        }\n        else {\n            if (!object.position.x) {\n                object.position.x = 0;\n            }\n            if (!object.position.y) {\n                object.position.y = 0;\n            }\n            if (!object.position.width) {\n                object.position.width = 0;\n            }\n            if (!object.position.height) {\n                object.position.height = 0;\n            }\n        }\n    };\n    ConfigMapBuilder.prototype.buildModel = function (config) {\n        if (!config.type) {\n            console.error(\"unable to parse empty type for object\", config);\n            return null;\n        }\n        var obj = null;\n        if (config.type === \"Plane2D\") {\n            obj = this.createPlane2D(config.model, this.createRect2d(config.position, config.isCentre), config.hasPhysics);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Plane3D\") {\n            obj = this.createPlane3D(config.model, this.createRect3d(config.position, config.isCentre), config.hasPhysics, config.planeType);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Triangle\") {\n            obj = this.createTriangle(config.rgba, this.createRect2d(config.position, config.isCentre));\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"SpriteMoveable\") {\n            obj = this.createSpriteMoveable(config.spriteModel, this.createRect2d(config.position, config.isCentre), config.hasPhysics, config.ticks);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Moveable\") {\n            obj = this.createMoveable(config.model, this.createRect2d(config.position, config.isCentre), config.hasPhysics);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Sprite\") {\n            obj = this.createSprite(config.spriteModel, this.createRect2d(config.position, config.isCentre), config.hasPhysics, config.ticks);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Font\") {\n            obj = this.createText(config.texture, this.createCoordinate(config.position), config.fontSize, config.text);\n            obj.id = config.id;\n        }\n        else if (config.type === \"Colour\") {\n            obj = this.createColour(config.rgba, this.createRect2d(config.position, config.isCentre));\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Line\") {\n            obj = this.createLineColour(config.rgba, config.point1, config.point2, config.thickness);\n            this.hookCustomHandler(config, obj);\n        }\n        else {\n            console.warn(\"Unable to find entity of type \".concat(config.type));\n        }\n        if (obj instanceof EngineObject_1.default) {\n            obj.$id = config.id || obj.$id;\n            obj.data = config.data;\n            obj.isLastEvent = config.isLastEvent || false;\n        }\n        if (obj instanceof EngineObject_1.default || obj instanceof Font_1.FontReference) {\n            if (config.isTop) {\n                obj.setTop(true);\n            }\n        }\n        if (obj instanceof EngineObject_1.default && config.clone) {\n            obj.setClone(true);\n        }\n        // @ts-expect-error ignore\n        return obj;\n    };\n    ConfigMapBuilder.prototype.hookCustomHandler = function (config, object) {\n        var _this = this;\n        if (config.render) {\n            var _renderCustom_1;\n            if (typeof window[config.render] === \"function\") {\n                _renderCustom_1 = window[config.render].bind(object);\n            }\n            else if (typeof config.render === \"function\") {\n                _renderCustom_1 = config.render;\n            }\n            else {\n                _renderCustom_1 = function () { };\n            }\n            var _render_1 = object.render.bind(object);\n            object.render = function (engineHelper) {\n                _render_1(engineHelper);\n                _renderCustom_1(engineHelper);\n            };\n        }\n        if (config.update) {\n            var _updateCustom_1;\n            if (typeof window[config.update] === \"function\") {\n                _updateCustom_1 = window[config.update].bind(object);\n            }\n            else if (typeof config.update === \"function\") {\n                _updateCustom_1 = config.update;\n            }\n            else {\n                _updateCustom_1 = function () { };\n            }\n            var _update_1 = object.update.bind(object);\n            object.update = function (engineHelper) {\n                _update_1(engineHelper);\n                _updateCustom_1(engineHelper);\n            };\n        }\n        var onClickedDefined = config.onClick && typeof config.onClick === \"function\";\n        if (config.event) {\n            var _eventCustom_1;\n            if (typeof window[config.event] === \"function\") {\n                _eventCustom_1 = window[config.event].bind(object);\n            }\n            else if (typeof config.event === \"function\") {\n                _eventCustom_1 = config.event;\n            }\n            else {\n                _eventCustom_1 = function () { };\n            }\n            var _event_1 = object.event.bind(object);\n            object.event = function (event, engineHelper) {\n                var shouldPropagate = true;\n                // only stop propagation if the event returns false\n                shouldPropagate =\n                    shouldPropagate && _event_1(event, engineHelper) !== false;\n                shouldPropagate =\n                    shouldPropagate &&\n                        _eventCustom_1(event, engineHelper, object) !== false;\n                if (onClickedDefined) {\n                    shouldPropagate =\n                        shouldPropagate &&\n                            _this.isClicked(event, engineHelper, object, config.onClick) !==\n                                false;\n                }\n                return shouldPropagate;\n            };\n        }\n        else if (onClickedDefined) {\n            var _event_2 = object.event.bind(object);\n            object.event = function (event, engineHelper) {\n                var shouldPropagate = _event_2(event, engineHelper) !== false;\n                shouldPropagate =\n                    shouldPropagate &&\n                        _this.isClicked(event, engineHelper, object, config.onClick) !== false;\n                return shouldPropagate;\n            };\n        }\n    };\n    ConfigMapBuilder.prototype.isClicked = function (event, engineHelper, object, onClick) {\n        if (event.eventType === Events_1.default.UP &&\n            engineHelper.isClicked(event, object.getRect2()) &&\n            object.hidden === false) {\n            return onClick.bind(object)(event, engineHelper, object);\n        }\n    };\n    ConfigMapBuilder.prototype.createRect2d = function (position, isCentre) {\n        var rect = new Rect2d_1.default(Number(position.x), Number(position.y), Number(position.width), Number(position.height), 0);\n        return isCentre ? rect.center() : rect;\n    };\n    ConfigMapBuilder.prototype.createRect3d = function (position, isCentre) {\n        var rect = new Rect3d_1.default(Number(position.x), Number(position.y), Number(position.z), Number(position.width), Number(position.height), Number(position.length));\n        return isCentre ? rect.center() : rect;\n    };\n    ConfigMapBuilder.prototype.createCoordinate = function (position) {\n        return new Coordinate_1.default(Number(position.x), Number(position.y), 0);\n    };\n    ConfigMapBuilder.prototype.createText = function (texture, pos, fontSize, text) {\n        var textRef = Font_1.FontReference.newFont(pos, texture, 0)\n            .setText(text)\n            .setFontSize(fontSize);\n        this.texts.push(textRef);\n        return textRef;\n    };\n    ConfigMapBuilder.prototype.createLineColour = function (rgba, point1, point2, thickness) {\n        var colour = new LineColour_1.default(point1, point2, thickness, rgba);\n        this.objects.push(colour);\n        return colour;\n    };\n    ConfigMapBuilder.prototype.createColour = function (rgba, location) {\n        var colour = new PlaneColour_1.default(location, rgba);\n        this.objects.push(colour);\n        return colour;\n    };\n    ConfigMapBuilder.prototype.createSpriteMoveable = function (model, location, hasPhysics, ticks) {\n        var spriteModel = new SpriteModel_1.default(location, ticks || 120.0, model);\n        var obj = new SpriteMoveable_1.default(location, spriteModel);\n        spriteModel.position.z = -1;\n        spriteModel.scaleZ(0);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj, obj.physics);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createMoveable = function (model, location, hasPhysics) {\n        var obj = new Plane2d_1.default(location, model);\n        obj.setLayer(-1);\n        var moveable = new Moveable_1.default();\n        moveable.entities.push(obj);\n        moveable.rotateZ(180.0);\n        moveable.setRect(location);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(moveable, moveable.physics);\n        }\n        moveable.updatePhysicsPosition();\n        this.objects.push(moveable);\n        return moveable;\n    };\n    ConfigMapBuilder.prototype.createSprite = function (model, location, hasPhysics, ticks) {\n        var spriteModel = new SpriteModel_1.default(location, ticks || 120.0, model);\n        var obj = new BasicSprite_1.default(location, spriteModel);\n        spriteModel.position.z = -1;\n        spriteModel.rotateZ(180.0);\n        spriteModel.scaleZ(0);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj, obj.physics);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createPlane2D = function (model, location, hasPhysics) {\n        var obj = new Plane2d_1.default(location, model);\n        obj.rotateZ(180.0);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createPlane3D = function (model, location, hasPhysics, plane) {\n        var vertexModel = this.engineHelper.newVertexModel(model, plane);\n        var obj = new Plane3d_1.default(location, vertexModel);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createTriangle = function (rgba, location) {\n        var obj = new TriangleColour2d_1.default(location, rgba);\n        this.objects.push(obj);\n        return obj;\n    };\n    return ConfigMapBuilder;\n}());\nvar ConfigEntity = /** @class */ (function () {\n    function ConfigEntity() {\n    }\n    return ConfigEntity;\n}());\nexports.ConfigEntity = ConfigEntity;\nexports.default = ConfigMapBuilder;\n//# sourceMappingURL=ConfigMapBuilder.js.map","import * as glMatrix from \"./common.js\";\n/**\n * 2x2 Matrix\n * @module mat2\n */\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Create a new mat2 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out A new 2x2 matrix\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Set the components of a mat2 to the given values\n *\n * @param {mat2} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2\n *\n * @param {ReadonlyMat2} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2\n *\n * @param {ReadonlyMat2} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {ReadonlyMat2} L the lower triangular matrix\n * @param {ReadonlyMat2} D the diagonal matrix\n * @param {ReadonlyMat2} U the upper triangular matrix\n * @param {ReadonlyMat2} a the input matrix to factorize\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\n * Adds two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2} out the receiving vector\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat2.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 2x3 Matrix\n * @module mat2d\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, b,\n *  c, d,\n *  tx, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, b, 0,\n *  c, d, 0,\n *  tx, ty, 1]\n * </pre>\n * The last column is ignored so the array is shorter and operations are faster.\n */\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Create a new mat2d with the given values\n *\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} A new mat2d\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Set the components of a mat2d to the given values\n *\n * @param {mat2d} out the receiving matrix\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} out\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2d} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat2d} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2d\n *\n * @param {ReadonlyMat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\n * Adds two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2d} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2d} out the receiving vector\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2d} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat2d.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\nexport var getReal = quat.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\nexport var setReal = quat.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = quat.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\nexport var length = quat.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\nexport function str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseProgram_1 = require(\"../Base/BaseProgram\");\nvar ShadowDepthFragmentShader_glsl_1 = require(\"../Shaders/ShadowDepthFragmentShader.glsl\");\nvar PassthroughVertexShader_glsl_1 = require(\"../Shaders/PassthroughVertexShader.glsl\");\nvar ShadowLightVertexShader_glsl_1 = require(\"../Shaders/ShadowLightVertexShader.glsl\");\nvar ShadowLightFragmentShader_glsl_1 = require(\"../Shaders/ShadowLightFragmentShader.glsl\");\nvar LightFragmentShader_glsl_1 = require(\"../Shaders/LightFragmentShader.glsl\");\nvar LightVertexShader_glsl_1 = require(\"../Shaders/LightVertexShader.glsl\");\nvar ArrayBuffer_1 = require(\"../../Buffer/ArrayBuffer\");\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Texture_1 = require(\"../../Buffer/Texture\");\nvar ProgramReference_1 = require(\"../Base/ProgramReference\");\nvar Shader3DProgram = /** @class */ (function (_super) {\n    __extends(Shader3DProgram, _super);\n    function Shader3DProgram(ctx) {\n        var _this = _super.call(this, ctx) || this;\n        // this must be changed in shader as well.\n        _this.shadowDepthTextureSize = 1024.0;\n        _this.arrayBuffer = new ArrayBuffer_1.default(ctx);\n        if (_this.isShadowEnabled) {\n            _this.program = _this.compileShaders(ShadowLightVertexShader_glsl_1.default, ShadowLightFragmentShader_glsl_1.default);\n            _this.bindProgram();\n            _this.shadowMap = new ProgramReference_1.default(\"shadowMap\", ctx, false, _this.program);\n            _this.light1View = new ProgramReference_1.default(\"u_light1_view\", ctx, false, _this.program);\n            _this.light1Projection = new ProgramReference_1.default(\"u_light1_projection\", ctx, false, _this.program);\n        }\n        else {\n            _this.program = _this.compileShaders(LightVertexShader_glsl_1.default, LightFragmentShader_glsl_1.default);\n            _this.bindProgram();\n        }\n        _this.normal = new ProgramReference_1.default(\"a_normal\", ctx, true, _this.program);\n        _this.position = new ProgramReference_1.default(\"a_position\", ctx, true, _this.program);\n        _this.textureCoords = new ProgramReference_1.default(\"a_texture_coords\", ctx, true, _this.program);\n        _this.projMtrx = new ProgramReference_1.default(\"u_projection\", ctx, false, _this.program);\n        _this.viewMtrx = new ProgramReference_1.default(\"u_view\", ctx, false, _this.program);\n        _this.modelMtrx = new ProgramReference_1.default(\"u_model\", ctx, false, _this.program);\n        _this.tex2DSampler = new ProgramReference_1.default(\"texture\", ctx, false, _this.program);\n        _this.light1Pos = new ProgramReference_1.default(\"u_light1_pos\", ctx, false, _this.program);\n        _this.light1Intensities = new ProgramReference_1.default(\"u_light1_intensities\", ctx, false, _this.program);\n        _this.light1Attenu = new ProgramReference_1.default(\"u_light1_attenuation\", ctx, false, _this.program);\n        _this.light1AmbCoeff = new ProgramReference_1.default(\"u_light1_ambient_coefficient\", ctx, false, _this.program);\n        if (_this.isShadowEnabled) {\n            _this.initShadowProgram();\n        }\n        return _this;\n    }\n    Shader3DProgram.prototype.initShadowProgram = function () {\n        var ctx = this.ctx;\n        this.shadowProgram = this.compileShaders(PassthroughVertexShader_glsl_1.default, ShadowDepthFragmentShader_glsl_1.default);\n        this.bindShadowProgram();\n        this.shadowPos = new ProgramReference_1.default(\"a_position\", ctx, true, this.shadowProgram);\n        this.shadowProjection = new ProgramReference_1.default(\"u_projection\", ctx, false, this.shadowProgram);\n        this.shadowView = new ProgramReference_1.default(\"u_view\", ctx, false, this.shadowProgram);\n        this.shadowModel = new ProgramReference_1.default(\"u_model\", ctx, false, this.shadowProgram);\n        this.shadowFramebuffer = ctx.createFramebuffer();\n        this.createDepthTexture();\n        this.shadowRenderBuffer = ctx.createRenderbuffer();\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, this.shadowRenderBuffer);\n        ctx.renderbufferStorage(ctx.RENDERBUFFER, ctx.DEPTH_COMPONENT16, this.shadowDepthTextureSize, this.shadowDepthTextureSize);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, this.shadowFramebuffer);\n        ctx.framebufferTexture2D(ctx.FRAMEBUFFER, ctx.COLOR_ATTACHMENT0, ctx.TEXTURE_2D, this.shadowDepthTexture, 0);\n        ctx.framebufferRenderbuffer(ctx.FRAMEBUFFER, ctx.DEPTH_ATTACHMENT, ctx.RENDERBUFFER, this.shadowRenderBuffer);\n        ctx.bindTexture(ctx.TEXTURE_2D, null);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n    };\n    Shader3DProgram.prototype.createDepthTexture = function () {\n        var ctx = this.ctx;\n        this.shadowTextureUnit = Texture_1.default.textureCount;\n        ctx.activeTexture(ctx.TEXTURE0 + this.shadowTextureUnit);\n        Texture_1.default.textureCount += 1;\n        this.shadowDepthTexture = ctx.createTexture();\n        ctx.bindTexture(ctx.TEXTURE_2D, this.shadowDepthTexture);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.LINEAR);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.LINEAR);\n        ctx.texImage2D(ctx.TEXTURE_2D, 0, ctx.RGBA, this.shadowDepthTextureSize, this.shadowDepthTextureSize, 0, ctx.RGBA, ctx.UNSIGNED_BYTE, null);\n    };\n    Shader3DProgram.prototype.bindShadowProgram = function () {\n        this._bindProgram(this.shadowProgram);\n    };\n    Shader3DProgram.prototype.bindProgram = function () {\n        this._bindProgram(this.program);\n    };\n    Shader3DProgram.prototype.unbindProgram = function () {\n        this._unbindProgram();\n    };\n    Shader3DProgram.prototype.unbindShadowProgram = function () { };\n    Shader3DProgram.prototype.enableAttribPointers = function () {\n        var ctx = this.ctx;\n        ctx.enableVertexAttribArray(this.position.ref);\n        ctx.enableVertexAttribArray(this.textureCoords.ref);\n        ctx.enableVertexAttribArray(this.normal.ref);\n    };\n    Shader3DProgram.prototype.bindAttributePointers = function () {\n        this.enableAttribPointers();\n        var ctx = this.ctx;\n        ctx.vertexAttribPointer(this.position.ref, 3, ctx.FLOAT, false, 4 * 8, 0);\n        ctx.vertexAttribPointer(this.normal.ref, 3, ctx.FLOAT, true, 4 * 8, 3 * 4);\n        ctx.vertexAttribPointer(this.textureCoords.ref, 2, ctx.FLOAT, true, 4 * 8, 6 * 4);\n    };\n    Shader3DProgram.prototype.enableShadowAttribPointers = function () {\n        this.ctx.enableVertexAttribArray(this.shadowPos.ref);\n    };\n    Shader3DProgram.prototype.bindShadowAttributePointers = function () {\n        this.enableShadowAttribPointers();\n        var ctx = this.ctx;\n        ctx.vertexAttribPointer(this.shadowPos.ref, 3, ctx.FLOAT, false, 4 * 8, 0);\n    };\n    Shader3DProgram.prototype.glSetShadowModelMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.shadowModel.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.unbindShadowAttributePointers = function () {\n        this.ctx.disableVertexAttribArray(this.shadowPos.ref);\n    };\n    Shader3DProgram.prototype.setLight = function (light, camera) {\n        this.light = light;\n        var lookAt = light.lookAt();\n        this.bindProgram();\n        var ctx = this.ctx;\n        ctx.uniform3fv(this.light1Pos.ref, light.pos);\n        ctx.uniform3fv(this.light1Intensities.ref, light.in);\n        ctx.uniform1f(this.light1AmbCoeff.ref, light.ambientCoeff);\n        ctx.uniform1f(this.light1Attenu.ref, light.attenuation);\n        if (this.isShadowEnabled) {\n            var cameraFrustum = gl_matrix_1.mat4.frustum(gl_matrix_1.mat4.create(), -1 * camera.aspect, 1 * camera.aspect, -1 * camera.aspect, 1 * camera.aspect, 1, gl_matrix_1.vec3.squaredDistance(light.posVec(), light.atVec()));\n            ctx.uniformMatrix4fv(this.light1View.ref, false, lookAt);\n            ctx.uniformMatrix4fv(this.light1Projection.ref, false, cameraFrustum);\n            this.bindShadowProgram();\n            ctx.uniformMatrix4fv(this.shadowView.ref, false, lookAt);\n            ctx.uniformMatrix4fv(this.shadowProjection.ref, false, cameraFrustum);\n        }\n    };\n    Shader3DProgram.prototype.prepareShadowTexture = function () {\n        var ctx = this.ctx;\n        ctx.activeTexture(ctx.TEXTURE0 + this.shadowTextureUnit);\n        ctx.bindTexture(ctx.TEXTURE_2D, this.shadowDepthTexture);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, this.shadowRenderBuffer);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, this.shadowFramebuffer);\n        ctx.viewport(0, 0, this.shadowDepthTextureSize, this.shadowDepthTextureSize);\n        ctx.clear(ctx.COLOR_BUFFER_BIT | ctx.DEPTH_BUFFER_BIT);\n        this.arrayBuffer.bind();\n        this.bindShadowAttributePointers();\n        this.bindShadowProgram();\n    };\n    Shader3DProgram.prototype.revertShadowTexture = function () {\n        var ctx = this.ctx;\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        this.arrayBuffer.unbind();\n        this.unbindShadowAttributePointers();\n        this.unbindShadowProgram();\n    };\n    Shader3DProgram.prototype.bindShadowTexture = function () {\n        this.bindProgram();\n        this.ctx.uniform1i(this.shadowMap.ref, this.shadowTextureUnit);\n    };\n    Shader3DProgram.prototype.unbindAttributePointers = function () {\n        var ctx = this.ctx;\n        ctx.disableVertexAttribArray(this.position.ref);\n        ctx.disableVertexAttribArray(this.textureCoords.ref);\n        ctx.disableVertexAttribArray(this.normal.ref);\n    };\n    Shader3DProgram.prototype.glSetViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.viewMtrx.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.glSetProjectMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.projMtrx.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.glSetModelViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.modelMtrx.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.bindTexture = function (texture) {\n        texture.bindTexture(this.ctx, this.tex2DSampler.ref);\n    };\n    Shader3DProgram.DRAW_VERTEX_SIZE = 8;\n    return Shader3DProgram;\n}(BaseProgram_1.default));\nexports.default = Shader3DProgram;\n//# sourceMappingURL=Shader3DProgram.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar EntityManager = /** @class */ (function (_super) {\n    __extends(EntityManager, _super);\n    function EntityManager() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.entities = [];\n        return _this;\n    }\n    EntityManager.prototype.setPosition = function (position) {\n        this.entities.forEach(function (e) { return e.setPosition(position); });\n    };\n    EntityManager.prototype.center = function (x, y, z) {\n        _super.prototype.center.call(this, x, y, z);\n        this.entities.forEach(function (e) { return e.center(x, y, z); });\n    };\n    EntityManager.prototype.rotateOrigin = function (x, y, z) {\n        _super.prototype.rotateOrigin.call(this, x, y, z);\n        this.entities.forEach(function (e) { return e.rotateOrigin(x, y, z); });\n    };\n    EntityManager.prototype.rotateOriginRect = function (rect) {\n        this.rotateOrigin(rect.x, rect.y, rect.z);\n    };\n    EntityManager.prototype.rotateX = function (x) {\n        this.angleX(x);\n    };\n    EntityManager.prototype.rotateY = function (y) {\n        this.angleY(y);\n    };\n    EntityManager.prototype.rotateZ = function (z) {\n        this.angleZ(z);\n    };\n    EntityManager.prototype.angleX = function (x) {\n        _super.prototype.angleX.call(this, x);\n        this.entities.forEach(function (e) { return e.angleX(x); });\n    };\n    EntityManager.prototype.angleY = function (y) {\n        _super.prototype.angleY.call(this, y);\n        this.entities.forEach(function (e) { return e.angleY(y); });\n    };\n    EntityManager.prototype.angleZ = function (z) {\n        _super.prototype.angleZ.call(this, z);\n        this.entities.forEach(function (e) { return e.angleZ(z); });\n    };\n    EntityManager.prototype.scaleX = function (x) {\n        _super.prototype.scaleX.call(this, x);\n        this.entities.forEach(function (e) { return e.scaleX(x); });\n    };\n    EntityManager.prototype.scaleY = function (y) {\n        _super.prototype.scaleY.call(this, y);\n        this.entities.forEach(function (e) { return e.scaleY(y); });\n    };\n    EntityManager.prototype.scaleZ = function (z) {\n        _super.prototype.scaleZ.call(this, z);\n        this.entities.forEach(function (e) { return e.scaleZ(z); });\n    };\n    EntityManager.prototype.scale = function (x, y, z) {\n        _super.prototype.scale.call(this, x, y, z);\n        this.entities.forEach(function (e) { return e.scale(x, y, z); });\n    };\n    EntityManager.prototype.translate = function (dx, dy, dz) {\n        _super.prototype.translate.call(this, dx, dy, dz);\n        this.entities.forEach(function (e) { return e.translate(dx, dy, dz); });\n    };\n    EntityManager.prototype.init = function (engineHelper) {\n        _super.prototype.init.call(this, engineHelper);\n        this.entities.forEach(function (a) { return a.init(engineHelper); });\n    };\n    EntityManager.prototype.render = function (engineHelper) {\n        if (this.hidden) {\n            return;\n        }\n        this.entities.forEach(function (entity) { return entity.render(engineHelper); });\n        _super.prototype.render.call(this, engineHelper);\n    };\n    EntityManager.prototype.update = function (engineHelper) {\n        if (this.hidden) {\n            return;\n        }\n        this.entities.forEach(function (entity) { return entity.update(engineHelper); });\n        _super.prototype.update.call(this, engineHelper);\n    };\n    EntityManager.prototype.setTop = function (isTop) {\n        _super.prototype.setTop.call(this, isTop);\n        this.entities.forEach(function (entity) { return entity.setTop(isTop); });\n    };\n    Object.defineProperty(EntityManager.prototype, \"hidden\", {\n        set: function (value) {\n            _super.prototype.setHidden.call(this, value);\n            this.entities.forEach(function (entity) { return (entity.hidden = value); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EntityManager;\n}(EngineObject_1.default));\nexports.default = EntityManager;\n//# sourceMappingURL=EntityManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateId = generateId;\nfunction generateId() {\n    return \"xxxxxxxxx\".replace(/[x]/g, function (c) {\n        var r = (Math.random() * 16) | 0;\n        var v = c == \"x\" ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n//# sourceMappingURL=IdGenerator.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpriteMoveableModel = void 0;\nvar SpriteModel_1 = require(\"./SpriteModel\");\nvar Moveable_1 = require(\"./Moveable\");\nvar SpriteMoveableModel = /** @class */ (function (_super) {\n    __extends(SpriteMoveableModel, _super);\n    function SpriteMoveableModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SpriteMoveableModel;\n}(SpriteModel_1.default));\nexports.SpriteMoveableModel = SpriteMoveableModel;\nvar SpriteMoveable = /** @class */ (function (_super) {\n    __extends(SpriteMoveable, _super);\n    function SpriteMoveable(rect, spriteModel) {\n        var _this = _super.call(this) || this;\n        _this.spriteModel = spriteModel;\n        _this.spriteModel.setRect(rect);\n        return _this;\n    }\n    SpriteMoveable.prototype.render = function (engineHelper) {\n        this.spriteModel.render(engineHelper);\n    };\n    SpriteMoveable.prototype.update = function (engineHelper) {\n        this.spriteModel.update(engineHelper);\n    };\n    SpriteMoveable.prototype.init = function (engineHelper) {\n        this.entities.push(this.spriteModel);\n        _super.prototype.init.call(this, engineHelper);\n        this.setRect(this.spriteModel.getRect());\n        this.updatePhysicsPosition();\n    };\n    return SpriteMoveable;\n}(Moveable_1.default));\nexports.default = SpriteMoveable;\n//# sourceMappingURL=SpriteMoveable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArrayBuffer = /** @class */ (function () {\n    function ArrayBuffer(ctx) {\n        this.bufferArray = [];\n        this.verticeSize = 0;\n        this.bufferReg = {};\n        this.bufferRegId = 1;\n        this.deleted = false;\n        this.isBuffered = false;\n        this.bufferid = ctx.createBuffer();\n        this.ctx = ctx;\n        ctx.bindBuffer(ctx.ARRAY_BUFFER, this.bufferid);\n    }\n    ArrayBuffer.prototype.delete = function () {\n        this.ctx.deleteBuffer(this.bufferid);\n        this.deleted = true;\n    };\n    ArrayBuffer.prototype.bufferBind = function () {\n        if (this.deleted) {\n            return;\n        }\n        this.isBuffered = true;\n        this.bind();\n        if (!this.isBuffered) {\n            this.maxSize = 200000;\n        }\n        else {\n            this.maxSize = this.bufferArray.length * 2.0;\n        }\n        var buffer = new Float32Array(this.maxSize);\n        buffer.fill(0, this.bufferArray.length);\n        buffer.set(this.bufferArray);\n        this.ctx.bufferData(this.ctx.ARRAY_BUFFER, buffer, this.ctx.STATIC_DRAW);\n    };\n    ArrayBuffer.prototype.length = function () {\n        return this.verticeSize;\n    };\n    ArrayBuffer.prototype.bufferSub = function (offset, data, vertexSize) {\n        if (this.deleted) {\n            return;\n        }\n        this.bind();\n        this.ctx.bufferSubData(this.ctx.ARRAY_BUFFER, offset * Float32Array.BYTES_PER_ELEMENT * vertexSize, new Float32Array(data));\n    };\n    ArrayBuffer.prototype.reset = function () {\n        this.bufferArray = [];\n    };\n    ArrayBuffer.prototype.push = function (vertices, size) {\n        this.bufferArray = this.bufferArray.concat(vertices);\n        this.verticeSize += size;\n        if (this.isBuffered) {\n            if (this.bufferArray.length < this.maxSize) {\n                this.bufferSub(this.verticeSize - size, vertices, vertices.length / size);\n            }\n            else {\n                this.bufferBind();\n                console.log(\"buffer resizing as limit has been reached\");\n            }\n        }\n    };\n    ArrayBuffer.prototype.bind = function () {\n        if (this.deleted === true) {\n            return;\n        }\n        this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER, this.bufferid);\n    };\n    ArrayBuffer.prototype.unbind = function () {\n        // do nothing for now\n    };\n    return ArrayBuffer;\n}());\nexports.default = ArrayBuffer;\n//# sourceMappingURL=ArrayBuffer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FontReference = void 0;\nvar EntityManager_1 = require(\"../../Manager/EntityManager\");\nvar Timer_1 = require(\"../Common/Timer\");\nvar Coordinate_1 = require(\"../Data/Coordinate\");\nvar PlaneType_1 = require(\"../Data/PlaneType\");\nvar Rect2d_1 = require(\"../Data/Rect2d\");\nvar EngineObjectHelper_1 = require(\"../EngineEntity/EngineObjectHelper\");\nvar ModelObject2d_1 = require(\"../EngineEntity/ModelObject2d\");\nvar ModelPosition_1 = require(\"../EngineEntity/ModelPosition\");\nvar Renderer_1 = require(\"../Renderer\");\nvar FontChar = /** @class */ (function (_super) {\n    __extends(FontChar, _super);\n    function FontChar(fontChar, rect, vertexModel) {\n        var _this = _super.call(this, rect, vertexModel) || this;\n        _this.fontChar = fontChar;\n        return _this;\n    }\n    return FontChar;\n}(ModelObject2d_1.default));\nvar RenderFont = /** @class */ (function () {\n    function RenderFont(font, fontPos, time) {\n        this.repeat = false;\n        this.newFont(font, fontPos, time);\n    }\n    RenderFont.prototype.render = function (engineHelper) {\n        if (this.isRepeat() && !this.repeat) {\n            return;\n        }\n        else {\n            this.repeat = false;\n        }\n        if (this.shaderEntity) {\n            engineHelper.render(this.shaderEntity);\n        }\n    };\n    RenderFont.prototype.expire = function () {\n        this.displayTime = -1;\n        this.shaderEntity = undefined;\n        this.font = undefined;\n    };\n    RenderFont.prototype.isExpired = function () {\n        return (this.displayTime !== undefined &&\n            !this.isRepeat() &&\n            this.displayTime < this.timer.peak());\n    };\n    RenderFont.prototype.refresh = function () {\n        this.repeat = true;\n    };\n    RenderFont.prototype.isRepeat = function () {\n        return this.displayTime === 0;\n    };\n    RenderFont.prototype.newFont = function (font, fontPos, time) {\n        this.font = font;\n        this.displayTime = time;\n        this.timer = this.timer ? this.timer : new Timer_1.default();\n        this.timer.start();\n        this.id = this.id ? this.id : RenderFont.$id++;\n        this.shaderEntity = font.shaderEntity.shallowCopy();\n        var pos = new ModelPosition_1.default();\n        pos.centerRect(fontPos);\n        pos.rotateOriginRect(fontPos);\n        pos.rotateZ(180);\n        pos.scaleRect(fontPos);\n        this.shaderEntity.model = pos.getModel;\n        this.shaderEntity.modelPosition = function () { return pos.position; };\n        this.modelPos = pos;\n    };\n    RenderFont.$id = 0;\n    return RenderFont;\n}());\nvar FontManager = /** @class */ (function (_super) {\n    __extends(FontManager, _super);\n    function FontManager(metaData) {\n        var _this = _super.call(this) || this;\n        _this.metaData = metaData;\n        _this.fonts = {};\n        _this.renderFontState = {};\n        _this.renderFontPool = [];\n        _this.avgWidth = 0;\n        _this.avgHeight = 0;\n        _this.count = 0;\n        return _this;\n    }\n    FontManager.prototype.getFont = function (charCode) {\n        return this.fonts[charCode];\n    };\n    FontManager.prototype.createRender = function (font, fontPos, time) {\n        var renderFont;\n        if (this.renderFontPool.length > 0) {\n            renderFont = this.renderFontPool.pop();\n            renderFont.newFont(font, fontPos, time);\n        }\n        else {\n            renderFont = new RenderFont(font, fontPos, time);\n        }\n        this.renderFontState[renderFont.id] = renderFont;\n        return renderFont;\n    };\n    FontManager.prototype.refreshExpired = function () {\n        var _this = this;\n        Object.values(this.renderFontState).forEach(function (font) {\n            if (font.isExpired()) {\n                delete _this.renderFontState[font.id];\n                _this.renderFontPool.push(font);\n            }\n        });\n    };\n    FontManager.prototype.update = function (engineHelper) {\n        this.refreshExpired();\n        _super.prototype.update.call(this, engineHelper);\n    };\n    FontManager.prototype.render = function (engineHelper) {\n        var fonts = Object.values(this.renderFontState);\n        fonts.forEach(function (r) { return r.render(engineHelper); });\n        this.count = fonts.length;\n    };\n    FontManager.prototype.init = function (engineHelper) {\n        var context = this.metaData.context;\n        var fonts = context.fonts;\n        var defaultRect = new Rect2d_1.default(0.5, 0.5, 1.0, 1.0, 1.0);\n        var totalWidth = 0.0;\n        var totalHeight = 0.0;\n        var totalNo = 0;\n        for (var fontIdx in fonts) {\n            var fontChar = fonts[fontIdx];\n            var pos = [\n                fontChar.x,\n                fontChar.y,\n                fontChar.x + fontChar.width,\n                fontChar.y + fontChar.height,\n            ];\n            var uvs = EngineObjectHelper_1.default.vertex.planeCW(pos, context.width, context.height);\n            var vertexModel = engineHelper.createPlaneVertexModel(context.filename, uvs, PlaneType_1.default.YX);\n            var font = new FontChar(fontChar, defaultRect, vertexModel);\n            this.fonts[fontChar.charCode] = font;\n            this.entities.push(font);\n            totalWidth += fontChar.width;\n            totalHeight += fontChar.height;\n            totalNo += 1;\n        }\n        this.avgHeight = totalHeight / totalNo;\n        this.avgWidth = totalWidth / totalNo;\n        _super.prototype.init.call(this, engineHelper);\n    };\n    return FontManager;\n}(EntityManager_1.default));\nvar FontReference = /** @class */ (function () {\n    function FontReference() {\n    }\n    FontReference.prototype.render = function (engineHelper) {\n        engineHelper.writeFont(this);\n    };\n    FontReference.newFont = function (pos, cacheId, time) {\n        var ref = new FontReference();\n        ref.displayRect = new Rect2d_1.default(0, 0, 0, 0);\n        ref.pos = pos;\n        ref.time = time;\n        ref.$cacheId = cacheId;\n        ref.isDirtyPos = false;\n        ref.isDirtyText = false;\n        return ref;\n    };\n    FontReference.prototype.setTop = function (isTop) {\n        this.isTop = isTop;\n        return this;\n    };\n    FontReference.prototype.translate = function (dx, dy) {\n        this.pos.x += dx;\n        this.pos.y += dy;\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.center = function (x, y) {\n        this.pos.x = x;\n        this.pos.y = y;\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.setPosition = function (position) {\n        this.pos = new Coordinate_1.default(position.x, position.y);\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.setWidth = function (width) {\n        this.width = width;\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.setText = function (text) {\n        if (this._hidden) {\n            this.prevText = text;\n            this.text = \"\";\n        }\n        else {\n            this.text = text;\n            this.prevText = \"\";\n        }\n        this.isDirtyText = true;\n        return this;\n    };\n    FontReference.prototype.setFontSize = function (fontSize) {\n        this.fontSize = fontSize;\n        this.isDirtyPos = true;\n        return this;\n    };\n    Object.defineProperty(FontReference.prototype, \"hidden\", {\n        set: function (hidden) {\n            var _a;\n            if (!this._hidden && hidden) {\n                this.prevText = this.text;\n                this.text = \"\";\n                this.isDirtyText = true;\n            }\n            else if (this._hidden && !hidden) {\n                this.text = (_a = this.prevText) !== null && _a !== void 0 ? _a : \"\";\n                this.prevText = \"\";\n                this.isDirtyText = true;\n            }\n            this._hidden = hidden;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FontReference;\n}());\nexports.FontReference = FontReference;\nvar Font = /** @class */ (function () {\n    function Font(metaData) {\n        var _this = this;\n        this.warningShown = false;\n        this.fontCacheId = 1;\n        this.expireRenderFont = function (fontRef) {\n            _this.fontCache[fontRef.$id].forEach(function (f) { return f.expire(); });\n            _this.fontCache[fontRef.$id] = [];\n        };\n        this.writeRef = function (fontRef) {\n            if (_this.fontManager.count > Font.MAX_FONT) {\n                if (!_this.warningShown) {\n                    _this.warningShown = true;\n                    console.warn(\"Maximum font is being rendered\", _this.fontManager.count);\n                }\n            }\n            if (!fontRef.fontSize) {\n                if (!fontRef.width) {\n                    if (!_this.warningShown) {\n                        _this.warningShown = true;\n                        console.warn(\"Either font size or width needs to be set in FontReference\");\n                    }\n                    return fontRef;\n                }\n                if (!fontRef.text) {\n                    if (!_this.warningShown) {\n                        _this.warningShown = true;\n                        console.warn(\"Font text must be set to calculate font size to fit width\");\n                    }\n                    return fontRef;\n                }\n                fontRef.fontSize = _this.calculateFontSize(fontRef.width, fontRef.text.length);\n            }\n            else if (!fontRef.width) {\n                fontRef.width = _this.calcTotalTextWidth(fontRef);\n            }\n            if (fontRef.isDirtyText && fontRef.$id) {\n                _this.expireRenderFont(fontRef);\n            }\n            if (!fontRef.$id || fontRef.isDirtyText) {\n                if (!fontRef.$id) {\n                    fontRef.$id = _this.fontCacheId++;\n                }\n                fontRef.isDirtyText = false;\n                fontRef.isDirtyPos = false;\n                fontRef.prevPos = new Coordinate_1.default(fontRef.pos.x, fontRef.pos.y);\n                var fonts = _this.createFonts(fontRef);\n                _this.fontCache[fontRef.$id] = fonts;\n                _this.fontRefCache[fontRef.$id] = fontRef;\n            }\n            else if (fontRef.isDirtyPos) {\n                var fonts = _this.fontCache[fontRef.$id];\n                var fontPos = fontRef.pos;\n                if (!fontRef.prevPos) {\n                    fontRef.prevPos = new Coordinate_1.default(fontRef.pos.x, fontRef.pos.y);\n                }\n                var dx_1 = fontRef.prevPos.x - fontPos.x;\n                var dy_1 = fontRef.prevPos.y - fontPos.y;\n                fonts.forEach(function (font) {\n                    var modelPos = font.modelPos;\n                    modelPos.translate(-dx_1, -dy_1, 0);\n                    modelPos.rotateOrigin(modelPos.position.x, modelPos.position.y, modelPos.position.z);\n                });\n                fontRef.isDirtyPos = false;\n                fontRef.prevPos.x = fontRef.pos.x;\n                fontRef.prevPos.y = fontRef.pos.y;\n            }\n            _this.fontCache[fontRef.$id].forEach(function (font) {\n                font.refresh();\n                font.shaderEntity.isTop = fontRef.isTop;\n            });\n            return fontRef;\n        };\n        this.fontManager = new FontManager(metaData);\n        this.fontCache = {};\n        this.fontRefCache = {};\n        if (!Font.DefaultFont) {\n            Font.DefaultFont = this;\n        }\n    }\n    Font.prototype.event = function () {\n        return;\n    };\n    Font.prototype.update = function (engineHelper) {\n        if (engineHelper.notificationQueue.peak(Renderer_1.RendererNotification.RESIZE_SCREEN.key)) {\n            Object.values(this.fontRefCache).forEach(this.expireRenderFont);\n            Object.values(this.fontRefCache).forEach(function (font) { return (font.isDirtyText = true); });\n            this.fontManager.refreshExpired();\n            Object.values(this.fontRefCache).forEach(this.writeRef);\n        }\n        this.fontManager.update(engineHelper);\n    };\n    Font.prototype.render = function (engineHelper) {\n        this.fontManager.render(engineHelper);\n    };\n    Font.prototype.init = function (engineHelper) {\n        this.fontManager.init(engineHelper);\n    };\n    Font.prototype.calcTotalTextWidth = function (fontRef) {\n        var text = fontRef.text;\n        var fontSize = fontRef.fontSize / Font.pixelDensity;\n        var carryWidth = 0;\n        for (var charIdx = 0; charIdx < text.length; charIdx++) {\n            var charCode = text.charCodeAt(charIdx);\n            var font = this.fontManager.getFont(charCode);\n            var height = fontSize;\n            var fontRatio = Math.abs(font.fontChar.height) < 10e-6\n                ? 0.0\n                : font.fontChar.width / font.fontChar.height;\n            var width = height * fontRatio;\n            carryWidth += width;\n        }\n        return carryWidth;\n    };\n    Font.prototype.calculateFontSize = function (width, length) {\n        var fontRatio = Math.abs(this.fontManager.avgHeight) < 10e-6\n            ? 0.0\n            : this.fontManager.avgWidth / this.fontManager.avgHeight;\n        var widthFactor = 3;\n        return ((width / fontRatio) * Font.pixelDensity) / length / widthFactor;\n    };\n    Font.prototype.createFonts = function (fontRef) {\n        var pos = fontRef.pos;\n        var time = fontRef.time;\n        var text = fontRef.text;\n        var fontSize = Font.fontHeight(fontRef.fontSize);\n        var totalWidth = this.calcTotalTextWidth(fontRef);\n        var maxHeight = 0;\n        var carryWidth = -totalWidth / 2.0;\n        var fonts = [];\n        for (var charIdx = 0; charIdx < text.length; charIdx++) {\n            var charCode = text.charCodeAt(charIdx);\n            var font = this.fontManager.getFont(charCode);\n            var fontChar = font.fontChar;\n            var height = fontSize;\n            maxHeight = Math.max(maxHeight, height);\n            var fontRatio = Math.abs(fontChar.height) < 10e-6\n                ? 0.0\n                : fontChar.width / fontChar.height;\n            var width = height * fontRatio;\n            carryWidth += width;\n            var fontPos = new Rect2d_1.default(pos.x + carryWidth - width / 2.0 - fontChar.xOffset / 2.0, pos.y + height / 2.0 - fontChar.yOffset / 2.0, width, height, -1 * pos.z);\n            var renderFont = this.fontManager.createRender(font, fontPos, time);\n            fonts.push(renderFont);\n        }\n        fontRef.displayRect.x = pos.x;\n        fontRef.displayRect.y = pos.y;\n        fontRef.displayRect.width = carryWidth;\n        fontRef.displayRect.height = maxHeight;\n        return fonts;\n    };\n    Font.fontHeight = function (fontSize) {\n        return fontSize / Font.pixelDensity;\n    };\n    Font.MAX_FONT = 1000;\n    Font.pixelDensity = 400.0;\n    return Font;\n}());\nexports.default = Font;\n//# sourceMappingURL=Font.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShaderEntity = void 0;\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar ShaderEntity = /** @class */ (function () {\n    function ShaderEntity() {\n        this.opt = new RenderOption_1.default();\n        this.clone = false;\n    }\n    ShaderEntity.prototype.getVertexModel = function () {\n        return this.vertexModel;\n    };\n    ShaderEntity.prototype.getVertexBufferId = function () {\n        return this.vertexModel.vertexBufferId;\n    };\n    ShaderEntity.prototype.getOpt = function () {\n        return this.opt;\n    };\n    ShaderEntity.prototype.getModel = function () {\n        return this.model();\n    };\n    ShaderEntity.prototype.getTextureSource = function () {\n        return this.src;\n    };\n    ShaderEntity.prototype.setTextureSource = function (src) {\n        this.src = src;\n    };\n    ShaderEntity.prototype.renderCopy = function (model) {\n        var newInstance = this.shallowCopy();\n        newInstance.model = model.getModel;\n        newInstance.modelPosition = model.getPosition;\n        return newInstance;\n    };\n    ShaderEntity.prototype.shallowCopy = function () {\n        var newInstance = new ShaderEntity();\n        newInstance.opt = this.opt;\n        newInstance.vertexModel = this.vertexModel;\n        newInstance.rendererBufferId = this.rendererBufferId;\n        newInstance.rendererTextureRef = this.rendererTextureRef;\n        newInstance.src = this.src;\n        newInstance.isTop = this.isTop;\n        newInstance.hidden = this.hidden;\n        return newInstance;\n    };\n    return ShaderEntity;\n}());\nexports.ShaderEntity = ShaderEntity;\n//# sourceMappingURL=ShaderEntity.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RenderType = exports.ShaderType = void 0;\nvar ShaderType = /** @class */ (function () {\n    function ShaderType() {\n    }\n    ShaderType.THREE_DIMENSION = 2;\n    ShaderType.TWO_DIMENSION = 1;\n    ShaderType.COLOUR = 3;\n    return ShaderType;\n}());\nexports.ShaderType = ShaderType;\nvar RenderType = /** @class */ (function () {\n    function RenderType() {\n    }\n    RenderType.PLAIN = 4;\n    RenderType.TRIANGLE = 5;\n    RenderType.RECTANGLE = 6;\n    return RenderType;\n}());\nexports.RenderType = RenderType;\nvar RenderOption = /** @class */ (function () {\n    function RenderOption() {\n    }\n    return RenderOption;\n}());\nexports.default = RenderOption;\n//# sourceMappingURL=RenderOption.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Coordinate = /** @class */ (function () {\n    function Coordinate(x, y, z) {\n        this.x = x || 0;\n        this.y = y || 0;\n        this.z = z || 0;\n    }\n    return Coordinate;\n}());\nexports.default = Coordinate;\n//# sourceMappingURL=Coordinate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProgramReference = /** @class */ (function () {\n    function ProgramReference(key, ctx, isAttribute, program) {\n        if (isAttribute) {\n            this.ref = ctx.getAttribLocation(program, key);\n            if (this.ref === -1) {\n                throw new Error(\"Unable to find attribute shader key = \" + key);\n            }\n        }\n        else {\n            this.ref = ctx.getUniformLocation(program, key);\n            if (this.ref === null) {\n                throw new Error(\"Unable to find uniform shader key = \" + key);\n            }\n        }\n    }\n    return ProgramReference;\n}());\nexports.default = ProgramReference;\n//# sourceMappingURL=ProgramReference.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WorldDelegate_1 = require(\"../Core/WorldDelegate\");\nvar ObjectManager = /** @class */ (function (_super) {\n    __extends(ObjectManager, _super);\n    function ObjectManager() {\n        var _this = _super.call(this) || this;\n        _this.entities = [];\n        _this.deferred = [];\n        _this.isLoaded = false;\n        return _this;\n    }\n    ObjectManager.prototype.render = function () {\n        var _this = this;\n        this.entities.forEach(function (ent) { return ent.render(_this.engineHelper); });\n    };\n    ObjectManager.prototype.update = function () {\n        var _this = this;\n        this.entities.forEach(function (ent) { return ent.update(_this.engineHelper); });\n    };\n    ObjectManager.prototype.addEntity = function (entity) {\n        this.entities.push(entity);\n    };\n    ObjectManager.prototype.event = function (event) {\n        for (var entityIdx = 0; entityIdx < this.entities.length; entityIdx++) {\n            var shouldPropagate = this.entities[entityIdx].event(event, this.engineHelper);\n            if (shouldPropagate === false) {\n                return false;\n            }\n        }\n    };\n    ObjectManager.prototype.loadTexture = function (onLoad) {\n        if (!this.isLoaded) {\n            this.deferred.push(onLoad);\n        }\n        else {\n            onLoad();\n        }\n    };\n    ObjectManager.prototype.init = function () {\n        for (var entityIdx = 0; entityIdx < this.entities.length; entityIdx++) {\n            this.entities[entityIdx].init(this.engineHelper);\n        }\n        this.deferred.forEach(function (def) { return def(); });\n        this.isLoaded = true;\n    };\n    return ObjectManager;\n}(WorldDelegate_1.default));\nexports.default = ObjectManager;\n//# sourceMappingURL=ObjectManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Timer = /** @class */ (function () {\n    function Timer() {\n        this._start = Date.now();\n    }\n    Timer.prototype.start = function () {\n        this._start = Date.now();\n        return this;\n    };\n    Timer.prototype.peak = function () {\n        return Date.now() - this._start;\n    };\n    Timer.prototype.stop = function () {\n        this._end = Date.now();\n        var elapsed = this._end - this._start;\n        this._start = this._end;\n        return elapsed;\n    };\n    return Timer;\n}());\nexports.default = Timer;\n//# sourceMappingURL=Timer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Coordinate_1 = require(\"../Data/Coordinate\");\nvar EngineMath = /** @class */ (function () {\n    function EngineMath() {\n    }\n    EngineMath.boundRect = function (bound, pos) {\n        var boundedX = Math.max(bound.x + pos.width / 2.0, Math.min(bound.x + bound.width - pos.width / 2.0, pos.x));\n        var boundedY = Math.max(bound.y + pos.height / 2.0, Math.min(bound.y + bound.height - pos.height / 2.0, pos.y));\n        return new Coordinate_1.default(boundedX, boundedY, pos.z);\n    };\n    EngineMath.getLength = function (x1, y1, x2, y2) {\n        return Math.sqrt(Math.abs((x1 - x2) * (x1 - x2)) + Math.abs((y1 - y2) * (y1 - y2)));\n    };\n    return EngineMath;\n}());\nexports.default = EngineMath;\n//# sourceMappingURL=EngineMath.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderOption_1 = require(\"../../Data/RenderOption\");\nvar ShaderColourProgram_1 = require(\"../ShaderProgram/ShaderColourProgram\");\nvar EntityColourProgram = /** @class */ (function () {\n    function EntityColourProgram(ctx) {\n        this.ctx = ctx;\n        this.program = new ShaderColourProgram_1.default(ctx);\n    }\n    EntityColourProgram.prototype.delete = function () {\n        this.program.arrayBuffer.delete();\n        this.program.delete();\n    };\n    EntityColourProgram.prototype.updateBuffer = function (entity, buffer) {\n        var opt = entity.getOpt();\n        if (RenderOption_1.ShaderType.COLOUR !== opt.shaderType) {\n            console.error(\"Updating buffer for registered Colour Entity but with different shader type as RenderOptions\", opt);\n            return;\n        }\n        var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n        if (!buffer || buffer.length !== buffReg.verticesSize) {\n            console.error(\"New Buffer data does not match initial buffer data!\", entity, buffer, buffReg.verticesSize);\n        }\n        this.program.arrayBuffer.bufferSub(buffReg.offset, buffer, ShaderColourProgram_1.default.DRAW_VERTEX_SIZE);\n    };\n    EntityColourProgram.prototype.bindBuffer = function () {\n        this.program.arrayBuffer.bufferBind();\n    };\n    EntityColourProgram.prototype.render = function (entities, camera) {\n        this.program.arrayBuffer.bind();\n        this.program.bindAttributePointers();\n        this.program.bindProgram();\n        this.program.glSetViewMatrix(camera.viewMatrix);\n        if (this.ctx.isEnabled(this.ctx.CULL_FACE)) {\n            this.ctx.disable(this.ctx.CULL_FACE);\n        }\n        if (this.ctx.isEnabled(this.ctx.DEPTH_TEST)) {\n            this.ctx.disable(this.ctx.DEPTH_TEST);\n        }\n        for (var index = 0; index < entities.length; index++) {\n            var data = entities[index];\n            var entity = data[0];\n            var model = data[1];\n            if (!entity.rendererBufferId) {\n                throw new Error(\"Unregistered entity buffer\" + entity);\n            }\n            var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n            this.program.glSetModelViewMatrix(model);\n            this.ctx.drawArrays(this.ctx.TRIANGLE_STRIP, buffReg.offset, buffReg.size);\n        }\n        this.program.arrayBuffer.unbind();\n        this.program.unbindAttributePointers();\n        this.program.unbindProgram();\n    };\n    EntityColourProgram.prototype.registerEntity = function (object, objBuffer) {\n        var size = objBuffer.length / ShaderColourProgram_1.default.DRAW_VERTEX_SIZE;\n        this.program.arrayBuffer.bufferReg[this.program.arrayBuffer.bufferRegId] = {\n            offset: this.program.arrayBuffer.length(),\n            size: size,\n            verticesSize: objBuffer.length,\n        };\n        this.program.arrayBuffer.push(objBuffer, size);\n        object.rendererBufferId = this.program.arrayBuffer.bufferRegId;\n        this.program.arrayBuffer.bufferRegId++;\n    };\n    EntityColourProgram.prototype.updatePerspective = function (projectionMatrix) {\n        this.program.bindProgram();\n        this.program.glSetProjectMatrix(projectionMatrix);\n    };\n    return EntityColourProgram;\n}());\nexports.default = EntityColourProgram;\n//# sourceMappingURL=EntityColorProgram.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PhysicsData = exports.ParabolicSimulation = void 0;\nvar Timer_1 = require(\"../Common/Timer\");\nvar CollisionDetection_1 = require(\"./CollisionDetection\");\nvar Physics = /** @class */ (function () {\n    function Physics() {\n    }\n    Physics.registerPhysics = function (entity, physics) {\n        if (physics === void 0) { physics = undefined; }\n        if (!entity.$physicsId) {\n            entity.$physicsId = Physics.physicsEntityIdCount++;\n            this.physicsEntities[entity.$physicsId] = {\n                entity: entity,\n                enabled: true,\n                physics: physics,\n            };\n        }\n    };\n    Physics.deregisterPhysics = function (entity) {\n        if (entity.$physicsId !== undefined &&\n            this.physicsEntities[entity.$physicsId]) {\n            delete this.physicsEntities[entity.$physicsId];\n        }\n    };\n    Physics.setEnabledPhysics = function (entity, enabled) {\n        if (this.physicsEntities[entity.$physicsId]) {\n            this.physicsEntities[entity.$physicsId].enabled = enabled;\n        }\n    };\n    Physics.isCollidingOffset2d = function (entity, dx, dy) {\n        var px = entity.position.x + dx;\n        var py = entity.position.y + dy;\n        return Physics.isCollidingPos2d(entity, px, py);\n    };\n    Physics.isCollidingPoint2d = function (entity) {\n        var px = entity.position.x;\n        var py = entity.position.y;\n        return Physics.isCollidingPos2d(entity, px, py);\n    };\n    Physics.isCollidingResolve = function (entity, dx, dy) {\n        var _a;\n        var collision = [];\n        var _dx = [];\n        var _dy = [];\n        for (var key in this.physicsEntities) {\n            if (this.physicsEntities.hasOwnProperty(key)) {\n                var physicsEntity = this.physicsEntities[key];\n                var node = physicsEntity.entity;\n                if (physicsEntity.enabled && node.$physicsId !== entity.$physicsId) {\n                    var _b = ((_a = physicsEntity.physics) === null || _a === void 0 ? void 0 : _a.collisionSize) || node.position, x = _b.x, y = _b.y, width = _b.width, height = _b.height;\n                    var colliding = CollisionDetection_1.CollisionDetection.isCollidingRect(x, y, width, height, entity.position.x + dx, entity.position.y + dy, entity.position.width, entity.position.height);\n                    if (colliding) {\n                        collision.push(physicsEntity.entity);\n                        var collidingX = CollisionDetection_1.CollisionDetection.isCollidingRect(x, y, width, height, entity.position.x + dx, entity.position.y, entity.position.width, entity.position.height);\n                        var collidingY = CollisionDetection_1.CollisionDetection.isCollidingRect(x, y, width, height, entity.position.x, entity.position.y + dy, entity.position.width, entity.position.height);\n                        if (collidingX && collidingY) {\n                            _dx.push(-Physics.dxBoundary(entity, x, width));\n                            _dy.push(-Physics.dyBoundary(entity, y, height));\n                        }\n                        else if (collidingX) {\n                            _dx.push(Physics.dxBoundary(entity, x, width));\n                        }\n                        else if (collidingY) {\n                            _dy.push(Physics.dyBoundary(entity, y, height));\n                        }\n                    }\n                }\n            }\n        }\n        if (_dx.length > 0) {\n            dx = Math.min.apply(Math, _dx);\n        }\n        if (_dy.length > 0) {\n            dy = Math.min.apply(Math, _dy);\n        }\n        if (Math.abs(dx) < 10e-6) {\n            dx = 0;\n        }\n        if (Math.abs(dy) < 10e-6) {\n            dy = 0;\n        }\n        return [dx, dy, collision];\n    };\n    Physics.dyBoundary = function (entity, y, height) {\n        var _dy = Math.abs(CollisionDetection_1.CollisionDetection.getLength(entity.position.y, 0, y, 0) -\n            entity.position.height / 2 -\n            height / 2);\n        _dy *= Math.sign(y - entity.position.y) * 0.9999999;\n        return _dy;\n    };\n    Physics.dxBoundary = function (entity, x, width) {\n        var _dx = Math.abs(CollisionDetection_1.CollisionDetection.getLength(entity.position.x, 0, x, 0) -\n            entity.position.width / 2 -\n            width / 2);\n        _dx *= Math.sign(x - entity.position.x) * 0.9999999;\n        return _dx;\n    };\n    Physics.isCollidingPos2d = function (entity, px, py) {\n        var collision = [];\n        for (var key in this.physicsEntities) {\n            if (this.physicsEntities.hasOwnProperty(key)) {\n                var physicsEntity = this.physicsEntities[key];\n                var pEntityRoot = physicsEntity.entity;\n                if (physicsEntity.enabled &&\n                    pEntityRoot.$physicsId !== entity.$physicsId) {\n                    var colliding = CollisionDetection_1.CollisionDetection.isCollidingRect(pEntityRoot.position.x, pEntityRoot.position.y, pEntityRoot.position.width, pEntityRoot.position.height, px, py, entity.position.width, entity.position.height);\n                    if (colliding) {\n                        collision.push(physicsEntity.entity);\n                    }\n                }\n            }\n        }\n        return collision;\n    };\n    Physics.generateSimulationId = function () {\n        var simulationId = this.simulationIdCurrent;\n        this.simulationIdCurrent += 1;\n        return simulationId;\n    };\n    Physics.pauseSimulation = function (simulationId) {\n        var data = this.simulations[simulationId];\n        if (!data) {\n            return;\n        }\n        data.pause = true;\n    };\n    Physics.resumeSimulation = function (simulationId) {\n        var data = this.simulations[simulationId];\n        if (!data) {\n            return;\n        }\n        data.pause = false;\n    };\n    Physics.cancelSimulation = function (simulationId, force) {\n        if (force === void 0) { force = false; }\n        var data = this.simulations[simulationId];\n        if (!data) {\n            return;\n        }\n        data.cancelled = true;\n        data.totalIterations = 0;\n        if (!force && data.completeSimulation) {\n            data.completeSimulation();\n        }\n    };\n    Physics.physicsLoop = function () {\n        var simulationCount = 0;\n        for (var simulationId in this.simulations) {\n            if (this.simulations.hasOwnProperty(simulationId)) {\n                var data = this.simulations[simulationId];\n                if (!data)\n                    continue;\n                if (data.cancelled) {\n                    continue;\n                }\n                if (data) {\n                    if (data.pause) {\n                        data.timer.start();\n                        continue;\n                    }\n                    var time = data.timer.peak();\n                    if (data.totalIterations === 0 || data.runTime < data.totalRunTime) {\n                        data.simulation(+simulationId, time, data.totalRunTime, data.totalIterations);\n                        data.runTime += time;\n                        data.timer.start();\n                        data.totalIterations += 1;\n                        simulationCount++;\n                    }\n                    else {\n                        this.cancelSimulation(simulationId);\n                    }\n                }\n            }\n        }\n    };\n    Physics.runSimulation = function (totalRunTime, simulation, completeSimulation, existingSimulationId) {\n        var simulationId = existingSimulationId || this.generateSimulationId();\n        var data = this.simulations[simulationId];\n        if (!data) {\n            this.simulations[simulationId] = {\n                pause: false,\n                timer: new Timer_1.default().start(),\n                simulation: simulation,\n                totalRunTime: totalRunTime,\n                completeSimulation: completeSimulation,\n                totalIterations: 0,\n                runTime: 0.0,\n                cancelled: false,\n            };\n        }\n        else {\n            if (data.cancelled) {\n                data.pause = false;\n                data.timer.start();\n                data.simulation = simulation;\n                data.totalRunTime = totalRunTime;\n                data.completeSimulation = completeSimulation;\n                data.cancelled = false;\n            }\n            data.totalIterations = 0;\n            data.runTime = 0;\n        }\n        if (this.simulationLoop === undefined) {\n            this.simulationLoop = setInterval(this.physicsLoop.bind(this), this.TIME_STEP_MILLIS);\n        }\n        return simulationId;\n    };\n    Physics.parabolicSimulation = function (parabolic, simulation, completeSimulation) {\n        var _this = this;\n        return this.runSimulation(parabolic.totalRunTime, function (simulationId, timeStep) {\n            var data = _this.simulations[simulationId];\n            if (data) {\n                var runTime = data.runTime;\n                var height = parabolic.height;\n                var width = parabolic.width;\n                var totalRunTime = parabolic.totalRunTime;\n                var a = ((1.0 / 3.0 + 1.0) * height) / width / width;\n                var b = a * width;\n                var vy = height / 2.0 / (totalRunTime / 2.0);\n                var x = (Math.sqrt(4 * a * vy * runTime + b * b) - b) / (2 * a);\n                var vx = -width / totalRunTime;\n                var y = -(a * vx * runTime * vx * runTime + b * vx * runTime);\n                var dx = x - parabolic.px;\n                var dy = y - parabolic.py;\n                parabolic.px = x;\n                parabolic.py = y;\n                simulation(simulationId, timeStep, dx, dy);\n            }\n        }, completeSimulation);\n    };\n    Physics.TIME_STEP_MILLIS = 10;\n    Physics.simulations = {};\n    Physics.simulationIdCurrent = 1;\n    Physics.physicsEntities = {};\n    Physics.physicsEntityIdCount = 1;\n    return Physics;\n}());\nexports.default = Physics;\nvar ParabolicSimulation = /** @class */ (function () {\n    function ParabolicSimulation() {\n    }\n    return ParabolicSimulation;\n}());\nexports.ParabolicSimulation = ParabolicSimulation;\nvar PhysicsData = /** @class */ (function () {\n    function PhysicsData() {\n    }\n    return PhysicsData;\n}());\nexports.PhysicsData = PhysicsData;\n//# sourceMappingURL=Physics.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Updater = /** @class */ (function () {\n    function Updater(args) {\n        if (!args.world) {\n            throw new Error(\"world not defined\");\n        }\n        this.world = args.world;\n    }\n    Updater.prototype.update = function (time, engineHelper) {\n        engineHelper.setTime(time);\n        this.world.update();\n        engineHelper.updateFont();\n    };\n    return Updater;\n}());\nexports.default = Updater;\n//# sourceMappingURL=Updater.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Physics_1 = require(\"../Physics/Physics\");\nvar ConfigMapBuilder_1 = require(\"../Builder/ConfigMapBuilder\");\nvar EntityManager2d_1 = require(\"../../Manager/EntityManager2d\");\nvar EngineMap = /** @class */ (function (_super) {\n    __extends(EngineMap, _super);\n    function EngineMap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.$ref = {};\n        _this.show = false;\n        return _this;\n    }\n    EngineMap.prototype.reset = function () {\n        this.entities = [];\n        this.$ref = {};\n    };\n    EngineMap.prototype.beforeShow = function () { };\n    EngineMap.prototype.updatePosition = function (entity, position) {\n        if (this.$ref[entity.$id]) {\n            this.$ref[entity.$id].position = position;\n        }\n        else {\n            console.error(\"Trying to update position when entity not set\", this);\n        }\n    };\n    EngineMap.prototype.setShow = function (show) {\n        this.show = show;\n        if (this.show) {\n            this.beforeShow();\n        }\n        this.entities.forEach(function (ent) {\n            Physics_1.default.setEnabledPhysics(ent, show);\n            ent.hidden = !show;\n        });\n        if (this.show) {\n            this.restore();\n        }\n    };\n    EngineMap.prototype.restore = function () {\n        for (var prop in this.$ref) {\n            if (this.$ref.hasOwnProperty(prop)) {\n                var entityData = this.$ref[prop];\n                entityData.entity.setPosition(entityData.position);\n            }\n        }\n    };\n    EngineMap.prototype.addEntity = function (entity) {\n        if (!this.$ref[entity.$id]) {\n            this.entities.push(entity);\n            this.$ref[entity.$id] = {\n                entity: entity,\n                position: entity.position,\n            };\n        }\n        return this;\n    };\n    EngineMap.prototype.update = function (engineHelper) {\n        if (!this.show) {\n            return;\n        }\n        this.entities.forEach(function (ent) { return ent.update(engineHelper); });\n        if (this.configBuilder) {\n            this.configBuilder.texts.forEach(function (fontRef) {\n                return engineHelper.writeFont(fontRef);\n            });\n        }\n    };\n    EngineMap.prototype.render = function (engineHelper) {\n        if (!this.show) {\n            return;\n        }\n        this.entities.forEach(function (ent) { return ent.render(engineHelper); });\n    };\n    EngineMap.prototype.event = function (event, engineHelper) {\n        if (!this.show) {\n            return;\n        }\n        for (var _i = 0, _a = this.entities; _i < _a.length; _i++) {\n            var entities = _a[_i];\n            if (entities.isLastEvent) {\n                continue;\n            }\n            var shouldPropagate = entities.event(event, engineHelper);\n            if (shouldPropagate === false) {\n                return false;\n            }\n        }\n        for (var _b = 0, _c = this.entities; _b < _c.length; _b++) {\n            var entities = _c[_b];\n            if (!entities.isLastEvent) {\n                continue;\n            }\n            var shouldPropagate = entities.event(event, engineHelper);\n            if (shouldPropagate === false) {\n                return false;\n            }\n        }\n    };\n    EngineMap.prototype.init = function (engineHelper) {\n        this.engineHelper = engineHelper;\n        this.entities.forEach(function (ent) { return ent.init(engineHelper); });\n    };\n    EngineMap.prototype.parseMap = function (engineHelper, map) {\n        this.configBuilder = new ConfigMapBuilder_1.default(engineHelper);\n        this.configBuilder.build(map);\n        this.addEntities();\n    };\n    EngineMap.prototype.addEntities = function () {\n        var _this = this;\n        if (!this.configBuilder || !this.configBuilder.objects)\n            return;\n        this.configBuilder.objects.forEach(function (ent) {\n            return _this.addEntity(ent);\n        });\n    };\n    return EngineMap;\n}(EntityManager2d_1.default));\nexports.default = EngineMap;\n//# sourceMappingURL=EngineMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelObjectRect3d_1 = require(\"../Core/EngineEntity/ModelObjectRect3d\");\nvar TextureVertexModel_1 = require(\"../Core/Data/TextureVertexModel\");\nvar Plane3d = /** @class */ (function (_super) {\n    __extends(Plane3d, _super);\n    function Plane3d(rect, vertexModel) {\n        var _this = _super.call(this, rect, vertexModel) || this;\n        if (!(vertexModel instanceof TextureVertexModel_1.default)) {\n            var error = \"Vertex model must of be type TextureVertexModel\";\n            console.error(error, vertexModel);\n            throw new Error(error);\n        }\n        if (!vertexModel.renderUnits || vertexModel.renderUnits.length !== 4) {\n            var error = \"Plane3d requires 4 vertexes\";\n            console.error(error, vertexModel);\n            throw new Error(error);\n        }\n        return _this;\n    }\n    Plane3d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    return Plane3d;\n}(ModelObjectRect3d_1.default));\nexports.default = Plane3d;\n//# sourceMappingURL=Plane3d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseProgram_1 = require(\"../Base/BaseProgram\");\nvar RGBFragmentShader_glsl_1 = require(\"../Shaders/RGBFragmentShader.glsl\");\nvar RGBVertexShader_glsl_1 = require(\"../Shaders/RGBVertexShader.glsl\");\nvar ArrayBuffer_1 = require(\"../../Buffer/ArrayBuffer\");\nvar ProgramReference_1 = require(\"../Base/ProgramReference\");\nvar ShaderProgramColour = /** @class */ (function (_super) {\n    __extends(ShaderProgramColour, _super);\n    function ShaderProgramColour(ctx) {\n        var _this = _super.call(this, ctx) || this;\n        _this.arrayBuffer = new ArrayBuffer_1.default(ctx);\n        _this.program = _this.compileShaders(RGBVertexShader_glsl_1.default, RGBFragmentShader_glsl_1.default);\n        _this.bindProgram();\n        _this.positionRef = new ProgramReference_1.default(\"a_position\", ctx, true, _this.program);\n        _this.colorRef = new ProgramReference_1.default(\"a_color\", ctx, true, _this.program);\n        _this.modelViewMatrixRef = new ProgramReference_1.default(\"u_model\", ctx, false, _this.program);\n        _this.viewMtrx = new ProgramReference_1.default(\"u_view\", ctx, false, _this.program);\n        _this.projMtrx = new ProgramReference_1.default(\"u_projection\", ctx, false, _this.program);\n        return _this;\n    }\n    ShaderProgramColour.prototype.bindProgram = function () {\n        this._bindProgram(this.program);\n    };\n    ShaderProgramColour.prototype.unbindProgram = function () {\n        this._unbindProgram();\n    };\n    ShaderProgramColour.prototype.enableAttribPointers = function () {\n        var ctx = this.ctx;\n        ctx.enableVertexAttribArray(this.positionRef.ref);\n        ctx.enableVertexAttribArray(this.colorRef.ref);\n    };\n    ShaderProgramColour.prototype.bindAttributePointers = function () {\n        this.enableAttribPointers();\n        var ctx = this.ctx;\n        ctx.vertexAttribPointer(this.positionRef.ref, 2, ctx.FLOAT, false, 4 * 7, 0);\n        ctx.vertexAttribPointer(this.colorRef.ref, 4, ctx.FLOAT, false, 4 * 7, 3 * 4);\n    };\n    ShaderProgramColour.prototype.unbindAttributePointers = function () {\n        var ctx = this.ctx;\n        ctx.disableVertexAttribArray(this.positionRef.ref);\n        ctx.disableVertexAttribArray(this.colorRef.ref);\n    };\n    ShaderProgramColour.prototype.glSetProjectMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.projMtrx.ref, false, matrixArray);\n    };\n    ShaderProgramColour.prototype.glSetModelViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.modelViewMatrixRef.ref, false, matrixArray);\n    };\n    ShaderProgramColour.prototype.glSetViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.viewMtrx.ref, false, matrixArray);\n    };\n    ShaderProgramColour.DRAW_VERTEX_SIZE = 7;\n    return ShaderProgramColour;\n}(BaseProgram_1.default));\nexports.default = ShaderProgramColour;\n//# sourceMappingURL=ShaderColourProgram.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BitmapConfigParser = /** @class */ (function () {\n    function BitmapConfigParser(raw, bitmapWidth, bitmapHeight, precision) {\n        var _this = this;\n        this.SOURCE_KEY = \"$source =\";\n        this.map = raw\n            .split(\"\\n\")\n            .map(function (line) {\n            return _this.processLine(bitmapWidth, bitmapHeight, precision, line);\n        })\n            .filter(function (e) { return !!e; })\n            .reduce(function (sum, next) { return (__assign(__assign({}, sum), next)); });\n        this.raw = raw\n            .split(\"\\n\")\n            .map(function (line) { return _this.processRawLine(line); })\n            .filter(function (e) { return !!e; })\n            .reduce(function (sum, next) { return (__assign(__assign({}, sum), next)); });\n    }\n    BitmapConfigParser.prototype.processRawLine = function (line) {\n        if (line.startsWith(this.SOURCE_KEY)) {\n            this.source = line\n                .substr(line.indexOf(this.SOURCE_KEY) + this.SOURCE_KEY.length)\n                .trim()\n                .replace(\"\\r\", \"\")\n                .replace(\"\\n\", \"\");\n            if (window.location.origin === \"file://\") {\n                console.info(\"file based loading should not have ./ in front of the source\");\n            }\n            return;\n        }\n        else {\n            return this.processTextureLine(line);\n        }\n    };\n    BitmapConfigParser.prototype.processTextureLine = function (line) {\n        var _a;\n        var seperator = \"\\u0020\";\n        var nameindex = line.indexOf(seperator);\n        var key = line.substr(0, nameindex);\n        var temp = line.substr(nameindex + 1);\n        temp = temp.substr(temp.indexOf(seperator) + 1);\n        var leftindex = temp.indexOf(seperator);\n        var left = parseFloat(temp.substr(0, leftindex + 1));\n        temp = temp.substr(leftindex + 1);\n        var topindex = temp.indexOf(seperator);\n        var top = parseFloat(temp.substr(0, topindex));\n        temp = temp.substr(topindex + 1);\n        var widthIndex = temp.indexOf(seperator);\n        var width = parseFloat(temp.substr(0, widthIndex));\n        temp = temp.substr(widthIndex);\n        var height = parseFloat(temp);\n        return _a = {},\n            _a[key] = [left, top, width, height],\n            _a;\n    };\n    BitmapConfigParser.prototype.processLine = function (bitmapWidth, bitmapHeight, precision, line) {\n        var _a;\n        var seperator = \"\\u0020\";\n        var nameindex = line.indexOf(seperator);\n        var key = line.substr(0, nameindex);\n        var temp = line.substr(nameindex + 1);\n        temp = temp.substr(temp.indexOf(seperator) + 1);\n        var leftindex = temp.indexOf(seperator);\n        var left = parseFloat(temp.substr(0, leftindex + 1));\n        temp = temp.substr(leftindex + 1);\n        var topindex = temp.indexOf(seperator);\n        var top = parseFloat(temp.substr(0, topindex));\n        temp = temp.substr(topindex + 1);\n        var widthIndex = temp.indexOf(seperator);\n        var width = parseFloat(temp.substr(0, widthIndex));\n        temp = temp.substr(widthIndex);\n        var height = parseFloat(temp);\n        return _a = {},\n            _a[key] = [\n                (left + width) / bitmapWidth - precision,\n                (height + top) / bitmapHeight - precision,\n                (left + width) / bitmapWidth - precision,\n                top / bitmapHeight + precision,\n                left / bitmapWidth + precision,\n                top / bitmapHeight + precision,\n                left / bitmapWidth + precision,\n                (top + height) / bitmapHeight - precision,\n            ],\n            _a;\n    };\n    BitmapConfigParser.prototype.getMap = function () {\n        return this.map;\n    };\n    BitmapConfigParser.prototype.getTextureSource = function () {\n        return this.source;\n    };\n    return BitmapConfigParser;\n}());\nexports.default = BitmapConfigParser;\n//# sourceMappingURL=BitmapConfigParser.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextureLoader = /** @class */ (function () {\n    function TextureLoader() {\n    }\n    TextureLoader.prototype.loadImage = function (src) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.image = document.createElement(\"img\");\n            if (window.location.origin !== \"file://\") {\n                _this.image.crossOrigin = \"anonymous\";\n            }\n            _this.image.onload = function () { return resolve(); };\n            _this.image.onerror = function (error) { return reject(error); };\n            _this.image.src = src;\n        });\n    };\n    return TextureLoader;\n}());\nvar Texture = /** @class */ (function (_super) {\n    __extends(Texture, _super);\n    function Texture(src, ctx) {\n        var _this = _super.call(this) || this;\n        _this.isLoaded = false;\n        _this.isError = false;\n        _this.load = _this.loadImage(src)\n            .then(function () { return _this.onLoad(ctx); })\n            .catch(function (error) { return _this.onError(error); });\n        return _this;\n    }\n    Texture.prototype.onError = function (error) {\n        this.isError = true;\n        this.isLoaded = false;\n        throw error;\n    };\n    Texture.prototype.onLoad = function (ctx) {\n        this.handleTextureLoaded(this.image, ctx);\n        this.isLoaded = true;\n        this.width = this.image.width;\n        this.height = this.image.height;\n        return true;\n    };\n    Texture.prototype.newTextureUnit = function () {\n        return Texture.textureCount++;\n    };\n    Texture.prototype.bindTexture = function (ctx, sampler) {\n        if (this.isLoaded) {\n            ctx.uniform1i(sampler, this.texUnit);\n        }\n    };\n    Texture.prototype.handleTextureLoaded = function (image, ctx) {\n        this.texUnit = this.newTextureUnit();\n        ctx.activeTexture(ctx.TEXTURE0 + this.texUnit);\n        this.texture = this.createTextureFromImage(image, ctx);\n    };\n    Texture.prototype.createTextureFromImage = function (image, ctx) {\n        var texture = ctx.createTexture();\n        ctx.bindTexture(ctx.TEXTURE_2D, texture);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.NEAREST);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.NEAREST);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_S, ctx.CLAMP_TO_EDGE);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_T, ctx.CLAMP_TO_EDGE);\n        ctx.texImage2D(ctx.TEXTURE_2D, 0, ctx.RGBA, ctx.RGBA, ctx.UNSIGNED_BYTE, image);\n        return texture;\n    };\n    Texture.textureCount = 0;\n    return Texture;\n}(TextureLoader));\nexports.default = Texture;\n//# sourceMappingURL=Texture.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Polygon = exports.CollisionDetection = exports.Collision = void 0;\nvar Vector2d_1 = require(\"../Data/Vector2d\");\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Collision = /** @class */ (function () {\n    function Collision() {\n    }\n    return Collision;\n}());\nexports.Collision = Collision;\nvar CollisionDetection = /** @class */ (function () {\n    function CollisionDetection() {\n    }\n    CollisionDetection.rotate = function (x, y, rotate) {\n        var center = gl_matrix_1.vec2.fromValues(x, y);\n        gl_matrix_1.vec2.rotate(center, center, gl_matrix_1.vec2.fromValues(rotate.originX, rotate.originY), Math.PI * (2 - rotate.az / 180));\n        return { x: center[0], y: center[1] };\n    };\n    CollisionDetection.getLength = function (x1, y1, x2, y2) {\n        return Math.sqrt(Math.abs((x1 - x2) * (x1 - x2)) + Math.abs((y1 - y2) * (y1 - y2)));\n    };\n    CollisionDetection.isCollidingRect = function (x1, y1, width1, height1, x2, y2, width2, height2) {\n        return (CollisionDetection.getLength(x1, 0, x2, 0) <\n            width1 / 2.0 + width2 / 2.0 &&\n            CollisionDetection.getLength(y1, 0, y2, 0) < height1 / 2.0 + height2 / 2.0);\n    };\n    CollisionDetection.isRectInRect = function (rect1, rect2) {\n        return !(rect1.x + rect1.width / 2.0 < rect2.x - rect2.width / 2.0 ||\n            rect1.y + rect1.height / 2.0 < rect2.y - rect2.height / 2.0 ||\n            rect1.x - rect1.width / 2.0 > rect2.x + rect2.width / 2.0 ||\n            rect1.y - rect1.height / 2.0 > rect2.y + rect2.height / 2.0);\n    };\n    CollisionDetection.isPointInRect = function (rect, coord) {\n        return this.isCollidingRect(rect.x, rect.y, rect.width, rect.height, coord.x, coord.y, 0.01, 0.01);\n    };\n    CollisionDetection.isPointInPlane3d = function (camera, obj, x, y) {\n        var mvp = gl_matrix_1.mat4.multiply(gl_matrix_1.mat4.create(), camera.frustum, gl_matrix_1.mat4.multiply(gl_matrix_1.mat4.create(), camera.viewMatrix, obj.getModel()));\n        var r1 = this.toClipSpace(obj.vertexModel.renderUnits[0].vertex, mvp);\n        if (r1[2] > 1.0)\n            return false;\n        var r2 = this.toClipSpace(obj.vertexModel.renderUnits[1].vertex, mvp);\n        if (r2[2] > 1.0)\n            return false;\n        var r3 = this.toClipSpace(obj.vertexModel.renderUnits[2].vertex, mvp);\n        if (r3[2] > 1.0)\n            return false;\n        var r4 = this.toClipSpace(obj.vertexModel.renderUnits[3].vertex, mvp);\n        if (r4[2] > 1.0)\n            return false;\n        var rectPolygon = [\n            [r1[0], r1[1]],\n            [r2[0], r2[1]],\n            [r4[0], r4[1]],\n            [r3[0], r3[1]],\n        ];\n        return this.pointInPolygon([x, y], rectPolygon);\n    };\n    CollisionDetection.toClipSpace = function (pos, mvp) {\n        var vec4Trans = gl_matrix_1.vec4.transformMat4(gl_matrix_1.vec4.create(), gl_matrix_1.vec4.set(gl_matrix_1.vec4.create(), pos.x, pos.y, pos.z, 1.0), mvp);\n        var vec4Norm = gl_matrix_1.vec4.scale(gl_matrix_1.vec4.create(), vec4Trans, 1.0 / vec4Trans[3]);\n        return gl_matrix_1.vec4.set(gl_matrix_1.vec4.create(), (vec4Norm[0] + 1.0) / 2.0, (vec4Norm[1] + 1.0) / 2.0, vec4Norm[2], 1.0);\n    };\n    CollisionDetection.pointInPolygon = function (point, polygon) {\n        var x = point[0];\n        var y = point[1];\n        var inside = false;\n        for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n            var xi = polygon[i][0];\n            var yi = polygon[i][1];\n            var xj = polygon[j][0];\n            var yj = polygon[j][1];\n            var intersect = yi > y != yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\n            if (intersect) {\n                inside = !inside;\n            }\n        }\n        return inside;\n    };\n    return CollisionDetection;\n}());\nexports.CollisionDetection = CollisionDetection;\nvar Polygon = /** @class */ (function () {\n    function Polygon() {\n        this.max = 0;\n        this.min = 0;\n    }\n    Polygon.prototype.subtractCenter = function (p) {\n        return this.center.subtract(p.center);\n    };\n    Polygon.prototype.offset = function (v) {\n        this.points.forEach(function (point) { return point.add(v); });\n    };\n    Polygon.prototype.area = function (v1, v2) {\n        return v1.x * v2.y - v2.x * v1.y;\n    };\n    Polygon.prototype.calculateCentre = function () {\n        var centroid = Vector2d_1.default.newVector(0, 0);\n        var totalSignedArea = 0.0;\n        var vertexCount = this.points.length;\n        for (var i = 0; i < vertexCount; ++i) {\n            var vertex = this.points[i];\n            var nextVertex = void 0;\n            if (i == vertexCount - 1) {\n                nextVertex = this.points[0];\n            }\n            else {\n                nextVertex = this.points[i + 1];\n            }\n            var area = this.area(vertex, nextVertex);\n            totalSignedArea += area;\n            centroid.x += (vertex.x + nextVertex.x) * area;\n            centroid.y += (vertex.y + nextVertex.y) * area;\n        }\n        centroid.x /= 3.0 * totalSignedArea;\n        centroid.y /= 3.0 * totalSignedArea;\n        return centroid;\n    };\n    Polygon.prototype.polygonProjection = function (axis, polygon) {\n        var dotProduct = axis.dot(polygon.points[0]);\n        polygon.min = dotProduct;\n        polygon.max = dotProduct;\n        for (var i = 0; i < polygon.points.length; i++) {\n            var point = polygon.points[i];\n            dotProduct = point.dot(axis);\n            if (dotProduct < polygon.min) {\n                polygon.min = dotProduct;\n            }\n            else if (dotProduct > polygon.max) {\n                polygon.max = dotProduct;\n            }\n        }\n    };\n    Polygon.prototype.boundaryDistance = function (minA, maxA, minB, maxB) {\n        if (minA < minB) {\n            return minB - maxA;\n        }\n        else {\n            return minA - maxB;\n        }\n    };\n    Polygon.prototype.isCollision = function (polygonB, velocity) {\n        var result = new Collision();\n        result.isIntersect = true;\n        result.willIntersect = true;\n        var edgeCountA = this.edges.length;\n        var edgeCountB = polygonB.edges.length;\n        var minIntervalDistance = Infinity;\n        var translationAxis = new Vector2d_1.default();\n        var edge;\n        for (var edgeIndex = 0; edgeIndex < edgeCountA + edgeCountB; edgeIndex++) {\n            if (edgeIndex < edgeCountA) {\n                edge = this.edges[edgeIndex];\n            }\n            else {\n                edge = polygonB.edges[edgeIndex - edgeCountA];\n            }\n            var axis = Vector2d_1.default.newVector(-edge.y, edge.x).normalise();\n            this.polygonProjection(axis, this);\n            this.polygonProjection(axis, polygonB);\n            if (this.boundaryDistance(this.min, this.max, polygonB.min, polygonB.max) >\n                0) {\n                result.isIntersect = false;\n            }\n            if (velocity) {\n                var velocityProjection = axis.dot(velocity);\n                if (velocityProjection < 0) {\n                    this.min += velocityProjection;\n                }\n                else {\n                    this.max += velocityProjection;\n                }\n            }\n            var intervalDistance = this.boundaryDistance(this.min, this.max, polygonB.min, polygonB.max);\n            if (intervalDistance > 0) {\n                result.willIntersect = false;\n            }\n            if (!result.isIntersect && !result.willIntersect) {\n                break;\n            }\n            intervalDistance = Math.abs(intervalDistance);\n            if (intervalDistance < minIntervalDistance) {\n                minIntervalDistance = intervalDistance;\n                translationAxis = axis;\n                var distance = this.subtractCenter(polygonB);\n                if (distance.dot(translationAxis) < 0) {\n                    translationAxis = translationAxis.negate();\n                }\n            }\n        }\n        if (result.willIntersect) {\n            result.minDeintersectDistance = translationAxis.scale(minIntervalDistance);\n        }\n        return result;\n    };\n    return Polygon;\n}());\nexports.Polygon = Polygon;\n//# sourceMappingURL=CollisionDetection.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Builder/ShaderEntityBuilder\");\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar EngineObject_1 = require(\"./EngineObject\");\nvar ModelObjectRect3d = /** @class */ (function (_super) {\n    __extends(ModelObjectRect3d, _super);\n    function ModelObjectRect3d(rect, vertexModel) {\n        var _this = _super.call(this) || this;\n        _this.vertexModel = vertexModel;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    ModelObjectRect3d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.RECTANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.THREE_DIMENSION;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .createTexture(this.vertexModel.textureSource)\n            .build(this, renderOpt);\n    };\n    return ModelObjectRect3d;\n}(EngineObject_1.default));\nexports.default = ModelObjectRect3d;\n//# sourceMappingURL=ModelObjectRect3d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelObject2d_1 = require(\"../Core/EngineEntity/ModelObject2d\");\nvar TextureVertexModel_1 = require(\"../Core/Data/TextureVertexModel\");\nvar Plane2d = /** @class */ (function (_super) {\n    __extends(Plane2d, _super);\n    function Plane2d(rect, textureReference) {\n        var _this = _super.call(this, rect, new TextureVertexModel_1.default()) || this;\n        _this.textureReference = textureReference;\n        return _this;\n    }\n    Plane2d.prototype.setLayer = function (layer) {\n        this.position.z = -layer;\n    };\n    Plane2d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    Plane2d.prototype.init = function (engineHelper) {\n        this.vertexModel = engineHelper.newVertexModel2d(this.textureReference);\n        _super.prototype.init.call(this, engineHelper);\n    };\n    return Plane2d;\n}(ModelObject2d_1.default));\nexports.default = Plane2d;\n//# sourceMappingURL=Plane2d.js.map","import {\n  BitmapConfigParser,\n  Coordinate,\n  EngineEvent,\n  EngineHelper,\n  EngineObject,\n  Events,\n  Light,\n  ModelObject3d,\n  Object3d,\n  ObjectManager,\n  Plane3d,\n  PlaneType,\n  Rect3d,\n  RenderType,\n  ResourceResolver\n} from \"../dist/index\";\nimport Cube from \"./Cube\";\nimport Ground3d from \"./Ground3d\";\nimport Sphere from \"./Sphere\";\n\n\nexport default class World extends ObjectManager {\n  fontCacheId: number;\n  bitmapLoader: BitmapConfigParser;\n  ground: Ground3d;\n  racingCar: ModelObject3d;\n  lowPolyGirl: ModelObject3d;\n  cube: Cube;\n  cube2: Cube;\n  sun: Sphere;\n  road: Plane3d;\n  lowPolyTree: ModelObject3d[];\n  sky: Sphere;\n\n  constructor() {\n    super();\n  }\n\n  render() {\n    this.entities.forEach((ent: EngineObject) => {\n      if (ent) ent.render(this.engineHelper);\n    });\n  }\n\n  update() {\n    this.entities.forEach((ent: EngineObject) => {\n      if (ent) ent.update(this.engineHelper);\n    });\n    const { x, y, z } = this.engineHelper.camera.camera3d.position;\n    if (this.sky) this.sky.center(x, y, z);\n  }\n\n  event(event: EngineEvent) {\n    super.event(event);\n    if (event.eventType === Events.DRAG) {\n      this.engineHelper.camera.camera3d.angleY(-event.dxRaw);\n      this.engineHelper.camera.camera3d.angleX(event.dyRaw);\n      this.engineHelper.camera.camera3d.updateProjectionView();\n    }\n    return undefined;\n  }\n\n  loadResources() {\n    this.engineHelper\n      .getResource(\"assets/sphere.txt\")\n      .then(\n        ResourceResolver.objResolverMultiple(this.engineHelper, [\n          { textureSource: \"assets/background.jpg\", name: \"background\" },\n          { textureSource: \"assets/sun.png\", name: \"sun\" }\n        ])\n      );\n\n    this.engineHelper\n      .getResource(\"assets/low_poly_tree.txt\")\n      .then(\n        ResourceResolver.objResolver(\n          this.engineHelper,\n          \"assets/low_poly_tree.png\",\n          \"low_poly_tree\"\n        )\n      );\n\n    this.engineHelper\n      .getResource(\"assets/low_poly_girl.txt\")\n      .then(\n        ResourceResolver.objResolver(\n          this.engineHelper,\n          \"assets/low_poly_girl.png\",\n          \"low_poly_girl\"\n        )\n      );\n\n    this.engineHelper\n      .getResource(\"assets/racing_car.txt\")\n      .then(\n        ResourceResolver.objResolver(\n          this.engineHelper,\n          \"assets/racing_car.png\",\n          \"racing_car\"\n        )\n      );\n\n    this.engineHelper\n      .getResource(\"assets/paprika.fnt\")\n      .then(ResourceResolver.bmFontResolver(this.engineHelper));\n\n    this.engineHelper\n      .getResource(\"assets/atlas.txt\")\n      .then(\n        ResourceResolver.bitmapResolver(this.engineHelper, 1024, 1024, 20e-3)\n      );\n\n    this.engineHelper\n      .getResource(`/assets/missing-texture.txt`)\n      .then(ResourceResolver.bitmapResolver(this.engineHelper, 1184, 1184, 0));\n  }\n\n  init() {\n    const length = 30;\n    const width = 20;\n\n    this.engineHelper.camera.camera3d.center(0, 2, length / 2 - 4);\n    this.engineHelper.camera.camera3d.updateProjectionView();\n\n    // Sky (Sphere)\n    this.sky = new Sphere(\n      new Rect3d(0.0, 2.0, 0.0, 30.0, 32.0, 30.0),\n      \"background\"\n    );\n    this.sky.setRenderType(RenderType.TRIANGLE);\n    this.sky.init(this.engineHelper);\n    this.addEntity(this.sky);\n\n    // Low poly girl\n    this.lowPolyGirl = new Object3d(\n      new Rect3d(-4, 0.95, 5, 1.0, 1.0, 1.0),\n      \"low_poly_girl\"\n    );\n    this.lowPolyGirl.angleY(240);\n    this.lowPolyGirl.scale(0.7, 0.7, 0.7);\n    this.lowPolyGirl.setRenderType(RenderType.TRIANGLE);\n    this.lowPolyGirl.init(this.engineHelper);\n    this.addEntity(this.lowPolyGirl);\n\n    // Racing car\n    this.racingCar = new Object3d(\n      new Rect3d(0, -0.25, 0, 1.5, 1.5, 1.5),\n      \"racing_car\"\n    );\n    this.racingCar.angleY(135);\n    this.racingCar.setRenderType(RenderType.TRIANGLE);\n    this.racingCar.init(this.engineHelper);\n    this.addEntity(this.racingCar);\n\n    // Ground (tiled)\n    // this.ground = new Ground3d(\n    //   new Rect3d(0.0, 0.0, 0.0, width, 0, length),\n    //   \"ground\"\n    // );\n    // this.ground.init(this.engineHelper);\n    // this.addEntity(this.ground);\n\n    // // Cube 1\n    // this.cube = new Cube(\n    //   new Rect3d(-4, 2, -12, 1, 1, 1),\n    //   \"assets/atlas.png\",\n    //   [\"wood\", \"cloth\", \"sky\", \"grass\", \"paper\", \"rock\"]\n    // );\n    // this.cube.init(this.engineHelper);\n    // this.addEntity(this.cube);\n\n    // // Cube 2\n    // this.cube2 = new Cube(\n    //   new Rect3d(4, 2, 2, 1, 1, 1),\n    //   \"assets/atlas.png\",\n    //   [\"wood\", \"cloth\", \"sky\", \"grass\", \"paper\", \"rock\"]\n    // );\n    // this.cube2.init(this.engineHelper);\n    // this.addEntity(this.cube2);\n\n    // Sun (Sphere)\n    this.sun = new Sphere(\n      new Rect3d(0.0, 10, -15, 1.0, 1.0, 1.0),\n      \"sun\"\n    );\n    this.sun.setRenderType(RenderType.TRIANGLE);\n    this.sun.init(this.engineHelper);\n    this.addEntity(this.sun);\n\n    // Low poly trees\n    this.lowPolyTree = [];\n    const treeCreator = (l: number, w: number) => {\n      const tree = new Object3d(\n        new Rect3d(l, 0, w, 1.0, 1.0, 1.0),\n        \"low_poly_tree\"\n      );\n      const heightRand = Math.random() * 0.8 - 0.8;\n      const scale = 3.5 + heightRand;\n      tree.scale(scale, scale, scale);\n      tree.setRenderType(RenderType.TRIANGLE);\n      tree.init(this.engineHelper);\n      this.lowPolyTree.push(tree);\n      this.addEntity(tree);\n    };\n    for (let l = 0; l < length; l += 4) {\n      treeCreator(-width / 2, l - length / 2);\n      treeCreator(width / 2 - 1, l - length / 2);\n    }\n    for (let w = 1; w < width - 1; w += 4) {\n      treeCreator(w - width / 2, -length / 2);\n      treeCreator(w - width / 2, length / 2 - 1);\n    }\n\n    // Road (as a plane)\n    const vertexModel = this.engineHelper.newVertexModel(\n      \"road\",\n      PlaneType.XZ\n    );\n    this.road = new Plane3d(\n      new Rect3d(0, 0.01, 0.0, 1, 1, 1),\n      vertexModel\n    );\n    this.road.scale(3, 1, (2 * width) / Math.sqrt(2));\n    this.road.angleY(-45);\n    this.road.center(-2, 0.01, -15);\n    this.road.init(this.engineHelper);\n    this.addEntity(this.road);\n\n    // initialise all the engine objects\n    super.init();\n\n    this.engineHelper.setLighting(\n      new Light({\n        pos: [-20, 15, -20],\n        in: [1.0, 1.0, 1.0],\n        attenuation: 0.015,\n        ambientCoeff: 0.3,\n        at: [0.0, 0.0, 0.0]\n      })\n    );\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Light = /** @class */ (function () {\n    function Light(options) {\n        this.pos = options.pos;\n        this.in = options.in;\n        this.attenuation = options.attenuation;\n        this.ambientCoeff = options.ambientCoeff;\n        this.at = options.at;\n    }\n    Light.prototype.vecZero = function (vec) {\n        return gl_matrix_1.vec3.equals(vec, gl_matrix_1.vec3.fromValues(0, 0, 0));\n    };\n    Light.prototype.parellelVec = function (vec1, vec2) {\n        return (this.vecZero(vec1) !== true &&\n            this.vecZero(vec2) !== true &&\n            gl_matrix_1.vec3.equals(gl_matrix_1.vec3.normalize(gl_matrix_1.vec3.create(), vec1), gl_matrix_1.vec3.normalize(gl_matrix_1.vec3.create(), vec2)) === true);\n    };\n    Light.prototype.perpVec = function (vec) {\n        var perp = gl_matrix_1.vec3.fromValues(1.0, 0.0, 0.0);\n        if (this.parellelVec(vec, perp) === true) {\n            perp = gl_matrix_1.vec3.fromValues(0.0, 0.0, 1.0);\n        }\n        return perp;\n    };\n    Light.prototype.posVec = function () {\n        return gl_matrix_1.vec3.fromValues(this.pos[0], this.pos[1], this.pos[2]);\n    };\n    Light.prototype.atVec = function () {\n        return gl_matrix_1.vec3.fromValues(this.at[0], this.at[1], this.at[2]);\n    };\n    Light.prototype.lookAt = function () {\n        var pos = this.posVec();\n        var at = this.atVec();\n        var atCross = at;\n        var posCross = pos;\n        if (this.parellelVec(pos, at) === true) {\n            atCross = this.perpVec(pos);\n        }\n        else {\n            if (this.vecZero(pos) === true) {\n                posCross = this.perpVec(at);\n            }\n            if (this.vecZero(at) === true) {\n                atCross = this.perpVec(pos);\n            }\n        }\n        this.up = gl_matrix_1.vec3.cross(gl_matrix_1.vec3.create(), posCross, atCross);\n        return gl_matrix_1.mat4.lookAt(gl_matrix_1.mat4.create(), pos, at, this.up);\n    };\n    return Light;\n}());\nexports.default = Light;\n//# sourceMappingURL=Light.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.event = void 0;\nvar Coordinate_1 = require(\"./Data/Coordinate\");\nvar Events = /** @class */ (function () {\n    function Events() {\n        var _this = this;\n        this.eventDown = false;\n        this.touchDown = false;\n        this.eventDownX = 0.0;\n        this.eventDownY = 0.0;\n        this.eventDownDx = 0.0;\n        this.eventDownDy = 0.0;\n        this.keyDownMap = {};\n        this.prevEvent = 0.0;\n        this.timeStamp = 0.0;\n        this.prevTimeStamp = 0.0;\n        this.motionTimeStamp = 0.0;\n        this.orientationQuaternion = [0.0, 0.0, 0.0, 0.0];\n        this.NULL_EVENT = {\n            x: 0,\n            y: 0,\n            dx: 0,\n            dy: 0,\n            dxRaw: 0,\n            dyRaw: 0,\n            eventType: -1,\n            prevEventType: -1,\n            timeStamp: 0,\n            prevTimeStamp: 0,\n            orientationQuaternion: [0, 0, 0, 0],\n            rawEvent: undefined,\n            isDown: false,\n            isUp: false,\n        };\n        this.boundedWindow = false;\n        this.callback = [];\n        this.throttle = 1000.0 / 25.0;\n        this.setThrottle = function (throttle) {\n            if (throttle) {\n                _this.throttle = throttle;\n            }\n        };\n        this.bind = function (callback, webGLContainer) {\n            _this.callback.push(callback);\n            _this.webGLContainer = webGLContainer;\n            _this.bindCanvas();\n            _this.bindWindow();\n        };\n        this.handleOrientationChange = function () {\n            _this.orientation = window.orientation || 0;\n        };\n        this.handleMotion = function (event) {\n            if (!_this.motionTimeStamp) {\n                _this.motionTimeStamp = event.timeStamp;\n            }\n            _this.incrementQuaternion(event);\n            if (event && event.timeStamp - _this.motionTimeStamp > _this.throttle) {\n                var tempEventDownX = _this.eventDownX;\n                var tempEventDownY = _this.eventDownY;\n                _this.eventDownX = _this.orientationQuaternion[0];\n                _this.eventDownY = _this.orientationQuaternion[1];\n                _this.handleEvent(event, Events.ORIENTATION);\n                _this.eventDownX = tempEventDownX;\n                _this.eventDownY = tempEventDownY;\n                _this.prevEvent = Events.ORIENTATION;\n                _this.motionTimeStamp = event.timeStamp;\n                _this.orientationQuaternion = [0.0, 0.0, 0.0, 1.0];\n            }\n        };\n        this.incrementQuaternion = function (event) {\n            var accData = event.rotationRate\n                ? event.rotationRate\n                : { beta: 0, gamma: 0, alpha: 0 };\n            var eventQuaternion = _this.getQuaternion(accData.alpha, accData.beta, accData.gamma);\n            _this.orientationQuaternion[0] += eventQuaternion[0];\n            _this.orientationQuaternion[1] += eventQuaternion[1];\n            _this.orientationQuaternion[2] += eventQuaternion[2];\n        };\n        this.buildEvent = function (evt, type) {\n            if (!_this.webGLContainer.canvas)\n                return _this.NULL_EVENT;\n            return {\n                x: _this.eventDownX / _this.webGLContainer.canvas.offsetWidth,\n                y: 1 - _this.eventDownY / _this.webGLContainer.canvas.offsetHeight,\n                dx: (2.0 * _this.eventDownDx) / _this.webGLContainer.canvas.offsetWidth,\n                dy: (2.0 * _this.eventDownDy) / _this.webGLContainer.canvas.offsetHeight,\n                dxRaw: _this.eventDownDx,\n                dyRaw: _this.eventDownDy,\n                eventType: type,\n                prevEventType: _this.prevEvent,\n                timeStamp: _this.timeStamp,\n                prevTimeStamp: _this.prevTimeStamp,\n                orientationQuaternion: _this.orientationQuaternion,\n                rawEvent: evt,\n                isDown: type === Events.DOWN,\n                isUp: type === Events.UP,\n            };\n        };\n        this.resize = function (evt) {\n            _this.handleEvent(evt, Events.RESIZE);\n        };\n        this.buildEventKey = function (evt, type) {\n            return {\n                eventType: type,\n                keyCode: evt.key,\n                code: evt.code,\n                event: evt,\n                keyDown: _this.keyDownMap,\n                isDown: type === Events.DOWN,\n                isUp: type === Events.UP,\n            };\n        };\n        this.keyDown = function (evt) {\n            _this.keyDownMap[evt.code] = true;\n            _this.handleEvent(evt, Events.KEY_DOWN);\n            switch (evt.keyCode) {\n                // prevent arrow keys from scrolling window\n                case 37:\n                case 39:\n                case 38:\n                case 40:\n                    evt.preventDefault();\n                    break;\n            }\n        };\n        this.keyUp = function (evt) {\n            _this.keyDownMap[evt.code] = false;\n            _this.handleEvent(evt, Events.KEY_UP);\n        };\n        this.handleMouseUp = function (evt) {\n            _this.eventDown = false;\n            _this.timeStamp = evt.timeStamp;\n            _this.eventDownX = evt.offsetX;\n            _this.eventDownY = evt.offsetY;\n            _this.handleEvent(evt, Events.UP);\n            _this.prevEvent = Events.UP;\n            _this.prevTimeStamp = evt.timeStamp;\n        };\n        this.handleEventDown = function (evt) {\n            _this.eventDown = true;\n            _this.eventDownX = evt.offsetX;\n            _this.eventDownY = evt.offsetY;\n            _this.timeStamp = evt.timeStamp;\n            _this.handleEvent(evt, Events.DOWN);\n            _this.prevEvent = Events.DOWN;\n            _this.prevTimeStamp = evt.timeStamp;\n        };\n        this.handleEventMove = function (evt) {\n            if (_this.eventDown && evt.timeStamp - _this.timeStamp > _this.throttle) {\n                var xUp = evt.offsetX;\n                var yUp = evt.offsetY;\n                _this.eventDownDx = _this.eventDownX - xUp;\n                _this.eventDownDy = _this.eventDownY - yUp;\n                _this.eventDownX = xUp;\n                _this.eventDownY = yUp;\n                _this.timeStamp = evt.timeStamp;\n                _this.handleEvent(evt, Events.DRAG);\n                _this.prevEvent = Events.DRAG;\n                _this.prevTimeStamp = evt.timeStamp;\n            }\n        };\n        this.handleTouchEnd = function (evt) {\n            _this.touchDown = false;\n            _this.timeStamp = evt.timeStamp;\n            _this.handleEvent(evt, Events.UP);\n            _this.prevEvent = Events.UP;\n            _this.prevTimeStamp = evt.timeStamp;\n        };\n        this.handleTouchStart = function (evt) {\n            _this.touchDown = true;\n            _this.timeStamp = evt.timeStamp;\n            if (evt.target instanceof HTMLElement) {\n                var rect = evt.target.getBoundingClientRect();\n                _this.eventDownX = evt.touches[0].clientX - rect.left;\n                _this.eventDownY = evt.touches[0].clientY - rect.top;\n            }\n            _this.handleEvent(evt, Events.DOWN);\n            _this.prevEvent = Events.DOWN;\n            _this.prevTimeStamp = evt.timeStamp;\n            if (evt.cancelable) {\n                evt.preventDefault();\n            }\n        };\n        this.handleTouchMove = function (evt) {\n            if (_this.touchDown &&\n                evt.timeStamp - _this.timeStamp > _this.throttle &&\n                evt.target instanceof HTMLElement) {\n                var rect = evt.target.getBoundingClientRect();\n                var xUp = evt.touches[0].clientX - rect.left;\n                var yUp = evt.touches[0].clientY - rect.top;\n                _this.eventDownDx = (_this.eventDownX - xUp) / 2.0;\n                _this.eventDownDy = (_this.eventDownY - yUp) / 2.0;\n                _this.eventDownX = xUp;\n                _this.eventDownY = yUp;\n                _this.timeStamp = evt.timeStamp;\n                _this.handleEvent(evt, Events.DRAG);\n                _this.prevEvent = Events.DRAG;\n                _this.prevTimeStamp = evt.timeStamp;\n            }\n            // prevent device scrolling\n            if (evt.cancelable) {\n                evt.preventDefault();\n            }\n        };\n        this.handleEvent = function (evt, event) {\n            var targetEvent = _this.buildEvent(evt, event);\n            for (var i = 0; i < _this.callback.length; i++) {\n                var callbackPropagate = _this.callback[i](targetEvent);\n                if (callbackPropagate === false) {\n                    break;\n                }\n            }\n        };\n    }\n    Events.prototype.delete = function (cb) {\n        this.callback = this.callback.filter(function (c) { return c !== cb; });\n    };\n    Events.prototype.bindWindow = function () {\n        if (this.boundedWindow) {\n            return;\n        }\n        window.addEventListener(\"mouseup\", this.isBodyFocus(this.handleMouseUp), true);\n        window.addEventListener(\"touchend\", this.isBodyFocus(this.handleTouchEnd), true);\n        window.addEventListener(\"resize\", this.resize, true);\n        window.addEventListener(\"keydown\", this.isBodyFocus(this.keyDown), true);\n        window.addEventListener(\"keyup\", this.isBodyFocus(this.keyUp), true);\n        if (window.hasOwnProperty(\"DeviceMotionEvent\")) {\n            window.addEventListener(\"devicemotion\", this.handleMotion, true);\n        }\n        if (window.hasOwnProperty(\"DeviceOrientationEvent\")) {\n            window.addEventListener(\"orientationchange\", this.handleOrientationChange, true);\n        }\n        this.boundedWindow = true;\n    };\n    Events.prototype.bindCanvas = function () {\n        this.webGLContainer.canvas.addEventListener(\"mousedown\", this.handleEventDown, true);\n        this.webGLContainer.canvas.addEventListener(\"mousemove\", this.handleEventMove, true);\n        this.webGLContainer.canvas.addEventListener(\"touchstart\", this.handleTouchStart, true);\n        this.webGLContainer.canvas.addEventListener(\"touchmove\", this.handleTouchMove, true);\n    };\n    Events.prototype.isBodyFocus = function (callback) {\n        return function (_event) {\n            if (window.document.activeElement === window.document.body) {\n                callback(_event);\n            }\n            else {\n                // console.trace('body is not focused when event triggered', event);\n            }\n        };\n    };\n    Events.prototype.getQuaternion = function (alpha, beta, gamma) {\n        var degtorad = Math.PI / 180.0;\n        var radtodeg = 180.0 / Math.PI;\n        var _x = beta ? beta * degtorad : 0;\n        var _y = gamma ? gamma * degtorad : 0;\n        var _z = alpha ? alpha * degtorad : 0;\n        var cX = Math.cos(_x / 2);\n        var cY = Math.cos(_y / 2);\n        var cZ = Math.cos(_z / 2);\n        var sX = Math.sin(_x / 2);\n        var sY = Math.sin(_y / 2);\n        var sZ = Math.sin(_z / 2);\n        var w = cX * cY * cZ - sX * sY * sZ;\n        var x = sX * cY * cZ - cX * sY * sZ;\n        var y = cX * sY * cZ + sX * cY * sZ;\n        var z = cX * cY * sZ + sX * sY * cZ;\n        var screenAccData = new Coordinate_1.default(0, 0, 0);\n        switch (this.orientation) {\n            case 90:\n                screenAccData.x = -x;\n                screenAccData.y = z;\n                break;\n            case 180:\n                screenAccData.x = -z;\n                screenAccData.y = -x;\n                break;\n            case 270:\n            case -90:\n                screenAccData.x = x;\n                screenAccData.y = -z;\n                break;\n            default:\n                screenAccData.x = z;\n                screenAccData.y = x;\n                break;\n        }\n        // convert to engine coords\n        return [\n            (screenAccData.x * radtodeg) / w,\n            (-1 * screenAccData.y * radtodeg) / w,\n            (y * radtodeg) / w,\n            1.0,\n        ];\n    };\n    Events.DOWN = 1;\n    Events.DRAG = 2;\n    Events.UP = 3;\n    Events.RESIZE = 4;\n    Events.ORIENTATION = 5;\n    Events.KEY_DOWN = 6;\n    Events.KEY_UP = 7;\n    Events.SYSTEM_EVENTS = 8;\n    return Events;\n}());\nexports.default = Events;\nexports.event = new Events();\n//# sourceMappingURL=Events.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelPosition_1 = require(\"./ModelPosition\");\nvar IdGenerator_1 = require(\"../Common/IdGenerator\");\nvar EngineObject = /** @class */ (function (_super) {\n    __extends(EngineObject, _super);\n    function EngineObject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.$hidden = false;\n        _this.$id = (0, IdGenerator_1.generateId)();\n        _this.clone = false;\n        _this.isTop = false;\n        _this.isLastEvent = false;\n        return _this;\n    }\n    EngineObject.prototype.copyTexture = function (obj) {\n        this.shaderEntity.rendererTextureRef = obj.shaderEntity.rendererTextureRef;\n        this.shaderEntity.vertexModel = obj.shaderEntity.vertexModel;\n        this.shaderEntity.rendererBufferId = obj.shaderEntity.rendererBufferId;\n    };\n    Object.defineProperty(EngineObject.prototype, \"shaderEntity\", {\n        get: function () {\n            if (this._shaderEntity !== undefined &&\n                this._shaderEntity.hidden !== this.$hidden) {\n                this._shaderEntity.hidden = this.$hidden;\n            }\n            return this._shaderEntity;\n        },\n        set: function (shaderEntity) {\n            this._shaderEntity = shaderEntity;\n            this._shaderEntity.isTop = this.isTop;\n            this._shaderEntity.clone = this.clone;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EngineObject.prototype, \"hidden\", {\n        get: function () {\n            return this.$hidden;\n        },\n        set: function (value) {\n            this.setHidden(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EngineObject.prototype.setHidden = function (value) {\n        this.$hidden = value;\n        if (this.shaderEntity) {\n            this.shaderEntity.hidden = value;\n        }\n    };\n    EngineObject.prototype.setTop = function (isTop) {\n        this.isTop = isTop;\n        if (!this.shaderEntity)\n            return;\n        this.shaderEntity.isTop = isTop;\n    };\n    EngineObject.prototype.setClone = function (clone) {\n        this.clone = clone;\n        if (!this.shaderEntity)\n            return;\n        this.shaderEntity.clone = clone;\n    };\n    EngineObject.prototype.update = function (engineHelper) { };\n    EngineObject.prototype.render = function (engineHelper) { };\n    EngineObject.prototype.event = function (event, engineHelper) {\n        return;\n    };\n    EngineObject.prototype.init = function (engineHelper) { };\n    return EngineObject;\n}(ModelPosition_1.default));\nexports.default = EngineObject;\n//# sourceMappingURL=EngineObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FontCharacter = exports.FontMeta = void 0;\nvar FontMeta = /** @class */ (function () {\n    function FontMeta() {\n        this.fonts = {};\n    }\n    return FontMeta;\n}());\nexports.FontMeta = FontMeta;\nvar FontCharacter = /** @class */ (function () {\n    function FontCharacter() {\n    }\n    return FontCharacter;\n}());\nexports.FontCharacter = FontCharacter;\nvar FontMetaData = /** @class */ (function () {\n    function FontMetaData() {\n    }\n    return FontMetaData;\n}());\nexports.default = FontMetaData;\n//# sourceMappingURL=FontMetaData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderUnit_1 = require(\"./RenderUnit\");\nvar VertexModel_1 = require(\"./VertexModel\");\nvar ModelData_1 = require(\"./ModelData\");\nvar EngineObjectHelper_1 = require(\"../EngineEntity/EngineObjectHelper\");\nvar TextureVertexModel = /** @class */ (function (_super) {\n    __extends(TextureVertexModel, _super);\n    function TextureVertexModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextureVertexModel.prototype.createRenderUnits = function (count) {\n        this.renderUnits = [];\n        for (var index = 0; index < count; index++) {\n            this.renderUnits.push(new RenderUnit_1.TextureRenderUnit());\n        }\n        return this;\n    };\n    TextureVertexModel.prototype.fillRenderUnits = function (values) {\n        this.renderUnits = [];\n        for (var index = 0; index < values.length; index += 8) {\n            var renderUnit = new RenderUnit_1.TextureRenderUnit();\n            renderUnit.vertex.x = values[index];\n            renderUnit.vertex.y = values[index + 1];\n            renderUnit.vertex.z = values[index + 2];\n            renderUnit.normal.x = values[index + 3];\n            renderUnit.normal.y = values[index + 4];\n            renderUnit.normal.z = values[index + 5];\n            renderUnit.texture.u = values[index + 6];\n            renderUnit.texture.v = values[index + 7];\n            this.renderUnits.push(renderUnit);\n        }\n        return this;\n    };\n    TextureVertexModel.prototype.createModel = function () {\n        var model = new ModelData_1.default();\n        model.vertices = EngineObjectHelper_1.default.vertex.toTextureArray(this.renderUnits);\n        return model;\n    };\n    return TextureVertexModel;\n}(VertexModel_1.default));\nexports.default = TextureVertexModel;\n//# sourceMappingURL=TextureVertexModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Colour = /** @class */ (function () {\n    function Colour(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n    return Colour;\n}());\nexports.default = Colour;\n//# sourceMappingURL=Colour.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelData = /** @class */ (function () {\n    function ModelData() {\n        this.$id = ModelData._$ID++;\n    }\n    ModelData._$ID = 1;\n    return ModelData;\n}());\nexports.default = ModelData;\n//# sourceMappingURL=ModelData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderUnit_1 = require(\"./RenderUnit\");\nvar VertexModel_1 = require(\"./VertexModel\");\nvar ModelData_1 = require(\"./ModelData\");\nvar EngineObjectHelper_1 = require(\"../EngineEntity/EngineObjectHelper\");\nvar ColourVertexModel = /** @class */ (function (_super) {\n    __extends(ColourVertexModel, _super);\n    function ColourVertexModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColourVertexModel.prototype.createRenderUnits = function (count) {\n        this.renderUnits = [];\n        for (var index = 0; index < count; index++) {\n            this.renderUnits.push(new RenderUnit_1.ColourRenderUnit());\n        }\n        return this;\n    };\n    ColourVertexModel.prototype.fillRenderUnits = function (values) {\n        this.renderUnits = [];\n        for (var index = 0; index < values.length; index += 7) {\n            var renderUnit = new RenderUnit_1.ColourRenderUnit();\n            renderUnit.vertex.x = values[index];\n            renderUnit.vertex.y = values[index + 1];\n            renderUnit.vertex.z = values[index + 2];\n            renderUnit.colour.r = values[index + 3];\n            renderUnit.colour.g = values[index + 4];\n            renderUnit.colour.b = values[index + 5];\n            renderUnit.colour.a = values[index + 6];\n            this.renderUnits.push(renderUnit);\n        }\n        return this;\n    };\n    ColourVertexModel.prototype.createModel = function () {\n        var model = new ModelData_1.default();\n        model.vertices = EngineObjectHelper_1.default.vertex.toColourArray(this.renderUnits);\n        return model;\n    };\n    return ColourVertexModel;\n}(VertexModel_1.default));\nexports.default = ColourVertexModel;\n//# sourceMappingURL=ColourVertexModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntity_1 = require(\"../EngineEntity/ShaderEntity\");\nvar ShaderEntityBuilder = /** @class */ (function () {\n    function ShaderEntityBuilder(engineHelper) {\n        this.engineHelper = engineHelper;\n    }\n    ShaderEntityBuilder.prototype.createTexture = function (textureSource) {\n        this.textureSource = textureSource;\n        this.hasTexture = true;\n        return this;\n    };\n    ShaderEntityBuilder.prototype.addBuffer = function (vertexModel) {\n        this.vertexModel = vertexModel;\n        return this;\n    };\n    ShaderEntityBuilder.prototype.build = function (engineObject, opt) {\n        if (!this.vertexModel) {\n            console.error(\"VertexModel is undefined\", this);\n        }\n        var entity = new ShaderEntity_1.ShaderEntity();\n        var entityOption = entity.getOpt();\n        entityOption.renderType = opt.renderType;\n        entityOption.shaderType = opt.shaderType;\n        entity.model = engineObject.getModel;\n        entity.modelPosition = function () { return engineObject.position; };\n        entity.vertexModel = this.vertexModel;\n        entity.vertexModel.registerModel(this.engineHelper);\n        this.engineHelper.registerEntity(entity);\n        if (this.hasTexture) {\n            entity.src = this.textureSource;\n            this.engineHelper.createTexture(entity);\n        }\n        return entity;\n    };\n    ShaderEntityBuilder.clone = function (shaderEntity) {\n        return Object.assign(new ShaderEntity_1.ShaderEntity(), shaderEntity);\n    };\n    return ShaderEntityBuilder;\n}());\nexports.default = ShaderEntityBuilder;\n//# sourceMappingURL=ShaderEntityBuilder.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelPosition_1 = require(\"../Core/EngineEntity/ModelPosition\");\nvar Physics_1 = require(\"../Core/Physics/Physics\");\nvar EntityManager_1 = require(\"../Manager/EntityManager\");\nvar Coordinate_1 = require(\"../Core/Data/Coordinate\");\nvar EngineMath_1 = require(\"../Core/Physics/EngineMath\");\nvar Rect2d_1 = require(\"../Core/Data/Rect2d\");\nvar Moveable = /** @class */ (function (_super) {\n    __extends(Moveable, _super);\n    function Moveable() {\n        var _this = _super.call(this) || this;\n        _this.dampenReduction = 0.0;\n        _this.completeSimulation = function () {\n            _this.resetPhysics();\n        };\n        _this.resetPhysics = function () {\n            _this.physics.t.x = _this.position.x;\n            _this.physics.t.y = _this.position.y;\n            _this.physics.t.z = _this.position.z;\n            _this.physics.d.x = 0;\n            _this.physics.d.y = 0;\n            _this.physics.d.z = 0;\n            _this.physics.isMoving = false;\n            _this.physics.collisionIteration = 0;\n        };\n        _this.physicSimulation = function (simulationId, time, _) {\n            var physics = _this.physics;\n            physics.isMoving = true;\n            var dx = physics.v.x * time;\n            var dy = physics.v.y * time;\n            var model = _this;\n            if (physics.collisionSize) {\n                physics.modelPos.setRect(physics.collisionSize);\n                physics.modelPos.$physicsId = _this.$physicsId;\n                model = physics.modelPos;\n            }\n            var _a = _this.resolveCollision(model, dx, dy), _dx = _a[0], _dy = _a[1], collision = _a[2];\n            if (_this.shouldTranslate(collision)) {\n                physics.collisionIteration = 0;\n            }\n            else {\n                _this.addDampener(time);\n                dx = _dx;\n                dy = _dy;\n                physics.collisionIteration++;\n                if (physics.collisionIteration > physics.collisionStopItThres) {\n                    _this.cancelSimulation(simulationId);\n                }\n            }\n            _this.movementRotation(physics.v.x);\n            _this.translate(dx, dy, 0);\n            if (physics.collisionSize) {\n                physics.modelPos.translate(dx, dy, 0);\n                physics.collisionSize.x += dx;\n                physics.collisionSize.y += dy;\n            }\n            if (_this.isBounded) {\n                _this.updateLocBoundToBoundary();\n            }\n            _this.completePhysicsIteration(time);\n        };\n        _this.physics = {\n            t: new Coordinate_1.default(0, 0, 0),\n            d: new Coordinate_1.default(0, 0, 0),\n            v: new Coordinate_1.default(0, 0, 0),\n            a: new Coordinate_1.default(0, 0, 0),\n            modelPos: new ModelPosition_1.default(),\n            isMoving: false,\n            collisionSize: undefined,\n            bound: new Rect2d_1.default(0, 0, 1.0, 1.0),\n            simulationId: undefined,\n            jumpSimulationId: undefined,\n            gravitySimulationId: undefined,\n            collisionIteration: 0,\n            collisionStopItThres: 5,\n        };\n        _this.isMoveable = true;\n        _this.isBounded = true;\n        _this.hasCollision = true;\n        return _this;\n    }\n    Moveable.prototype.updatePhysicsPosition = function () {\n        this.physics.t.x = this.position.x;\n        this.physics.t.y = this.position.y;\n        this.physics.t.z = this.position.z;\n    };\n    Moveable.prototype.updateDeltaDistance = function (x, y, z) {\n        if (x !== undefined) {\n            this.physics.d.x = x - this.position.x;\n            this.physics.t.x = x;\n        }\n        else {\n            this.physics.d.x = this.physics.t.x - this.position.x;\n        }\n        if (y !== undefined) {\n            this.physics.d.y = y - this.position.y;\n            this.physics.t.y = y;\n        }\n        else {\n            this.physics.d.y = this.physics.t.y - this.position.y;\n        }\n        if (z !== undefined) {\n            this.physics.d.z = z - this.position.z;\n            this.physics.t.z = z;\n        }\n        else {\n            this.physics.d.z = this.physics.t.z - this.position.z;\n        }\n    };\n    Moveable.prototype.updateLocBoundToBoundary = function () {\n        var _a;\n        var pos = this.physics.collisionSize\n            ? this.physics.modelPos.position\n            : this.position;\n        var boundRect = (_a = this.physics.bound) !== null && _a !== void 0 ? _a : new Rect2d_1.default(0, 0, 1, 1, 0);\n        var coordinate = EngineMath_1.default.boundRect(boundRect, this.physics.collisionSize\n            ? this.physics.modelPos.position\n            : this.position);\n        var dx = 0;\n        var dy = 0;\n        if (pos.x !== coordinate.x) {\n            this.physics.v.x = 0;\n            dx = coordinate.x - pos.x;\n        }\n        if (pos.y !== coordinate.y) {\n            this.physics.v.y = 0;\n            dy = coordinate.y - pos.y;\n        }\n        this.center(this.position.x + dx, this.position.y + dy, this.position.z);\n    };\n    Moveable.prototype.calcTotalDeltaDistance = function () {\n        return Math.sqrt(this.physics.d.x * this.physics.d.x +\n            this.physics.d.y * this.physics.d.y +\n            this.physics.d.z * this.physics.d.z);\n    };\n    Moveable.prototype.translateTo = function (velocity, dx, dy, dz, complete) {\n        var directionalModifier = dx !== 0 ? 10e-6 * (this.physics.d.x < 0 ? -1 : 1) : 0;\n        this.physics.t.x += (dx || 0) + directionalModifier;\n        this.physics.t.y += dy || 0;\n        this.physics.t.z += dz || 0;\n        this.moveTo(velocity, this.physics.t.x, this.physics.t.y, this.physics.t.z, complete);\n    };\n    Moveable.prototype.shouldTranslate = function (colliding) {\n        return colliding.length === 0;\n    };\n    Moveable.prototype.moveToTime = function (time, x, y, z, complete) {\n        var _this = this;\n        var _a;\n        Physics_1.default.cancelSimulation((_a = this.physics.simulationId) !== null && _a !== void 0 ? _a : 0, true);\n        if (!this.isMoveable) {\n            return;\n        }\n        var physics = this.physics;\n        this.updateDeltaDistance(x, y, z);\n        var totalTime = Math.max(time, 10e-6);\n        this.movementRotation(physics.d.x);\n        var completeSim = this.completeSimulation;\n        if (complete) {\n            completeSim = function () {\n                _this.completeSimulation();\n                complete();\n            };\n        }\n        physics.simulationId = Physics_1.default.runSimulation(totalTime, this.moveSimulation.bind(this), completeSim, physics.simulationId);\n    };\n    Moveable.prototype.movementRotation = function (dx) {\n        if (this.isRotateMove) {\n            if (dx > 0) {\n                this.rotateY(0);\n            }\n            else if (dx < 0) {\n                this.rotateY(180);\n            }\n        }\n    };\n    Moveable.prototype.moveTo = function (velocity, x, y, z, complete) {\n        var _this = this;\n        var _a;\n        Physics_1.default.cancelSimulation((_a = this.physics.simulationId) !== null && _a !== void 0 ? _a : 0, true);\n        if (!this.isMoveable) {\n            return;\n        }\n        var physics = this.physics;\n        this.updateDeltaDistance(x, y, z);\n        var distance = this.calcTotalDeltaDistance();\n        var totalTime = distance / velocity;\n        this.movementRotation(physics.d.x);\n        var completeSim = this.completeSimulation;\n        if (complete) {\n            completeSim = function () {\n                _this.completeSimulation();\n                complete();\n            };\n        }\n        physics.simulationId = Physics_1.default.runSimulation(totalTime, this.moveSimulation.bind(this), completeSim, physics.simulationId);\n    };\n    Moveable.prototype.addDampener = function (time) {\n        var dampeningProp = time / 1000.0;\n        var xSign = Math.sign(this.physics.v.x);\n        this.physics.v.x -= xSign * this.dampenReduction * dampeningProp;\n        if (xSign !== Math.sign(this.physics.v.x)) {\n            this.physics.v.x = 0;\n        }\n        var ySign = Math.sign(this.physics.v.y);\n        this.physics.v.y -= ySign * this.dampenReduction * dampeningProp;\n        if (ySign !== Math.sign(this.physics.v.y)) {\n            this.physics.v.y = 0;\n        }\n        if (Math.abs(this.physics.v.x) < 10e-6) {\n            this.physics.v.x = 0;\n        }\n        if (Math.abs(this.physics.v.y) < 10e-6) {\n            this.physics.v.y = 0;\n        }\n    };\n    Moveable.prototype.addImpulse = function (acceleration, contactTime) {\n        this.physics.v.x += acceleration.x * contactTime;\n        this.physics.v.y += acceleration.y * contactTime;\n    };\n    Moveable.prototype.setVelocity = function (velocity) {\n        this.physics.v.x = velocity.x;\n        this.physics.v.y = velocity.y;\n    };\n    Moveable.prototype.runPhysicsSimulation = function (simulationId, totalTime) {\n        if (totalTime === void 0) { totalTime = Physics_1.default.TIME_STEP_MILLIS * 2.0; }\n        Physics_1.default.runSimulation(totalTime, this.physicSimulation, this.completeSimulation, simulationId);\n    };\n    Moveable.prototype.completePhysicsIteration = function (_) { };\n    Moveable.prototype.resolveCollision = function (model, dx, dy) {\n        if (this.hasCollision) {\n            return Physics_1.default.isCollidingResolve(model, dx, dy);\n        }\n        else {\n            return [dx, dy, []];\n        }\n    };\n    Moveable.prototype.cancelSimulation = function (simulationId) {\n        var simulation = Physics_1.default.simulations[simulationId];\n        if (simulation === null || simulation === void 0 ? void 0 : simulation.completeSimulation) {\n            simulation.completeSimulation();\n        }\n        Physics_1.default.cancelSimulation(simulationId);\n    };\n    Moveable.prototype.moveSimulation = function (simulationId, time, totalRunTime) {\n        if (Math.abs(totalRunTime) < 10e-6) {\n            return;\n        }\n        var physics = this.physics;\n        physics.isMoving = true;\n        var propTime = Math.min(1.0, time / totalRunTime);\n        var dx = physics.d.x * propTime;\n        var dy = physics.d.y * propTime;\n        var dz = physics.d.z * propTime;\n        this.translateCollision(simulationId, dx, dy, dz);\n        this.completePhysicsIteration(time);\n    };\n    Moveable.prototype.translateCollision = function (simulationId, dx, dy, dz) {\n        var physics = this.physics;\n        var model = this;\n        if (physics.collisionSize) {\n            physics.modelPos.setRect(physics.collisionSize);\n            physics.modelPos.$physicsId = this.$physicsId;\n            model = physics.modelPos;\n        }\n        var colliding = Physics_1.default.isCollidingOffset2d(model, dx, dy);\n        if (this.shouldTranslate(colliding)) {\n            this.translate(dx, dy, dz);\n            if (physics.collisionSize) {\n                physics.modelPos.translate(dx, dy, 0);\n                physics.collisionSize.x += dx;\n                physics.collisionSize.y += dy;\n            }\n            if (this.isBounded) {\n                this.updateLocBoundToBoundary();\n            }\n            this.physics.collisionIteration = 0;\n        }\n        else {\n            this.physics.collisionIteration++;\n            if (this.physics.collisionIteration > this.physics.collisionStopItThres) {\n                this.cancelSimulation(simulationId);\n            }\n        }\n    };\n    Moveable.prototype.setMoveable = function (isMoving) {\n        this.isMoveable = isMoving;\n    };\n    Moveable.prototype.copyTexture = function (obj) {\n        this.shaderEntity ? _super.prototype.copyTexture.call(this, obj) : undefined;\n        this.entities.forEach(function (entity) { return entity.copyTexture(obj); });\n    };\n    return Moveable;\n}(EntityManager_1.default));\nexports.default = Moveable;\n//# sourceMappingURL=Moveable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WorldDelegate = /** @class */ (function () {\n    function WorldDelegate() {\n    }\n    WorldDelegate.prototype.setEngineHelper = function (engineHelper) {\n        this.engineHelper = engineHelper;\n    };\n    WorldDelegate.prototype.loadResources = function (resources) {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.update = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.render = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.event = function (event) {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.pause = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.resume = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.init = function (engineHelper) {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.destroy = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.reset = function () { };\n    return WorldDelegate;\n}());\nexports.default = WorldDelegate;\n//# sourceMappingURL=WorldDelegate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar App_1 = require(\"./App\");\nvar PlaneType_1 = require(\"./Data/PlaneType\");\nvar RenderOption_1 = require(\"./Data/RenderOption\");\nvar TextureVertexModel_1 = require(\"./Data/TextureVertexModel\");\nvar EngineObjectHelper_1 = require(\"./EngineEntity/EngineObjectHelper\");\nvar Font_1 = require(\"./Font/Font\");\nvar Renderer_1 = require(\"./Renderer\");\nvar CollisionDetection_1 = require(\"./Physics/CollisionDetection\");\nvar EngineHelper = /** @class */ (function () {\n    function EngineHelper(notificationQueue, subscriberPool, camera) {\n        var _this = this;\n        this.resourcesLoading = [];\n        this.bufferCache = {};\n        this.fontCache = {};\n        this.fontNameKeyReverse = {};\n        this.uvCache = {};\n        this.vertexUVCache = {};\n        this.cacheId = 0;\n        this.camera = camera;\n        this.notificationQueue = notificationQueue;\n        this.subscriberPool = subscriberPool;\n        subscriberPool.listen(App_1.AppSubscription.GET_FPS, function (fps) { return (_this.fps = fps); });\n    }\n    EngineHelper.prototype.startIteration = function () {\n        this.subscriberPool.publish(App_1.AppSubscription.START_ITERATION);\n    };\n    EngineHelper.prototype.render = function (entity) {\n        var shaderProgram = entity.opt.shaderType;\n        if ((shaderProgram === RenderOption_1.ShaderType.TWO_DIMENSION ||\n            shaderProgram === RenderOption_1.ShaderType.COLOUR) &&\n            this.camera.camera3d.isOutOfBound(entity.modelPosition())) {\n            return;\n        }\n        var model = entity.getModel();\n        if (entity.clone) {\n            model = model.slice(0);\n        }\n        this.notificationQueue.pushPayload(Renderer_1.RendererNotification.renderEntity(entity, model));\n    };\n    EngineHelper.prototype.renderCopy = function (entity, pos) {\n        this.render(entity.shaderEntity.renderCopy(pos));\n    };\n    EngineHelper.prototype.setLighting = function (light) {\n        this.notificationQueue.pushPayload(Renderer_1.RendererNotification.setLighting(light));\n    };\n    EngineHelper.prototype.createTexture = function (object) {\n        this.subscriberPool.publish(Renderer_1.RendererSubscription.CREATE_TEXTURE, Renderer_1.RendererSubscription.createTexturePayload(object, this.resourcesLoading));\n    };\n    EngineHelper.prototype.getFPS = function () {\n        return this.fps;\n    };\n    EngineHelper.prototype.getTotalPixelHeight = function () {\n        return window.screen.height;\n    };\n    EngineHelper.prototype.getTotalPixelWidth = function () {\n        return window.screen.width;\n    };\n    EngineHelper.prototype.getScreenHeight = function () {\n        return this.camera.height;\n    };\n    EngineHelper.prototype.getScreenWidth = function () {\n        return this.camera.width;\n    };\n    EngineHelper.prototype.setTime = function (time) {\n        if (time) {\n            this.time = time;\n        }\n    };\n    EngineHelper.prototype.getTime = function () {\n        return this.time;\n    };\n    EngineHelper.prototype.getVerticesById = function (id) {\n        if (this.bufferCache[id]) {\n            return this.bufferCache[id].vertices;\n        }\n        else {\n            console.error(\"Unable to find src in cache\", id, this);\n            throw new Error(\"unable to find src in cache\");\n        }\n    };\n    EngineHelper.prototype.updateBufferCache = function (buffer, verticesCacheId) {\n        buffer.cacheId = verticesCacheId;\n        this.bufferCache[verticesCacheId] = buffer;\n        return verticesCacheId;\n    };\n    EngineHelper.prototype.addBufferCache = function (buffer) {\n        var cacheId = this.cacheId++;\n        this.bufferCache[cacheId] = buffer;\n        buffer.cacheId = cacheId;\n        return cacheId;\n    };\n    EngineHelper.prototype.getResource = function (src) {\n        var _this = this;\n        var promise = new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            console.log(\"Loading resource \".concat(src));\n            xhr.open(\"GET\", src);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === XMLHttpRequest.DONE) {\n                    // handle file:// loading with status 0\n                    if (xhr.status === 200 || xhr.status === 0) {\n                        var cacheId_1 = _this.cacheId++;\n                        resolve({\n                            data: xhr.responseText,\n                            engineHelper: _this,\n                            cacheId: cacheId_1,\n                            registerBuffer: function (obj) {\n                                _this.bufferCache[cacheId_1] = obj;\n                            },\n                            registerFont: function (meta) {\n                                var font = new Font_1.default(meta);\n                                _this.fontCache[cacheId_1] = {\n                                    meta: meta,\n                                    font: font,\n                                };\n                                _this.fontNameKeyReverse[src] = cacheId_1;\n                            },\n                        });\n                    }\n                    else {\n                        reject(xhr.responseText);\n                    }\n                }\n            };\n            xhr.send();\n        });\n        this.resourcesLoading.push(promise);\n        return promise;\n    };\n    EngineHelper.prototype.getAllResourcesLoading = function () {\n        return Promise.all(this.resourcesLoading);\n    };\n    EngineHelper.prototype.updateBuffer = function (object) {\n        this.updateBufferCache(object.vertexModel.createModel(), object.vertexModel.vertexBufferId);\n        var notification = Renderer_1.RendererNotification.updateBuffer(object, this.getBuffer(object));\n        this.notificationQueue.pushPayload(notification);\n    };\n    EngineHelper.prototype.getBufferModelData = function (object) {\n        return this.bufferCache[object.getVertexBufferId()];\n    };\n    EngineHelper.prototype.getBuffer = function (object) {\n        var buffer = this.getBufferModelData(object).vertices;\n        if (!buffer) {\n            throw new Error(\"No buffer was found for this entity\");\n        }\n        return buffer;\n    };\n    EngineHelper.prototype.registerEntity = function (object) {\n        this.subscriberPool.publish(Renderer_1.RendererSubscription.REGISTER_ENTITY, Renderer_1.RendererSubscription.registerEntityPayload(object, this.getBufferModelData(object)));\n    };\n    EngineHelper.prototype.initFont = function () {\n        for (var fontType in this.fontCache) {\n            if (!this.fontCache.hasOwnProperty(fontType)) {\n                continue;\n            }\n            var font = this.fontCache[fontType].font;\n            font.init(this);\n        }\n    };\n    EngineHelper.prototype.renderFont = function () {\n        for (var fontType in this.fontCache) {\n            if (!this.fontCache.hasOwnProperty(fontType)) {\n                continue;\n            }\n            var font = this.fontCache[fontType].font;\n            font.render(this);\n        }\n    };\n    EngineHelper.prototype.updateFont = function () {\n        for (var fontType in this.fontCache) {\n            if (!this.fontCache.hasOwnProperty(fontType)) {\n                continue;\n            }\n            var font = this.fontCache[fontType].font;\n            font.update(this);\n        }\n    };\n    EngineHelper.prototype.newVertexModel2d = function (cacheId) {\n        return this.newVertexModel(cacheId, PlaneType_1.default.YX);\n    };\n    EngineHelper.prototype.newVertexModelUv3d = function (cacheId) {\n        var cache = this.vertexUVCache[cacheId];\n        var vertexModel = new TextureVertexModel_1.default().fillRenderUnits(cache.uv);\n        vertexModel.textureSource = cache.source;\n        return vertexModel;\n    };\n    EngineHelper.prototype.createPlaneVertexModel = function (src, uv, plane) {\n        var vertexModel = new TextureVertexModel_1.default().createRenderUnits(4);\n        vertexModel.textureSource = src;\n        EngineObjectHelper_1.default.vertex.plane(vertexModel.renderUnits, plane);\n        EngineObjectHelper_1.default.vertex.planeUV(vertexModel.renderUnits, uv);\n        return vertexModel;\n    };\n    EngineHelper.prototype.getUVCache = function (name) {\n        return this.uvCache[name].uv;\n    };\n    EngineHelper.prototype.addUVCache = function (source, name, uv) {\n        this.uvCache[name] = { source: source, uv: uv };\n    };\n    EngineHelper.prototype.getVertexUvCache = function (name) {\n        return this.vertexUVCache[name].uv;\n    };\n    EngineHelper.prototype.newVertexModel = function (cacheId, plane) {\n        var cache = this.uvCache[cacheId];\n        if (!cache) {\n            var cache_1 = this.uvCache[\"missing\"];\n            console.warn(\"texture \".concat(cacheId, \" has not been loaded - loading default texture\"));\n            return this.createPlaneVertexModel(cache_1.source, cache_1.uv, plane);\n        }\n        return this.createPlaneVertexModel(cache.source, cache.uv, plane);\n    };\n    EngineHelper.prototype.addVertexUvCache = function (textureSource, name, vertexUv) {\n        this.vertexUVCache[name] = { source: textureSource, uv: vertexUv };\n    };\n    EngineHelper.prototype.writeFont = function (fontRef) {\n        var fontCacheId = undefined;\n        if (typeof fontRef.$cacheId === \"string\") {\n            fontCacheId = this.fontNameKeyReverse[fontRef.$cacheId];\n        }\n        else if (typeof fontRef.$cacheId === \"number\") {\n            fontCacheId = fontRef.$cacheId;\n        }\n        else if (fontRef.$cacheId !== undefined) {\n            throw new Error(\"fontId is not a number or string\");\n        }\n        var font;\n        if (fontCacheId === undefined) {\n            font = Font_1.default.DefaultFont;\n        }\n        else {\n            font = this.fontCache[fontCacheId].font;\n        }\n        return font.writeRef(fontRef);\n    };\n    EngineHelper.prototype.isClickedObject = function (event, object) {\n        return this.isClicked(event, object.getRect2());\n    };\n    EngineHelper.prototype.isClicked = function (event, rect) {\n        var distance = this.camera.camera3d.distanceEvent(event);\n        return CollisionDetection_1.CollisionDetection.isPointInRect(rect, distance);\n    };\n    EngineHelper.prototype.rotate = function (event, rect) {\n        var _a = this.camera.camera3d.position, x = _a.x, y = _a.y;\n        return CollisionDetection_1.CollisionDetection.rotate(x + event.x, y + event.y, rect);\n    };\n    EngineHelper.prototype.updateProjectionMatrix = function () {\n        this.notificationQueue.pushPayload(Renderer_1.RendererNotification.UPDATE_PROJECTION_MATRIX);\n    };\n    return EngineHelper;\n}());\nexports.default = EngineHelper;\n//# sourceMappingURL=EngineHelper.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Rect3d_1 = require(\"./Rect3d\");\nvar Rect2d = /** @class */ (function (_super) {\n    __extends(Rect2d, _super);\n    function Rect2d(x, y, width, height, layer) {\n        return _super.call(this, x, y, layer || 0, width, height, 1) || this;\n    }\n    Rect2d.create = function () {\n        return new Rect2d(0, 0, 0, 0, 0);\n    };\n    Rect2d.prototype.newCenter = function () {\n        return new Rect2d(this.x + this.width / 2.0, this.y + this.height / 2.0, this.width, this.height, this.z);\n    };\n    return Rect2d;\n}(Rect3d_1.default));\nexports.default = Rect2d;\n//# sourceMappingURL=Rect2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Plane2d_1 = require(\"./Plane2d\");\nvar Timer_1 = require(\"../Core/Common/Timer\");\nvar EntityManager2d_1 = require(\"../Manager/EntityManager2d\");\nvar SpriteModel = /** @class */ (function (_super) {\n    __extends(SpriteModel, _super);\n    function SpriteModel(rect, ticks, textures) {\n        var _this = _super.call(this) || this;\n        _this.spriteIdx = 0;\n        _this.timer = new Timer_1.default();\n        _this.setRect(rect);\n        _this.ticks = ticks;\n        _this.textures = textures;\n        return _this;\n    }\n    SpriteModel.prototype.update = function (_) { };\n    SpriteModel.prototype.render = function (engineHelper) {\n        var _a;\n        (_a = this.entities[this.spriteIdx]) === null || _a === void 0 ? void 0 : _a.render(engineHelper);\n        this.calcSpriteIdx();\n    };\n    SpriteModel.prototype.calcSpriteIdx = function () {\n        if (this.timer.peak() > this.ticks) {\n            var spriteLength = this.entities.length;\n            this.spriteIdx += Math.round(this.timer.peak() / this.ticks);\n            if (this.spriteIdx >= spriteLength) {\n                var idxFactor = this.spriteIdx / spriteLength;\n                this.spriteIdx = Math.round((idxFactor - Math.floor(idxFactor)) * spriteLength);\n                if (this.spriteIdx >= spriteLength) {\n                    console.error(\"index out of bound after shaping\", this.spriteIdx);\n                    this.spriteIdx = 0;\n                }\n            }\n            this.timer.start();\n        }\n    };\n    SpriteModel.prototype.init = function (engineHelper) {\n        var _this = this;\n        if (!this.textures) {\n            return;\n        }\n        for (var index = 0; index < this.textures.length; index++) {\n            this.entities.push(new Plane2d_1.default(this.getRect(), this.textures[index]));\n        }\n        this.entities.forEach(function (e) {\n            e.setTop(_this.isTop);\n            e.hidden = _this.hidden;\n        });\n        this.center(this.position.x, this.position.y, this.position.z);\n        this.rotateOrigin(this.position.x, this.position.y, this.position.z);\n        this.rotateZ(180);\n        _super.prototype.init.call(this, engineHelper);\n        this.timer.start();\n    };\n    return SpriteModel;\n}(EntityManager2d_1.default));\nexports.default = SpriteModel;\n//# sourceMappingURL=SpriteModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AppSubscription = exports.WebGLContainer = void 0;\nvar Camera_1 = require(\"./Camera\");\nvar Updater_1 = require(\"./Updater\");\nvar Renderer_1 = require(\"./Renderer\");\nvar EngineHelper_1 = require(\"./EngineHelper\");\nvar Events_1 = require(\"./Events\");\nvar Timer_1 = require(\"./Common/Timer\");\nvar NotificationQueue_1 = require(\"./Common/NotificationQueue\");\nvar SubscriberPool_1 = require(\"./Common/SubscriberPool\");\nvar WebGLContainer = /** @class */ (function () {\n    function WebGLContainer(elementId, parentElement, aspectRatio, isFullScreen, restoreContentFn) {\n        this.isFullScreen = isFullScreen;\n        this.aspectRatio = aspectRatio;\n        this.canvas = document.createElement(\"canvas\");\n        if (elementId) {\n            this.canvas.id = elementId;\n        }\n        else {\n            this.canvas.id = \"app\";\n        }\n        this.canvas.addEventListener(\"webglcontextlost\", function (event) { return event.preventDefault(); }, false);\n        this.canvas.addEventListener(\"webglcontextrestored\", restoreContentFn, false);\n        parentElement.appendChild(this.canvas);\n    }\n    WebGLContainer.prototype.delete = function () {\n        this.canvas.style.display = \"none\";\n        if (this.canvas.parentElement) {\n            this.canvas.parentElement.removeChild(this.canvas);\n        }\n    };\n    WebGLContainer.prototype.resize = function (measureElement) {\n        var width = measureElement.offsetWidth;\n        var height = width / this.getAspectRatio();\n        if (this.isFullScreen) {\n            width = window.innerWidth;\n            height = window.innerHeight;\n        }\n        this.canvas.width = width * window.devicePixelRatio;\n        this.canvas.height = height * window.devicePixelRatio;\n        this.canvas.style.height = \"\".concat(height, \"px\");\n        this.canvas.style.width = \"\".concat(width, \"px\");\n    };\n    WebGLContainer.prototype.getAspectRatio = function () {\n        var aspectRatio = this.aspectRatio;\n        if (!aspectRatio) {\n            var width = window.innerWidth ||\n                document.documentElement.clientWidth ||\n                document.body.clientWidth;\n            var height = window.innerHeight ||\n                document.documentElement.clientHeight ||\n                document.body.clientHeight;\n            aspectRatio = width / height;\n        }\n        return aspectRatio;\n    };\n    WebGLContainer.prototype.getCtx = function () {\n        var ctx = this.canvas.getContext(\"webgl\") ||\n            this.canvas.getContext(\"experimental-webgl\");\n        if (!ctx) {\n            throw new Error(\"WebGL not avaliable\");\n        }\n        return ctx;\n    };\n    return WebGLContainer;\n}());\nexports.WebGLContainer = WebGLContainer;\nvar AppSubscription = /** @class */ (function () {\n    function AppSubscription() {\n    }\n    AppSubscription.START_ITERATION = new SubscriberPool_1.Subscription(\"App#StartIteration\");\n    AppSubscription.GET_FPS = new SubscriberPool_1.Subscription(\"App#GetFPS\");\n    return AppSubscription;\n}());\nexports.AppSubscription = AppSubscription;\nvar App = /** @class */ (function () {\n    function App(args) {\n        var _this = this;\n        this.ready = false;\n        this.isPaused = true;\n        this.frameTime = 0.0;\n        this.framesElapsed = 0;\n        this.setup = function () {\n            var args = _this.args;\n            _this.timer = new Timer_1.default();\n            _this.camera = new Camera_1.default();\n            _this.updater = new Updater_1.default(args);\n            _this.renderer = new Renderer_1.default(args, _this.webGLContainer, _this.camera, _this.notificationQueue, _this.subscriberPool);\n            _this.camera.setupCamera(args.camera, args.aspectRatio, _this.webGLContainer.canvas);\n            _this.engineHelper = new EngineHelper_1.default(_this.notificationQueue, _this.subscriberPool, _this.camera);\n            _this.world = _this.args.world;\n            _this.world.setEngineHelper(_this.engineHelper);\n        };\n        this.onEvent = function (event) {\n            if (event.eventType === Events_1.default.RESIZE) {\n                _this.resizeScreen();\n            }\n            if (_this.world) {\n                _this.world.event(event);\n            }\n            return true;\n        };\n        this.destroy = function () {\n            clearInterval(_this.interval);\n            _this.renderer.delete();\n            Events_1.event.delete(_this.onEvent);\n            _this.webGLContainer.delete();\n            console.log(\"destroying\", _this);\n        };\n        this.animationFrame = function () {\n            if (!_this.ready) {\n                return;\n            }\n            try {\n                _this.updater.update(_this.timer.peak(), _this.engineHelper);\n                _this.renderer.render(_this.timer.peak(), _this.engineHelper);\n                _this.notifyFrames();\n                _this.timer.start();\n            }\n            catch (error) {\n                console.error(error);\n                clearInterval(_this.interval);\n                if (_this.errorCallback) {\n                    _this.errorCallback(error);\n                }\n            }\n        };\n        this.startIteration = function () { return requestAnimationFrame(_this.animationFrame); };\n        this.notifyFrames = function () {\n            _this.frameTime += _this.timer.peak();\n            _this.framesElapsed++;\n            if (_this.framesElapsed === 60) {\n                if (_this.args.subscribe) {\n                    _this.args.subscribe({\n                        fps: (1000.0 / _this.frameTime) * _this.framesElapsed,\n                    });\n                }\n                _this.framesElapsed = 0;\n                _this.frameTime = 0;\n            }\n        };\n        this.startRunLoop = function () {\n            _this.timer.start();\n            var fps = _this.fps;\n            _this.interval = setInterval(function () {\n                if (!_this.isPaused) {\n                    _this.animationFrame();\n                }\n                if (_this.isStepRender) {\n                    clearInterval(_this.interval);\n                    _this.interval = undefined;\n                }\n                if (_this.fps !== fps) {\n                    clearInterval(_this.interval);\n                    _this.interval = undefined;\n                    _this.startRunLoop();\n                }\n            }, fps);\n        };\n        this.initSystem = function () {\n            _this.initFont();\n            _this.world.init(_this.engineHelper);\n            _this.renderer.init();\n            return _this.engineHelper.getAllResourcesLoading();\n        };\n        this.loadResources = function (resources) {\n            _this.world.loadResources(resources);\n            return _this.engineHelper.getAllResourcesLoading();\n        };\n        this.runApp = function () {\n            _this.ready = true;\n            if (!_this.isStepRender) {\n                _this.startRunLoop();\n            }\n            else {\n                _this.animationFrame();\n            }\n        };\n        this.onRunError = function (error) {\n            clearInterval(_this.interval);\n            console.error(error);\n            throw error;\n        };\n        this.run = function () {\n            console.log(\"Running\", _this);\n            var startTime = new Date();\n            return _this.loadResources(_this.args.resources)\n                .then(_this.initSystem)\n                .then(_this.renderer.bindBuffer)\n                .then(_this.runApp)\n                .then(function () {\n                return console.log(\"startup time: \".concat(new Date().getTime() - startTime.getTime()));\n            })\n                .then(function () {\n                return new Promise(function (resolve) {\n                    setTimeout(resolve, 1);\n                });\n            })\n                .catch(_this.onRunError);\n        };\n        this.resizeCanvas = function (measureElement) {\n            _this.webGLContainer.resize(measureElement);\n        };\n        this.resizeScreen = function () {\n            var measureElement = document.getElementById(_this.args.elementId);\n            _this.resizeCanvas(measureElement);\n            _this.camera.setupCamera(_this.args.camera, _this.args.aspectRatio, _this.webGLContainer.canvas);\n            _this.notificationQueue.push(Renderer_1.RendererNotification.RESIZE_SCREEN);\n            if (_this.isStepRender && _this.ready) {\n                _this.animationFrame();\n            }\n        };\n        this.buildCanvas = function (args) {\n            if (_this.webGLContainer) {\n                return;\n            }\n            var appElement = document.body;\n            if (args.elementId) {\n                appElement = document.getElementById(args.elementId);\n            }\n            _this.webGLContainer = new WebGLContainer(args.canvasId, appElement, args.aspectRatio, args.isFullScreen, _this.setup);\n            _this.resizeCanvas(appElement);\n        };\n        this.reset = function () {\n            if (_this.world) {\n                _this.world.reset();\n            }\n            else {\n                console.error(\"Game Delegate not ready to call reset\");\n            }\n        };\n        this.toggleShow = function () {\n            if (_this.isVisible) {\n                _this.hide();\n            }\n            else {\n                _this.show();\n            }\n        };\n        this.show = function () {\n            _this.webGLContainer.canvas.style.display = \"initial\";\n            _this.resizeScreen();\n            _this.isVisible = true;\n        };\n        this.hide = function () {\n            _this.webGLContainer.canvas.style.display = \"none\";\n            _this.isVisible = false;\n        };\n        this.togglePause = function () {\n            _this.isPaused = !_this.isPaused;\n        };\n        this.pause = function () {\n            _this.isPaused = true;\n        };\n        this.unpause = function () {\n            _this.isPaused = false;\n        };\n        if (!args) {\n            throw new Error(\"no args passed into App\");\n        }\n        this.notificationQueue = new NotificationQueue_1.default();\n        this.subscriberPool = new SubscriberPool_1.default();\n        this.subscriberPool.listen(AppSubscription.START_ITERATION, this.startIteration);\n        this.args = args;\n        this.buildCanvas(args);\n        this.isStepRender = args.isStepRender || false;\n        Events_1.event.bind(this.onEvent, this.webGLContainer);\n        Events_1.event.setThrottle(args.eventThrottle || 1000.0 / 25.0);\n        this.errorCallback = args.error;\n        this.setup();\n        if (args.clearColour) {\n            this.renderer.glContext.setClearColor(args.clearColour);\n        }\n        this.setFPS(args.fps);\n    }\n    App.prototype.setFPS = function (fps) {\n        this.fps = 1000.0 / fps || 1000.0 / 30.0;\n        this.subscriberPool.publish(AppSubscription.GET_FPS, this.fps);\n    };\n    App.prototype.toggleStepRender = function (run) {\n        if (run === void 0) { run = !this.isStepRender; }\n        this.isStepRender = run;\n        if (!this.isStepRender && !this.interval) {\n            this.startRunLoop();\n        }\n    };\n    App.prototype.initFont = function () {\n        this.engineHelper.initFont();\n    };\n    return App;\n}());\nexports.default = App;\n//# sourceMappingURL=App.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotificationPayload = exports.Notification = void 0;\nvar Notification = /** @class */ (function () {\n    function Notification(key, action) {\n        this.key = key;\n        this.action = action;\n    }\n    return Notification;\n}());\nexports.Notification = Notification;\nvar NotificationPayload = /** @class */ (function (_super) {\n    __extends(NotificationPayload, _super);\n    function NotificationPayload(key, action, data) {\n        var _this = _super.call(this, key, action) || this;\n        _this.data = data;\n        return _this;\n    }\n    NotificationPayload.from = function (notification, data) {\n        return new NotificationPayload(notification.key, notification.action, data);\n    };\n    return NotificationPayload;\n}(Notification));\nexports.NotificationPayload = NotificationPayload;\nvar LinkedList = /** @class */ (function () {\n    function LinkedList(data) {\n        this.data = data;\n    }\n    return LinkedList;\n}());\nvar NotificationQueue = /** @class */ (function () {\n    function NotificationQueue() {\n        this.queueMap = {};\n    }\n    NotificationQueue.prototype.clearQueue = function () {\n        this.queueMap = {};\n    };\n    NotificationQueue.prototype.pushPayload = function (notification) {\n        var key = notification.key;\n        var nodes = this.queueMap[key];\n        if (!nodes) {\n            this.queueMap[key] = { bottom: undefined, top: undefined };\n            nodes = this.queueMap[key];\n        }\n        if (!nodes.bottom) {\n            nodes.bottom = new LinkedList(notification);\n            nodes.top = nodes.bottom;\n        }\n        else if (nodes.top) {\n            nodes.top.next = new LinkedList(notification);\n            nodes.top = nodes.top.next;\n        }\n        else {\n            throw new Error(\"Unexpected state for notification push payload\");\n        }\n    };\n    NotificationQueue.prototype.push = function (notification, data) {\n        if (notification instanceof NotificationPayload) {\n            console.error(\"Please use pushPayload\");\n        }\n        this.pushPayload(new NotificationPayload(notification.key, notification.action, data));\n    };\n    NotificationQueue.prototype.pushNotification = function (key, action) {\n        this.push(new Notification(key, action));\n    };\n    NotificationQueue.prototype.take = function (key) {\n        var bottom = this.getBottom(key);\n        if (!bottom) {\n            return undefined;\n        }\n        var data = this.peak(key);\n        if (!data) {\n            throw new Error(\"Expected data to appear when reading data from notification\");\n        }\n        this.shiftQueue(key);\n        return data;\n    };\n    NotificationQueue.prototype.shiftQueue = function (key) {\n        var nodes = this.queueMap[key];\n        var bottom = nodes.bottom;\n        if (bottom) {\n            nodes.bottom = bottom.next;\n            if (!nodes.bottom) {\n                nodes.top = undefined;\n            }\n        }\n        else {\n            throw new Error(\"Trying to shift queue with bottom undefined\");\n        }\n    };\n    NotificationQueue.prototype.getBottom = function (key) {\n        return this.queueMap[key] ? this.queueMap[key].bottom : undefined;\n    };\n    NotificationQueue.prototype.peak = function (key) {\n        var bottom = this.getBottom(key);\n        return (bottom && bottom.data) || undefined;\n    };\n    return NotificationQueue;\n}());\nexports.default = NotificationQueue;\n//# sourceMappingURL=NotificationQueue.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Colour_1 = require(\"../../Data/Colour\");\nvar WebGLContext = /** @class */ (function () {\n    function WebGLContext(ctx) {\n        this.clearColour = new Colour_1.default(1.0, 1.0, 1.0, 1.0);\n        this.ctx = ctx;\n    }\n    WebGLContext.prototype.setClearColor = function (colour) {\n        this.clearColour = colour;\n        this.ctx.clearColor(colour.r, colour.g, colour.b, colour.a);\n    };\n    WebGLContext.prototype.setupDefault = function () {\n        this.setClearColor(this.clearColour);\n        this.ctx.enable(this.ctx.BLEND);\n        this.ctx.blendFunc(this.ctx.SRC_ALPHA, this.ctx.ONE_MINUS_SRC_ALPHA);\n        this.ctx.enable(this.ctx.CULL_FACE);\n        this.ctx.frontFace(this.ctx.CCW);\n        this.ctx.cullFace(this.ctx.BACK);\n        this.ctx.clearDepth(1);\n        this.ctx.enable(this.ctx.DEPTH_TEST);\n        this.ctx.depthFunc(this.ctx.LEQUAL);\n    };\n    WebGLContext.prototype.clear = function () {\n        this.ctx.clear(this.ctx.COLOR_BUFFER_BIT | this.ctx.DEPTH_BUFFER_BIT);\n    };\n    WebGLContext.prototype.deleteTexture = function (texture) {\n        this.ctx.deleteTexture(texture);\n    };\n    WebGLContext.prototype.resizeViewPort = function (canvas) {\n        this.ctx.viewport(0, 0, canvas.width, canvas.height);\n    };\n    WebGLContext.prototype.getWebGL2RenderingContext = function () {\n        return this.ctx;\n    };\n    WebGLContext.prototype.destroyWebGL = function () {\n        var ctx = this.ctx;\n        var ctx2 = this.getWebGL2RenderingContext();\n        var isWebGL2RenderingContext = !!ctx2.createTransformFeedback;\n        if (isWebGL2RenderingContext) {\n            ctx2.bindVertexArray(null);\n        }\n        var numAttribs = ctx.getParameter(ctx.MAX_VERTEX_ATTRIBS);\n        var tmp = ctx.createBuffer();\n        ctx.bindBuffer(ctx.ARRAY_BUFFER, tmp);\n        for (var ii = 0; ii < numAttribs; ++ii) {\n            ctx.disableVertexAttribArray(ii);\n            ctx.vertexAttribPointer(ii, 4, ctx.FLOAT, false, 0, 0);\n            ctx.vertexAttrib1f(ii, 0);\n            if (isWebGL2RenderingContext) {\n                ctx2.vertexAttribDivisor(ii, 0);\n            }\n        }\n        ctx.deleteBuffer(tmp);\n        var numTextureUnits = ctx.getParameter(ctx.MAX_TEXTURE_IMAGE_UNITS);\n        for (var ii = 0; ii < numTextureUnits; ++ii) {\n            ctx.activeTexture(ctx.TEXTURE0 + ii);\n            ctx.bindTexture(ctx.TEXTURE_CUBE_MAP, null);\n            ctx.bindTexture(ctx.TEXTURE_2D, null);\n            if (isWebGL2RenderingContext) {\n                ctx2.bindTexture(ctx2.TEXTURE_2D_ARRAY, null);\n                ctx2.bindTexture(ctx2.TEXTURE_3D, null);\n                ctx2.bindSampler(ii, null);\n            }\n        }\n        ctx.activeTexture(ctx.TEXTURE0);\n        ctx.useProgram(null);\n        ctx.bindBuffer(ctx.ARRAY_BUFFER, null);\n        ctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, null);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        ctx.disable(ctx.BLEND);\n        ctx.disable(ctx.CULL_FACE);\n        ctx.disable(ctx.DEPTH_TEST);\n        ctx.disable(ctx.DITHER);\n        ctx.disable(ctx.SCISSOR_TEST);\n        ctx.blendColor(0, 0, 0, 0);\n        ctx.blendEquation(ctx.FUNC_ADD);\n        ctx.blendFunc(ctx.ONE, ctx.ZERO);\n        ctx.clearColor(0, 0, 0, 0);\n        ctx.clearDepth(1);\n        ctx.clearStencil(-1);\n        ctx.colorMask(true, true, true, true);\n        ctx.cullFace(ctx.BACK);\n        ctx.depthFunc(ctx.LESS);\n        ctx.depthMask(true);\n        ctx.depthRange(0, 1);\n        ctx.frontFace(ctx.CCW);\n        ctx.hint(ctx.GENERATE_MIPMAP_HINT, ctx.DONT_CARE);\n        ctx.lineWidth(1);\n        ctx.pixelStorei(ctx.PACK_ALIGNMENT, 4);\n        ctx.pixelStorei(ctx.UNPACK_ALIGNMENT, 4);\n        ctx.pixelStorei(ctx.UNPACK_FLIP_Y_WEBGL, 0);\n        ctx.pixelStorei(ctx.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0);\n        if (ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL) {\n            ctx.pixelStorei(ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL, ctx.BROWSER_DEFAULT_WEBGL);\n        }\n        ctx.polygonOffset(0, 0);\n        ctx.sampleCoverage(1, false);\n        ctx.scissor(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.stencilFunc(ctx.ALWAYS, 0, 0xffffffff);\n        ctx.stencilMask(0xffffffff);\n        ctx.stencilOp(ctx.KEEP, ctx.KEEP, ctx.KEEP);\n        ctx.viewport(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.clear(ctx.COLOR_BUFFER_BIT | ctx.DEPTH_BUFFER_BIT | ctx.STENCIL_BUFFER_BIT);\n        if (isWebGL2RenderingContext) {\n            ctx2.drawBuffers([ctx2.BACK]);\n            ctx2.readBuffer(ctx2.BACK);\n            ctx2.bindBuffer(ctx2.COPY_READ_BUFFER, null);\n            ctx2.bindBuffer(ctx2.COPY_WRITE_BUFFER, null);\n            ctx2.bindBuffer(ctx2.PIXEL_PACK_BUFFER, null);\n            ctx2.bindBuffer(ctx2.PIXEL_UNPACK_BUFFER, null);\n            var numTransformFeedbacks = ctx.getParameter(ctx2.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS);\n            for (var ii = 0; ii < numTransformFeedbacks; ++ii) {\n                ctx2.bindBufferBase(ctx2.TRANSFORM_FEEDBACK_BUFFER, ii, null);\n            }\n            var numUBOs = ctx.getParameter(ctx2.MAX_UNIFORM_BUFFER_BINDINGS);\n            for (var ii = 0; ii < numUBOs; ++ii) {\n                ctx2.bindBufferBase(ctx2.UNIFORM_BUFFER, ii, null);\n            }\n            ctx2.disable(ctx2.RASTERIZER_DISCARD);\n            ctx2.pixelStorei(ctx2.UNPACK_IMAGE_HEIGHT, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_SKIP_IMAGES, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_ROW_LENGTH, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_SKIP_ROWS, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_SKIP_PIXELS, 0);\n            ctx2.pixelStorei(ctx2.PACK_ROW_LENGTH, 0);\n            ctx2.pixelStorei(ctx2.PACK_SKIP_ROWS, 0);\n            ctx2.pixelStorei(ctx2.PACK_SKIP_PIXELS, 0);\n            ctx2.hint(ctx2.FRAGMENT_SHADER_DERIVATIVE_HINT, ctx2.DONT_CARE);\n        }\n    };\n    WebGLContext.prototype.programInfo = function (program) {\n        var numAttribs = this.ctx.getProgramParameter(program, this.ctx.ACTIVE_ATTRIBUTES);\n        for (var ii = 0; ii < numAttribs; ++ii) {\n            var attribInfo = this.ctx.getActiveAttrib(program, ii);\n            if (!attribInfo) {\n                break;\n            }\n            console.log(this.ctx.getAttribLocation(program, attribInfo.name), attribInfo.name);\n        }\n    };\n    return WebGLContext;\n}());\nexports.default = WebGLContext;\n//# sourceMappingURL=WebGLContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VertexModel = /** @class */ (function () {\n    function VertexModel() {\n    }\n    VertexModel.prototype.registerModel = function (engineHelper) {\n        if (!this.vertexBufferId) {\n            this.vertexBufferId = engineHelper.addBufferCache(this.createModel());\n        }\n    };\n    return VertexModel;\n}());\nexports.default = VertexModel;\n//# sourceMappingURL=VertexModel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseCamera = void 0;\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar ModelPosition_1 = require(\"./EngineEntity/ModelPosition\");\nvar Coordinate_1 = require(\"./Data/Coordinate\");\nvar Timer_1 = require(\"./Common/Timer\");\nvar Rect2d_1 = require(\"./Data/Rect2d\");\nvar CollisionDetection_1 = require(\"./Physics/CollisionDetection\");\nvar BaseCamera = /** @class */ (function (_super) {\n    __extends(BaseCamera, _super);\n    function BaseCamera() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.zoomScale = { x: 2, y: 2, z: 2 };\n        _this.baseTranslate = { x: -1, y: -1, z: 0 };\n        _this._isUpdateView = true;\n        _this.timer = new Timer_1.default();\n        _this.updateProjectionView = function () {\n            _this._isUpdateView = true;\n        };\n        _this.commitProjectionView = function () {\n            _this._isUpdateView = false;\n            var quatRotationxyz = gl_matrix_1.quat.create();\n            quatRotationxyz = gl_matrix_1.quat.rotateX(quatRotationxyz, quatRotationxyz, _this.degreesToRadians(_this.position.ax));\n            quatRotationxyz = gl_matrix_1.quat.rotateY(quatRotationxyz, quatRotationxyz, _this.degreesToRadians(_this.position.ay));\n            quatRotationxyz = gl_matrix_1.quat.rotateZ(quatRotationxyz, quatRotationxyz, _this.degreesToRadians(_this.position.az));\n            quatRotationxyz = gl_matrix_1.quat.normalize(quatRotationxyz, quatRotationxyz);\n            var dest = gl_matrix_1.mat4.create();\n            var quatMat = gl_matrix_1.mat4.create();\n            gl_matrix_1.mat4.fromQuat(quatMat, quatRotationxyz);\n            gl_matrix_1.mat4.multiply(dest, dest, quatMat);\n            var pos = gl_matrix_1.vec3.fromValues(-_this.position.x, -_this.position.y, -_this.position.z);\n            gl_matrix_1.mat4.translate(dest, dest, pos);\n            _this.viewMatrix = dest;\n        };\n        _this.perspective = function () {\n            return gl_matrix_1.mat4.perspective(gl_matrix_1.mat4.create(), _this.degreesToRadians(_this.fov), _this.aspect, _this.near, _this.far);\n        };\n        _this.updateProjectionMatrix = function () {\n            _this.frustum = _this.perspective();\n        };\n        return _this;\n    }\n    BaseCamera.prototype.clearPan = function () {\n        if (this.interval) {\n            clearInterval(this.interval);\n            this.interval = undefined;\n        }\n    };\n    BaseCamera.prototype.pan = function (time, speed, x, y, z) {\n        var _this = this;\n        if (this.interval) {\n            clearInterval(this.interval);\n            this.interval = undefined;\n        }\n        this.steps = time;\n        this._moveTime = time;\n        if (x !== undefined) {\n            this.dx = x - this.position.x;\n            this.tx = x;\n        }\n        else {\n            this.dx = 0;\n            this.tx = this.position.x;\n        }\n        if (y !== undefined) {\n            this.dy = y - this.position.y;\n            this.ty = y;\n        }\n        else {\n            this.dy = 0;\n            this.ty = this.position.y;\n        }\n        if (z !== undefined) {\n            this.dz = z - this.position.z;\n            this.tz = z;\n        }\n        else {\n            this.dz = 0;\n            this.tz = this.position.z;\n        }\n        this.timer.start();\n        this.interval = setInterval(function () {\n            var time = _this.timer.peak();\n            if (_this.steps > 0) {\n                _this.steps -= time;\n                if (_this.steps <= 0) {\n                    _this.position.x = _this.tx;\n                    _this.position.y = _this.ty;\n                    _this.position.z = _this.tz;\n                    if (_this.interval) {\n                        clearInterval(_this.interval);\n                        _this.interval = undefined;\n                    }\n                }\n                else {\n                    _this.position.x += (_this.dx * time) / _this._moveTime;\n                    _this.position.y += (_this.dy * time) / _this._moveTime;\n                    _this.position.z += (_this.dz * time) / _this._moveTime;\n                }\n                _this.updateProjectionView();\n            }\n            else {\n                _this.position.x = _this.tx;\n                _this.position.y = _this.ty;\n                _this.position.z = _this.tz;\n                if (_this.interval) {\n                    clearInterval(_this.interval);\n                    _this.interval = undefined;\n                }\n                _this.updateProjectionView();\n            }\n            _this.timer.start();\n        }, speed);\n    };\n    BaseCamera.prototype.isOutOfBound = function (bound, pos) {\n        return false;\n    };\n    BaseCamera.prototype.isUpdateView = function () {\n        return this._isUpdateView;\n    };\n    BaseCamera.prototype.angleX = function (dx) {\n        this.position.ax -= dx;\n        if (this.position.ax > 90) {\n            var diff = 90;\n            this.position.ax = diff;\n        }\n        else if (this.position.ax < -90) {\n            var diff = -90;\n            this.position.ax = diff;\n        }\n    };\n    BaseCamera.prototype.angleZ = function (dz) {\n        this.position.az += dz;\n        if (this.position.az > 360) {\n            var diff = this.position.az - 360;\n            this.position.az = diff;\n        }\n        else if (this.position.az < 0) {\n            var diff = this.position.az + 360;\n            this.position.az = diff;\n        }\n    };\n    BaseCamera.prototype.angleY = function (dy) {\n        var _a, _b;\n        if ((_b = (_a = this.cameraOptions) === null || _a === void 0 ? void 0 : _a.experimental) === null || _b === void 0 ? void 0 : _b.inverseAngleY) {\n            if (dy) {\n                dy *= -1;\n            }\n        }\n        this.position.ay += dy;\n        if (this.position.ay > 360) {\n            var diff = this.position.ay - 360;\n            this.position.ay = diff;\n        }\n        else if (this.position.ay < 0) {\n            var diff = this.position.ay + 360;\n            this.position.ay = diff;\n        }\n    };\n    BaseCamera.prototype.zoomIn = function (delta) {\n        this.fov -= delta;\n        this.fov = Math.max(delta, this.fov);\n        this.updateProjectionMatrix();\n    };\n    BaseCamera.prototype.zoomOut = function (delta) {\n        var maxFovAspect = (Math.atan(1.0 / this.aspect) * 360.0) / Math.PI;\n        this.fov += delta;\n        this.fov = Math.min(Math.min(this.cameraOptions.maxFov || maxFovAspect, maxFovAspect), this.fov);\n        this.updateProjectionMatrix();\n    };\n    BaseCamera.prototype.setupCamera = function (cameraOptions, aspectRatio, canvas) {\n        var _a;\n        this.cameraOptions = cameraOptions || {};\n        var near = this.near || cameraOptions.near || 1.0;\n        var far = this.far || cameraOptions.far || 4.0;\n        var aspect = cameraOptions.aspect || canvas.width / canvas.height;\n        if ((_a = this.cameraOptions.experimental) === null || _a === void 0 ? void 0 : _a.enabled) {\n            var width = canvas.offsetWidth;\n            var height = canvas.offsetHeight;\n            var zoom = {\n                x: width <= height ? 2 : (2 * aspectRatio) / (width / height),\n                y: height <= width ? 2 : (2 * aspectRatio) / (width / height),\n                z: 1,\n            };\n            this.setZoom(zoom);\n            this.setBaseTranslate({\n                x: -1 + (2 - zoom.x) / 2,\n                y: -1 + (2 - zoom.y) / 2,\n                z: 0,\n            });\n        }\n        var fov = this.fov || cameraOptions.fov || 45.0;\n        if (cameraOptions.isFovMax) {\n            var maxFovAspect = (Math.atan(1.0 / aspect) * 360.0) / Math.PI;\n            fov = maxFovAspect;\n        }\n        this.aspect = aspect;\n        this.fov = fov;\n        this.near = near;\n        this.far = far;\n        this.updateProjectionMatrix();\n        this.updateProjectionView();\n    };\n    BaseCamera.prototype.setZoom = function (zoom) {\n        this.zoomScale = zoom;\n    };\n    BaseCamera.prototype.setBaseTranslate = function (baseTranslate) {\n        this.baseTranslate = baseTranslate;\n    };\n    return BaseCamera;\n}(ModelPosition_1.default));\nexports.BaseCamera = BaseCamera;\nvar Camera2d = /** @class */ (function (_super) {\n    __extends(Camera2d, _super);\n    function Camera2d() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.INTERVAL_TIME = 10;\n        _this.bound = new Rect2d_1.default(0, 0, 1, 1);\n        _this.perspective = function () {\n            var translateSpace = gl_matrix_1.mat4.create();\n            gl_matrix_1.mat4.translate(translateSpace, translateSpace, gl_matrix_1.vec3.fromValues(_this.baseTranslate.x, _this.baseTranslate.y, _this.baseTranslate.z));\n            gl_matrix_1.mat4.scale(translateSpace, translateSpace, gl_matrix_1.vec3.fromValues(_this.zoomScale.x, _this.zoomScale.y, 1.0));\n            return translateSpace;\n        };\n        return _this;\n    }\n    Camera2d.prototype.distanceEvent = function (event) {\n        return new Coordinate_1.default(event.x + this.position.x, this.position.y + event.y);\n    };\n    Camera2d.prototype.zoomIn = function (delta) {\n        this.zoomScale.x += delta;\n        this.zoomScale.y += delta;\n        this.updateProjectionMatrix();\n    };\n    Camera2d.prototype.zoomOut = function (delta) {\n        this.zoomScale.x = Math.max(0.1, this.zoomScale.x - delta);\n        this.zoomScale.y = Math.max(0.1, this.zoomScale.y - delta);\n        this.updateProjectionMatrix();\n    };\n    Camera2d.prototype.isOutOfBound = function (pos) {\n        this.bound.x = this.position.x + this.bound.width / 2.0;\n        this.bound.y = this.position.y + this.bound.height / 2.0;\n        return !CollisionDetection_1.CollisionDetection.isRectInRect(this.bound, pos);\n    };\n    Camera2d.prototype.pan2d = function (time, x, y) {\n        _super.prototype.pan.call(this, time, this.INTERVAL_TIME, x, y);\n    };\n    Camera2d.prototype.pan2dDif = function (time, dx, dy) {\n        var _a = this.position, x = _a.x, y = _a.y;\n        _super.prototype.pan.call(this, time, this.INTERVAL_TIME, x + (dx !== null && dx !== void 0 ? dx : 0), y + (dy !== null && dy !== void 0 ? dy : 0));\n    };\n    return Camera2d;\n}(BaseCamera));\nvar Camera3d = /** @class */ (function (_super) {\n    __extends(Camera3d, _super);\n    function Camera3d() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Camera3d.prototype.pan3d = function (time, x, y, z) {\n        _super.prototype.pan.call(this, time, this.INTERVAL_TIME, x, y, z);\n    };\n    return Camera3d;\n}(Camera2d));\nvar Camera = /** @class */ (function () {\n    function Camera() {\n        this.camera3d = new Camera3d();\n    }\n    Camera.prototype.setupCamera = function (cameraOptions, aspectRatio, canvas) {\n        this.camera3d.setupCamera(cameraOptions, aspectRatio || 1, canvas);\n        this.height = canvas.height;\n        this.width = canvas.width;\n    };\n    Camera.prototype.commitProjectionView = function () {\n        if (this.camera3d.isUpdateView()) {\n            this.camera3d.commitProjectionView();\n        }\n    };\n    return Camera;\n}());\nexports.default = Camera;\n//# sourceMappingURL=Camera.js.map","import {\n  ModelObject3d,\n  Rect3d,\n  TextureVertexModel,\n  EngineHelper\n} from \"../dist/index\";\n\nexport default class Sphere extends ModelObject3d {\n  vertexUvCacheId: string;\n  constructor(rect: Rect3d, vertexUvCacheId: string) {\n    super(rect, new TextureVertexModel());\n    this.vertexUvCacheId = vertexUvCacheId;\n  }\n  render(engineHelper: EngineHelper) {\n    engineHelper.render(this.shaderEntity);\n  }\n  init(engineHelper: EngineHelper) {\n    this.vertexModel = engineHelper.newVertexModelUv3d(this.vertexUvCacheId);\n    super.init(engineHelper);\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Rect2d_1 = require(\"../Data/Rect2d\");\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        var _this = _super.call(this, 0, 0, 0, 0, 0) || this;\n        _this.x = 0;\n        _this.y = 0;\n        _this.z = 0;\n        _this.ax = 0;\n        _this.ay = 0;\n        _this.az = 0;\n        _this.nx = 0;\n        _this.ny = 0;\n        _this.nz = 0;\n        _this.width = 0;\n        _this.height = 0;\n        _this.length = 0;\n        _this.scaleX = 1;\n        _this.scaleY = 1;\n        _this.scaleZ = 1;\n        _this.originX = 0;\n        _this.originY = 0;\n        _this.originZ = 0;\n        _this.maxHeight = 0;\n        _this.maxWidth = 0;\n        return _this;\n    }\n    return Position;\n}(Rect2d_1.default));\nexports.default = Position;\n//# sourceMappingURL=Position.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextureVertexModel = exports.RenderType = exports.Object3d = exports.ModelObject3d = exports.BitmapConfigParser = exports.Plane3d = exports.Coordinate = exports.Camera = exports.Polygon = exports.CollisionDetection = exports.Collision = exports.Events = exports.ConfigEntity = exports.generateId = exports.Timer = exports.Position = exports.Physics = exports.ModelPosition = exports.Rect2d = exports.Rect3d = exports.Moveable = exports.Colour = exports.PlaneType = exports.Light = exports.Resource = exports.ResourceResolver = exports.LineColour = exports.FontReference = exports.Font = exports.EntityManager2d = exports.EntityManager = exports.ObjectManager = exports.EngineMap = exports.EngineHelper = exports.EngineObject = exports.App = void 0;\nvar App_1 = require(\"./Core/App\");\nexports.App = App_1.default;\nvar EngineObject_1 = require(\"./Core/EngineEntity/EngineObject\");\nObject.defineProperty(exports, \"EngineObject\", { enumerable: true, get: function () { return EngineObject_1.default; } });\nvar EngineHelper_1 = require(\"./Core/EngineHelper\");\nObject.defineProperty(exports, \"EngineHelper\", { enumerable: true, get: function () { return EngineHelper_1.default; } });\nvar EngineMap_1 = require(\"./Core/EngineEntity/EngineMap\");\nObject.defineProperty(exports, \"EngineMap\", { enumerable: true, get: function () { return EngineMap_1.default; } });\nvar ObjectManager_1 = require(\"./Manager/ObjectManager\");\nObject.defineProperty(exports, \"ObjectManager\", { enumerable: true, get: function () { return ObjectManager_1.default; } });\nvar EntityManager_1 = require(\"./Manager/EntityManager\");\nObject.defineProperty(exports, \"EntityManager\", { enumerable: true, get: function () { return EntityManager_1.default; } });\nvar EntityManager2d_1 = require(\"./Manager/EntityManager2d\");\nObject.defineProperty(exports, \"EntityManager2d\", { enumerable: true, get: function () { return EntityManager2d_1.default; } });\nvar Font_1 = require(\"./Core/Font/Font\");\nObject.defineProperty(exports, \"Font\", { enumerable: true, get: function () { return Font_1.default; } });\nvar Font_2 = require(\"./Core/Font/Font\");\nObject.defineProperty(exports, \"FontReference\", { enumerable: true, get: function () { return Font_2.FontReference; } });\nvar LineColour_1 = require(\"./Entity/LineColour\");\nObject.defineProperty(exports, \"LineColour\", { enumerable: true, get: function () { return LineColour_1.default; } });\nvar ResourceResolver_1 = require(\"./AssetLoader/ResourceResolver\");\nObject.defineProperty(exports, \"ResourceResolver\", { enumerable: true, get: function () { return ResourceResolver_1.default; } });\nvar Resource_1 = require(\"./Core/Data/Resource\");\nObject.defineProperty(exports, \"Resource\", { enumerable: true, get: function () { return Resource_1.default; } });\nvar Light_1 = require(\"./Core/Data/Light\");\nObject.defineProperty(exports, \"Light\", { enumerable: true, get: function () { return Light_1.default; } });\nvar PlaneType_1 = require(\"./Core/Data/PlaneType\");\nObject.defineProperty(exports, \"PlaneType\", { enumerable: true, get: function () { return PlaneType_1.default; } });\nvar Colour_1 = require(\"./Core/Data/Colour\");\nObject.defineProperty(exports, \"Colour\", { enumerable: true, get: function () { return Colour_1.default; } });\nvar Moveable_1 = require(\"./Entity/Moveable\");\nObject.defineProperty(exports, \"Moveable\", { enumerable: true, get: function () { return Moveable_1.default; } });\nvar Rect3d_1 = require(\"./Core/Data/Rect3d\");\nObject.defineProperty(exports, \"Rect3d\", { enumerable: true, get: function () { return Rect3d_1.default; } });\nvar Rect2d_1 = require(\"./Core/Data/Rect2d\");\nObject.defineProperty(exports, \"Rect2d\", { enumerable: true, get: function () { return Rect2d_1.default; } });\nvar ModelPosition_1 = require(\"./Core/EngineEntity/ModelPosition\");\nObject.defineProperty(exports, \"ModelPosition\", { enumerable: true, get: function () { return ModelPosition_1.default; } });\nvar Physics_1 = require(\"./Core/Physics/Physics\");\nObject.defineProperty(exports, \"Physics\", { enumerable: true, get: function () { return Physics_1.default; } });\nvar Position_1 = require(\"./Core/EngineEntity/Position\");\nObject.defineProperty(exports, \"Position\", { enumerable: true, get: function () { return Position_1.default; } });\nvar Timer_1 = require(\"./Core/Common/Timer\");\nObject.defineProperty(exports, \"Timer\", { enumerable: true, get: function () { return Timer_1.default; } });\nvar IdGenerator_1 = require(\"./Core/Common/IdGenerator\");\nObject.defineProperty(exports, \"generateId\", { enumerable: true, get: function () { return IdGenerator_1.generateId; } });\nvar ConfigMapBuilder_1 = require(\"./Core/Builder/ConfigMapBuilder\");\nObject.defineProperty(exports, \"ConfigEntity\", { enumerable: true, get: function () { return ConfigMapBuilder_1.ConfigEntity; } });\nvar Events_1 = require(\"./Core/Events\");\nObject.defineProperty(exports, \"Events\", { enumerable: true, get: function () { return Events_1.default; } });\nvar CollisionDetection_1 = require(\"./Core/Physics/CollisionDetection\");\nObject.defineProperty(exports, \"Collision\", { enumerable: true, get: function () { return CollisionDetection_1.Collision; } });\nObject.defineProperty(exports, \"CollisionDetection\", { enumerable: true, get: function () { return CollisionDetection_1.CollisionDetection; } });\nObject.defineProperty(exports, \"Polygon\", { enumerable: true, get: function () { return CollisionDetection_1.Polygon; } });\nvar Camera_1 = require(\"./Core/Camera\");\nObject.defineProperty(exports, \"Camera\", { enumerable: true, get: function () { return Camera_1.default; } });\nvar Coordinate_1 = require(\"./Core/Data/Coordinate\");\nObject.defineProperty(exports, \"Coordinate\", { enumerable: true, get: function () { return Coordinate_1.default; } });\nvar Plane3d_1 = require(\"./Entity/Plane3d\");\nObject.defineProperty(exports, \"Plane3d\", { enumerable: true, get: function () { return Plane3d_1.default; } });\nvar BitmapConfigParser_1 = require(\"./AssetLoader/BitmapConfigParser\");\nObject.defineProperty(exports, \"BitmapConfigParser\", { enumerable: true, get: function () { return BitmapConfigParser_1.default; } });\nvar ModelObject3d_1 = require(\"./Core/EngineEntity/ModelObject3d\");\nObject.defineProperty(exports, \"ModelObject3d\", { enumerable: true, get: function () { return ModelObject3d_1.default; } });\nvar Object3d_1 = require(\"./Entity/Object3d\");\nObject.defineProperty(exports, \"Object3d\", { enumerable: true, get: function () { return Object3d_1.default; } });\nvar RenderOption_1 = require(\"./Core/Data/RenderOption\");\nObject.defineProperty(exports, \"RenderType\", { enumerable: true, get: function () { return RenderOption_1.RenderType; } });\nvar TextureVertexModel_1 = require(\"./Core/Data/TextureVertexModel\");\nObject.defineProperty(exports, \"TextureVertexModel\", { enumerable: true, get: function () { return TextureVertexModel_1.default; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Resource = /** @class */ (function () {\n    function Resource() {\n    }\n    return Resource;\n}());\nexports.default = Resource;\n//# sourceMappingURL=Resource.js.map","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Moveable_1 = require(\"./Moveable\");\nvar BasicSprite = /** @class */ (function (_super) {\n    __extends(BasicSprite, _super);\n    function BasicSprite(rect, spriteModel) {\n        var _this = _super.call(this) || this;\n        _this.spriteModel = spriteModel;\n        _this.spriteModel.setRect(rect);\n        _this.entities.push(_this.spriteModel);\n        return _this;\n    }\n    BasicSprite.prototype.render = function (engineHelper) {\n        this.spriteModel.render(engineHelper);\n    };\n    BasicSprite.prototype.update = function (engineHelper) {\n        this.spriteModel.update(engineHelper);\n    };\n    BasicSprite.prototype.init = function (engineHelper) {\n        _super.prototype.init.call(this, engineHelper);\n        this.setRect(this.spriteModel.getRect());\n        this.updatePhysicsPosition();\n    };\n    return BasicSprite;\n}(Moveable_1.default));\nexports.default = BasicSprite;\n//# sourceMappingURL=BasicSprite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RendererNotification = exports.RendererSubscription = void 0;\nvar RenderOption_1 = require(\"./Data/RenderOption\");\nvar Entity3DProgram_1 = require(\"./WebGL/EntityProgram/Entity3DProgram\");\nvar EntityColorProgram_1 = require(\"./WebGL/EntityProgram/EntityColorProgram\");\nvar WebGLContext_1 = require(\"./WebGL/Base/WebGLContext\");\nvar Texture_1 = require(\"./Buffer/Texture\");\nvar NotificationQueue_1 = require(\"./Common/NotificationQueue\");\nvar SubscriberPool_1 = require(\"./Common/SubscriberPool\");\nvar RendererSubscription = /** @class */ (function () {\n    function RendererSubscription() {\n    }\n    RendererSubscription.CREATE_TEXTURE = new SubscriberPool_1.Subscription(\"Renderer#CreateTexture\");\n    RendererSubscription.REGISTER_ENTITY = new SubscriberPool_1.Subscription(\"Renderer#RegisterEntity\");\n    RendererSubscription.createTexturePayload = function (object, resourcesLoading) { return [object, resourcesLoading]; };\n    RendererSubscription.registerEntityPayload = function (entity, buffer) { return [\n        entity,\n        buffer,\n    ]; };\n    return RendererSubscription;\n}());\nexports.RendererSubscription = RendererSubscription;\nvar RendererNotification = /** @class */ (function () {\n    function RendererNotification() {\n    }\n    RendererNotification.NOTIFICATION_PRE_RENDER_KEY = \"Renderer#Prerender\";\n    RendererNotification.NOTIFICATION_RENDER_KEY = \"Renderer#Render\";\n    RendererNotification.NOTIFICATION_INIT_KEY = \"Renderer#Init\";\n    RendererNotification.UPDATE_PROJECTION_MATRIX = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"UPDATE_PROJECTION_MATRIX\");\n    RendererNotification.RESIZE_SCREEN = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"RESIZE_SCREEN\");\n    RendererNotification.CREATE_TEXTURE = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_INIT_KEY, \"CREATE_TEXTURE\");\n    RendererNotification.REGISTER_ENTITY = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_INIT_KEY, \"REGISTER_ENTITY\");\n    RendererNotification.registerEntity = function (entity, modelData) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.REGISTER_ENTITY, [\n            entity,\n            modelData,\n        ]);\n    };\n    RendererNotification.UPDATE_BUFFER = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"UPDATE_BUFFER\");\n    RendererNotification.updateBuffer = function (entity, buffer) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.UPDATE_BUFFER, [\n            entity,\n            buffer,\n        ]);\n    };\n    RendererNotification.createTexture = function (object, resourcesLoading) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.CREATE_TEXTURE, [\n            object,\n            resourcesLoading,\n        ]);\n    };\n    RendererNotification.SET_LIGHTING = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"SET_LIGHTING\");\n    RendererNotification.setLighting = function (light) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.SET_LIGHTING, [light]);\n    };\n    RendererNotification.RENDER_ENTITY = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_RENDER_KEY, \"RENDER_ENTITY\");\n    RendererNotification.renderEntity = function (entity, model) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.RENDER_ENTITY, [\n            entity,\n            model,\n        ]);\n    };\n    return RendererNotification;\n}());\nexports.RendererNotification = RendererNotification;\nvar Renderer = /** @class */ (function () {\n    function Renderer(args, webGLContainer, camera, notificationQueue, subscriberPool) {\n        var _this = this;\n        this.textureReg = {};\n        this._renderEntities = {};\n        this.cachedModelData = {};\n        this.resizeViewPort = function () {\n            _this.glContext.resizeViewPort(_this.webGLContainer.canvas);\n        };\n        this.updatePerspective = function () {\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.updatePerspective(_this.camera.camera3d.frustum);\n            }\n            if (_this.shaderColourProgram) {\n                _this.shaderColourProgram.updatePerspective(_this.camera.camera3d.frustum);\n            }\n        };\n        this.delete = function () {\n            Object.values(_this.textureReg).forEach(function (texReg) {\n                var texture = texReg.texture;\n                if (texture.texture) {\n                    _this.glContext.deleteTexture(texture.texture);\n                }\n                texture.texture = undefined;\n                texture.texUnit = undefined;\n            });\n            Texture_1.default.textureCount = 0;\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.delete();\n            }\n            if (_this.shaderColourProgram) {\n                _this.shaderColourProgram.delete();\n            }\n            _this.glContext.destroyWebGL();\n        };\n        this.setLighting = function (light) {\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.setLight(light, _this.camera.camera3d);\n            }\n            else {\n                throw new Error(\"Lighting is set without any 3D entities\");\n            }\n        };\n        this.updateBuffer = function (entity, buffer) {\n            var opt = entity.getOpt();\n            var program = _this._getProgramOpt(opt);\n            program.updateBuffer(entity, buffer);\n        };\n        this._getProgram3D = function (opt) {\n            var program;\n            if (_this._isPlain(opt)) {\n                throw new Error(\"Plain no longer supported\");\n            }\n            else {\n                program = _this.shader3DProgram;\n            }\n            return program;\n        };\n        this._getProgramOpt = function (opt) {\n            var program;\n            if (RenderOption_1.ShaderType.COLOUR === opt.shaderType) {\n                program = _this.shaderColourProgram;\n            }\n            else if (RenderOption_1.ShaderType.THREE_DIMENSION === opt.shaderType ||\n                RenderOption_1.ShaderType.TWO_DIMENSION === opt.shaderType) {\n                program = _this._getProgram3D(opt);\n            }\n            else {\n                throw new Error(\"unsupported opt shader type\");\n            }\n            return program;\n        };\n        this._defRender = function () {\n            _this._defRenderTop(false);\n            _this._defRenderTop(true);\n        };\n        this._render = function (entity, model) {\n            if (entity.hidden) {\n                return;\n            }\n            var opt = entity.getOpt();\n            var payload = [entity, model];\n            if (RenderOption_1.ShaderType.COLOUR === opt.shaderType) {\n                _this._renderEntities[RenderOption_1.ShaderType.COLOUR].push(payload);\n            }\n            else if (RenderOption_1.ShaderType.THREE_DIMENSION === opt.shaderType) {\n                _this._renderEntities[RenderOption_1.ShaderType.THREE_DIMENSION].push(payload);\n            }\n            else if (RenderOption_1.ShaderType.TWO_DIMENSION === opt.shaderType) {\n                _this._renderEntities[RenderOption_1.ShaderType.TWO_DIMENSION].push(payload);\n            }\n        };\n        this.bindBuffer = function () {\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.bindBuffer();\n            }\n            if (_this.shaderColourProgram) {\n                _this.shaderColourProgram.bindBuffer();\n            }\n        };\n        this._resetDefferred = function () {\n            var _a;\n            _this._renderEntities = (_a = {},\n                _a[RenderOption_1.ShaderType.COLOUR] = [],\n                _a[RenderOption_1.ShaderType.THREE_DIMENSION] = [],\n                _a[RenderOption_1.ShaderType.TWO_DIMENSION] = [],\n                _a);\n        };\n        this.handleNotification = function (notification) {\n            var updatePerspective = false;\n            switch (notification.action) {\n                case RendererNotification.RENDER_ENTITY.action:\n                    _this._render(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.UPDATE_PROJECTION_MATRIX.action:\n                    updatePerspective = true;\n                    break;\n                case RendererNotification.RESIZE_SCREEN.action:\n                    _this.resizeViewPort();\n                    updatePerspective = true;\n                    break;\n                case RendererNotification.CREATE_TEXTURE.action:\n                    _this.createTexture(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.UPDATE_BUFFER.action:\n                    _this.updateBuffer(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.REGISTER_ENTITY.action:\n                    _this.registerEntity(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.SET_LIGHTING.action:\n                    _this.setLighting(notification.data[0]);\n                    break;\n                default:\n                    console.error(\"unhandled notification: \", notification);\n                    break;\n            }\n            if (updatePerspective) {\n                _this.updatePerspective();\n            }\n        };\n        if (!args.world) {\n            throw new Error(\"world not defined\");\n        }\n        this.notificationQueue = notificationQueue;\n        this.subscriberPool = subscriberPool;\n        this.camera = camera;\n        this.world = args.world;\n        this.webGLContainer = webGLContainer;\n        this.ctx = this.webGLContainer.getCtx();\n        this.glContext = new WebGLContext_1.default(this.ctx);\n        this.glContext.setupDefault();\n        this.subscriberPool.listen(RendererSubscription.CREATE_TEXTURE, function (data) {\n            var object = data[0], resourcesLoading = data[1];\n            _this.createTexture(object, resourcesLoading);\n        });\n        this.subscriberPool.listen(RendererSubscription.REGISTER_ENTITY, function (data) {\n            var entity = data[0], buffer = data[1];\n            _this.registerEntity(entity, buffer);\n        });\n    }\n    Renderer.prototype._isPlain = function (opt) {\n        return opt.renderType === RenderOption_1.RenderType.PLAIN;\n    };\n    Renderer.prototype._defRenderTop = function (isTop) {\n        // render colour\n        var colourModel = this._renderEntities[RenderOption_1.ShaderType.COLOUR].filter(function (e) { return !!e[0].isTop === isTop; });\n        if (colourModel.length > 0) {\n            this.shaderColourProgram.render(colourModel, this.camera.camera3d);\n        }\n        var model3d = this._renderEntities[RenderOption_1.ShaderType.THREE_DIMENSION].filter(function (e) { return !!e[0].isTop === isTop; });\n        if (model3d.length > 0) {\n            this.shader3DProgram.render3DShadowMap(model3d, this.resizeViewPort);\n            this.shader3DProgram.render(model3d, this.camera.camera3d, this.textureReg, false);\n        }\n        var model2d = this._renderEntities[RenderOption_1.ShaderType.TWO_DIMENSION].filter(function (e) { return !!e[0].isTop === isTop; });\n        if (model2d.length > 0) {\n            this.shader3DProgram.render(model2d, this.camera.camera3d, this.textureReg, true);\n        }\n    };\n    Renderer.prototype.init = function () {\n        this.readMessages(RendererNotification.NOTIFICATION_INIT_KEY);\n    };\n    Renderer.prototype.readMessages = function (key, isUniqueAction) {\n        if (isUniqueAction === void 0) { isUniqueAction = false; }\n        var message;\n        var unique = {};\n        while ((message = this.notificationQueue.take(key))) {\n            if (!isUniqueAction || unique[message.action] === undefined) {\n                this.handleNotification(message);\n                if (isUniqueAction) {\n                    unique[message.action] = true;\n                }\n            }\n        }\n    };\n    Renderer.prototype._lazyLoadProgram = function (opt) {\n        if (RenderOption_1.ShaderType.COLOUR === opt.shaderType) {\n            if (!this.shaderColourProgram) {\n                this.shaderColourProgram = new EntityColorProgram_1.default(this.ctx);\n            }\n        }\n        else if (RenderOption_1.ShaderType.THREE_DIMENSION === opt.shaderType ||\n            RenderOption_1.ShaderType.TWO_DIMENSION === opt.shaderType) {\n            if (!this.shader3DProgram) {\n                this.shader3DProgram = new Entity3DProgram_1.default(this.ctx);\n            }\n        }\n        else {\n            console.error(this, opt);\n            throw new Error(\"unsupported opt shader type\");\n        }\n        this.updatePerspective();\n    };\n    Renderer.prototype.registerEntity = function (object, modelData) {\n        var opt = object.getOpt();\n        this._lazyLoadProgram(opt);\n        var program = this._getProgramOpt(opt);\n        if (!this.cachedModelData[modelData.$id]) {\n            program.registerEntity(object, modelData.vertices);\n            this.cachedModelData[modelData.$id] = object.rendererBufferId;\n        }\n        else {\n            object.rendererBufferId = this.cachedModelData[modelData.$id];\n        }\n    };\n    Renderer.prototype.render = function (time, engineHelper) {\n        this.glContext.clear();\n        this.readMessages(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, true);\n        this.camera.commitProjectionView();\n        engineHelper.setTime(time);\n        // reinitialse next cycle\n        this._resetDefferred();\n        this.world.render();\n        engineHelper.renderFont();\n        this.readMessages(RendererNotification.NOTIFICATION_RENDER_KEY);\n        this._defRender();\n    };\n    Renderer.prototype.createTexture = function (object, resourcesLoading) {\n        var src = object.getTextureSource();\n        if (src === undefined) {\n            console.error(\"src is undefined when trying to create texture\", object);\n            throw new Error(\"src is undefined when trying to create texture\");\n        }\n        object.rendererTextureRef = src;\n        var textureReg = this.textureReg[src];\n        if (!textureReg) {\n            var texture = new Texture_1.default(src, this.ctx);\n            this.textureReg[src] = {\n                texture: texture,\n            };\n            resourcesLoading.push(texture.load);\n        }\n        else if (textureReg.texture && textureReg.texture.error) {\n            console.error(\"there was an error while trying to load texture\", textureReg);\n            throw new Error(\"there was an error while trying to load texture\");\n        }\n    };\n    return Renderer;\n}());\nexports.default = Renderer;\n//# sourceMappingURL=Renderer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Core/Builder/ShaderEntityBuilder\");\nvar Colour_1 = require(\"../Core/Data/Colour\");\nvar ColourVertexModel_1 = require(\"../Core/Data/ColourVertexModel\");\nvar RenderOption_1 = require(\"../Core/Data/RenderOption\");\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar EngineObjectHelper_1 = require(\"../Core/EngineEntity/EngineObjectHelper\");\nvar LineColour = /** @class */ (function (_super) {\n    __extends(LineColour, _super);\n    function LineColour(point1, point2, thickness, rgba) {\n        var _this = _super.call(this) || this;\n        _this.point1 = point1;\n        _this.point2 = point2;\n        _this.thickness = thickness;\n        _this.rgba = rgba;\n        return _this;\n    }\n    LineColour.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    LineColour.prototype.updatePosition = function (point1, point2) {\n        this.point1 = point1;\n        this.point2 = point2;\n        var lX = point2.x - point1.x;\n        var lY = point2.y - point1.y;\n        var length = Math.sqrt(lX * lX + lY * lY);\n        var angle = Math.atan2(lY, lX) * (180 / Math.PI);\n        var mX = (point1.x + point2.x) / 2;\n        var mY = (point1.y + point2.y) / 2;\n        this.center(mX, mY, 0);\n        this.rotateOrigin(mX, mY, 0);\n        this.angleZ(angle);\n        this.scale(length, this.thickness, 1.0);\n    };\n    LineColour.prototype.init = function (engineHelper) {\n        this.vertexModel = new ColourVertexModel_1.default().fillRenderUnits(EngineObjectHelper_1.default.vertex.planeXYColour(this.rgba || new Colour_1.default(0, 0, 0, 0)));\n        this.updatePosition(this.point1, this.point2);\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.TRIANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.COLOUR;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .build(this, renderOpt);\n    };\n    return LineColour;\n}(EngineObject_1.default));\nexports.default = LineColour;\n//# sourceMappingURL=LineColour.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Core/Builder/ShaderEntityBuilder\");\nvar ColourVertexModel_1 = require(\"../Core/Data/ColourVertexModel\");\nvar RenderOption_1 = require(\"../Core/Data/RenderOption\");\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar EngineObjectHelper_1 = require(\"../Core/EngineEntity/EngineObjectHelper\");\nvar TriangleColour2d = /** @class */ (function (_super) {\n    __extends(TriangleColour2d, _super);\n    function TriangleColour2d(rect, rgba) {\n        var _this = _super.call(this) || this;\n        _this.vertexModel = new ColourVertexModel_1.default().fillRenderUnits(EngineObjectHelper_1.default.vertex.triangleXYColour(rgba));\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    TriangleColour2d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    TriangleColour2d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.TRIANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.COLOUR;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .build(this, renderOpt);\n    };\n    return TriangleColour2d;\n}(EngineObject_1.default));\nexports.default = TriangleColour2d;\n//# sourceMappingURL=TriangleColour2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Builder/ShaderEntityBuilder\");\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar EngineObject_1 = require(\"./EngineObject\");\nvar ModelObject2d = /** @class */ (function (_super) {\n    __extends(ModelObject2d, _super);\n    function ModelObject2d(rect, vertexModel) {\n        var _this = _super.call(this) || this;\n        _this.vertexModel = vertexModel;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    ModelObject2d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.RECTANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.TWO_DIMENSION;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .createTexture(this.vertexModel.textureSource)\n            .build(this, renderOpt);\n    };\n    return ModelObject2d;\n}(EngineObject_1.default));\nexports.default = ModelObject2d;\n//# sourceMappingURL=ModelObject2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EntityManager_1 = require(\"./EntityManager\");\nvar Plane2d_1 = require(\"../Entity/Plane2d\");\nvar EntityManager2d = /** @class */ (function (_super) {\n    __extends(EntityManager2d, _super);\n    function EntityManager2d() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EntityManager2d.prototype.setLayer = function (priority) {\n        this.entities.forEach(function (entity) {\n            if (entity instanceof Plane2d_1.default) {\n                entity.setLayer(priority);\n            }\n        });\n        this.position.z = -1 * priority;\n        return this;\n    };\n    EntityManager2d.prototype.init = function (engineHelper) {\n        _super.prototype.init.call(this, engineHelper);\n        this.setLayer(-this.position.z);\n    };\n    return EntityManager2d;\n}(EntityManager_1.default));\nexports.default = EntityManager2d;\n//# sourceMappingURL=EntityManager2d.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VertexParser = /** @class */ (function () {\n    function VertexParser(raw) {\n        if (typeof raw === \"string\") {\n            this.vertices = raw.split(\",\").map(parseFloat);\n        }\n        else if (raw instanceof Array) {\n            this.vertices = raw;\n        }\n        else {\n            console.error(\"Unexpected obj type\");\n        }\n    }\n    return VertexParser;\n}());\nexports.default = VertexParser;\n//# sourceMappingURL=VertexParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseProgram = /** @class */ (function () {\n    function BaseProgram(ctx) {\n        this.ctx = ctx;\n    }\n    BaseProgram.prototype.compileShaders = function (vertexShaderContent, fragmentShaderContent) {\n        var ctx = this.ctx;\n        var vertexShader = ctx.createShader(ctx.VERTEX_SHADER);\n        var fragmentShader = ctx.createShader(ctx.FRAGMENT_SHADER);\n        if (!vertexShader || !fragmentShader) {\n            throw new Error(\"Unable to create vertex or fragment shader\");\n        }\n        var fragmentChar = fragmentShaderContent;\n        var vertexChar = vertexShaderContent;\n        ctx.shaderSource(vertexShader, vertexChar);\n        ctx.compileShader(vertexShader);\n        ctx.shaderSource(fragmentShader, fragmentChar);\n        ctx.compileShader(fragmentShader);\n        if (!ctx.getShaderParameter(vertexShader, ctx.COMPILE_STATUS)) {\n            throw new Error(\"could not compile vertex shader:\" + ctx.getShaderInfoLog(vertexShader));\n        }\n        if (!ctx.getShaderParameter(fragmentShader, ctx.COMPILE_STATUS)) {\n            throw new Error(\"could not compile fragment shader:\" +\n                ctx.getShaderInfoLog(fragmentShader));\n        }\n        var program = ctx.createProgram();\n        ctx.attachShader(program, vertexShader);\n        ctx.attachShader(program, fragmentShader);\n        ctx.linkProgram(program);\n        ctx.validateProgram(program);\n        if (!ctx.getProgramParameter(program, ctx.LINK_STATUS)) {\n            throw new Error(\"Link failed: \" + ctx.getProgramInfoLog(program));\n        }\n        return program;\n    };\n    BaseProgram.prototype.delete = function () {\n        this.ctx.deleteProgram(this.program);\n    };\n    BaseProgram.prototype._bindProgram = function (program) {\n        this.ctx.useProgram(program);\n    };\n    BaseProgram.prototype._unbindProgram = function () { };\n    return BaseProgram;\n}());\nexports.default = BaseProgram;\n//# sourceMappingURL=BaseProgram.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FntFontReader_1 = require(\"./FntFontReader\");\nvar BitmapConfigParser_1 = require(\"./BitmapConfigParser\");\nvar VertexParser_1 = require(\"./VertexParser\");\nvar ResourceResolver = /** @class */ (function () {\n    function ResourceResolver() {\n    }\n    ResourceResolver.bmFontResolver = function (_) {\n        return function (result) {\n            result.registerFont(new FntFontReader_1.default(result.data));\n            return result;\n        };\n    };\n    ResourceResolver.bitmapResolver = function (engineHelper, bitmapWidth, bitmapHeight, precision) {\n        return function (result) {\n            var bitmapLoader = new BitmapConfigParser_1.default(result.data, bitmapWidth, bitmapHeight, precision);\n            var textureSource = bitmapLoader.getTextureSource();\n            for (var key in bitmapLoader.getMap()) {\n                if (bitmapLoader.map.hasOwnProperty(key)) {\n                    var uv = bitmapLoader.map[key];\n                    engineHelper.addUVCache(textureSource, key, uv);\n                }\n            }\n            return result;\n        };\n    };\n    ResourceResolver.objResolverMultiple = function (engineHelper, sources) {\n        return function (result) {\n            sources.map(function (_a) {\n                var textureSource = _a.textureSource, name = _a.name;\n                return engineHelper.addVertexUvCache(textureSource, name, new VertexParser_1.default(result.data).vertices);\n            });\n        };\n    };\n    ResourceResolver.objResolver = function (engineHelper, textureSource, name) {\n        return function (result) {\n            engineHelper.addVertexUvCache(textureSource, name, new VertexParser_1.default(result.data).vertices);\n        };\n    };\n    return ResourceResolver;\n}());\nexports.default = ResourceResolver;\n//# sourceMappingURL=ResourceResolver.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FontMetaData_1 = require(\"../Core/Data/FontMetaData\");\nvar FntFontReader = /** @class */ (function (_super) {\n    __extends(FntFontReader, _super);\n    function FntFontReader(raw) {\n        var _this = _super.call(this) || this;\n        var lines = raw.split(\"\\n\");\n        _this.context = new FontMetaData_1.FontMeta();\n        for (var lineIdx in lines) {\n            if (!lines.hasOwnProperty(lineIdx)) {\n                continue;\n            }\n            var line = lines[lineIdx];\n            _this.parseWidth(_this.context, line);\n            _this.parseHeight(_this.context, line);\n            _this.parseFilename(_this.context, line);\n            _this.parseLineHeight(_this.context, line);\n            _this.parseChar(_this.context, line);\n        }\n        return _this;\n    }\n    FntFontReader.prototype.parseChar = function (context, line) {\n        var match = line.match(FntFontReader.FONT_CHAR);\n        if (match) {\n            var font = new FontMetaData_1.FontCharacter();\n            font.charCode = parseFloat(match[1]);\n            font.x = parseFloat(match[2]);\n            font.y = parseFloat(match[3]);\n            font.width = parseFloat(match[4]);\n            font.height = parseFloat(match[5]);\n            font.xOffset = parseFloat(match[6]) / context.width;\n            font.yOffset = parseFloat(match[7]) / context.height;\n            font.char = String.fromCharCode(font.charCode);\n            context.fonts[font.char] = font;\n        }\n    };\n    FntFontReader.prototype.parseHeight = function (context, line) {\n        if (!context.height) {\n            var match = line.match(FntFontReader.HEIGHT);\n            if (match) {\n                context.height = parseFloat(match[1]);\n            }\n        }\n    };\n    FntFontReader.prototype.parseLineHeight = function (context, line) {\n        if (!context.lineHeight) {\n            var match = line.match(FntFontReader.LINE_HEIGHT);\n            if (match) {\n                context.lineHeight = parseFloat(match[1]);\n            }\n        }\n    };\n    FntFontReader.prototype.parseWidth = function (context, line) {\n        if (!context.width) {\n            var match = line.match(FntFontReader.WIDTH);\n            if (match) {\n                context.width = parseFloat(match[1]);\n            }\n        }\n    };\n    FntFontReader.prototype.parseFilename = function (context, line) {\n        if (!context.filename) {\n            var match = line.match(FntFontReader.FILENAME);\n            if (match) {\n                context.filename = match[1];\n            }\n        }\n    };\n    FntFontReader.FILENAME = /file=\"([\\w\\d\\W\\D]+)\"/;\n    FntFontReader.WIDTH = /scaleW=([\\d]+)/;\n    FntFontReader.HEIGHT = /scaleH=([\\d]+)/;\n    FntFontReader.LINE_HEIGHT = /lineHeight=([\\d]+)/;\n    FntFontReader.FONT_CHAR = new RegExp(\"char[\\\\s]+\" +\n        [\"id\", \"x\", \"y\", \"width\", \"height\", \"xoffset\", \"yoffset\"]\n            .map(function (column) { return \"\".concat(column, \"=([-\\\\d]+)[\\\\s]+\"); })\n            .reduce(function (sum, str) { return sum + str; }));\n    return FntFontReader;\n}(FontMetaData_1.default));\nexports.default = FntFontReader;\n//# sourceMappingURL=FntFontReader.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColourRenderUnit = exports.TextureRenderUnit = exports.RenderUnit = exports.Colour = exports.TextureUnit = void 0;\nvar Coordinate_1 = require(\"./Coordinate\");\nvar TextureUnit = /** @class */ (function () {\n    function TextureUnit() {\n        this.u = 0.0;\n        this.v = 0.0;\n    }\n    return TextureUnit;\n}());\nexports.TextureUnit = TextureUnit;\nvar Colour = /** @class */ (function () {\n    function Colour() {\n        this.r = 0.0;\n        this.g = 0.0;\n        this.b = 0.0;\n        this.a = 0.0;\n    }\n    return Colour;\n}());\nexports.Colour = Colour;\nvar RenderUnit = /** @class */ (function () {\n    function RenderUnit() {\n        this.vertex = new Coordinate_1.default(0, 0, 0);\n    }\n    return RenderUnit;\n}());\nexports.RenderUnit = RenderUnit;\nvar TextureRenderUnit = /** @class */ (function (_super) {\n    __extends(TextureRenderUnit, _super);\n    function TextureRenderUnit() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.texture = new TextureUnit();\n        _this.normal = new Coordinate_1.default(0, 0, 0);\n        return _this;\n    }\n    return TextureRenderUnit;\n}(RenderUnit));\nexports.TextureRenderUnit = TextureRenderUnit;\nvar ColourRenderUnit = /** @class */ (function (_super) {\n    __extends(ColourRenderUnit, _super);\n    function ColourRenderUnit() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.colour = new Colour();\n        return _this;\n    }\n    return ColourRenderUnit;\n}(RenderUnit));\nexports.ColourRenderUnit = ColourRenderUnit;\n//# sourceMappingURL=RenderUnit.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextureVertexModel_1 = require(\"../Core/Data/TextureVertexModel\");\nvar ModelObject3d_1 = require(\"../Core/EngineEntity/ModelObject3d\");\nvar Object3d = /** @class */ (function (_super) {\n    __extends(Object3d, _super);\n    function Object3d(rect, vertexUvCacheId) {\n        var _this = _super.call(this, rect, new TextureVertexModel_1.default()) || this;\n        _this.vertexUvCacheId = vertexUvCacheId;\n        return _this;\n    }\n    Object3d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    Object3d.prototype.init = function (engineHelper) {\n        this.vertexModel = engineHelper.newVertexModelUv3d(this.vertexUvCacheId);\n        _super.prototype.init.call(this, engineHelper);\n    };\n    return Object3d;\n}(ModelObject3d_1.default));\nexports.default = Object3d;\n//# sourceMappingURL=Object3d.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CollisionDetection_1 = require(\"../Physics/CollisionDetection\");\nvar VertexBuilder_1 = require(\"../Builder/VertexBuilder\");\nvar EngineObjectHelper = /** @class */ (function () {\n    function EngineObjectHelper() {\n    }\n    EngineObjectHelper.vertex = new VertexBuilder_1.VertexBuilder();\n    EngineObjectHelper.collision = new CollisionDetection_1.CollisionDetection();\n    return EngineObjectHelper;\n}());\nexports.default = EngineObjectHelper;\n//# sourceMappingURL=EngineObjectHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PlaneType = /** @class */ (function () {\n    function PlaneType(name, width, height, length, normalDirection) {\n        this.name = name;\n        this.width = width;\n        this.height = height;\n        this.length = length;\n        this.normalDirection = normalDirection;\n    }\n    PlaneType.XY = new PlaneType(\"XY\", 0, 0, 0, 0);\n    PlaneType.YX = new PlaneType(\"YX\", 0, 0, 0, 0);\n    PlaneType.XZ = new PlaneType(\"XZ\", 0, 0, 0, 0);\n    PlaneType.ZX = new PlaneType(\"ZX\", 0, 0, 0, 0);\n    PlaneType.YZ = new PlaneType(\"YZ\", 0, 0, 0, 0);\n    PlaneType.ZY = new PlaneType(\"ZY\", 0, 0, 0, 0);\n    PlaneType.BACKWARDS = -1;\n    PlaneType.FORWARD = 1;\n    return PlaneType;\n}());\nexports.default = PlaneType;\n//# sourceMappingURL=PlaneType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VertexBuilder = void 0;\nvar PlaneType_1 = require(\"../Data/PlaneType\");\nvar VertexBuilder = /** @class */ (function () {\n    function VertexBuilder() {\n    }\n    VertexBuilder.prototype.toArray2D = function (vertexes) {\n        var vertexConstruct = [];\n        for (var key in vertexes) {\n            if (vertexes.hasOwnProperty(key)) {\n                var _vertex = vertexes[key];\n                vertexConstruct.push(_vertex.vertex.x);\n                vertexConstruct.push(_vertex.vertex.y);\n                vertexConstruct.push(_vertex.vertex.z);\n                vertexConstruct.push(_vertex.normal.x);\n                vertexConstruct.push(_vertex.normal.y);\n                vertexConstruct.push(_vertex.normal.z);\n                vertexConstruct.push(_vertex.texture.u);\n                vertexConstruct.push(_vertex.texture.v);\n            }\n        }\n        return vertexConstruct;\n    };\n    VertexBuilder.prototype.toTextureArray = function (vertexes) {\n        var vertexConstruct = [];\n        for (var key in vertexes) {\n            if (vertexes.hasOwnProperty(key)) {\n                var _vertex = vertexes[key];\n                vertexConstruct.push(_vertex.vertex.x);\n                vertexConstruct.push(_vertex.vertex.y);\n                vertexConstruct.push(_vertex.vertex.z);\n                vertexConstruct.push(_vertex.normal.x);\n                vertexConstruct.push(_vertex.normal.y);\n                vertexConstruct.push(_vertex.normal.z);\n                vertexConstruct.push(_vertex.texture.u);\n                vertexConstruct.push(_vertex.texture.v);\n            }\n        }\n        return vertexConstruct;\n    };\n    VertexBuilder.prototype.toColourArray = function (vertexes) {\n        var vertexConstruct = [];\n        for (var key in vertexes) {\n            if (vertexes.hasOwnProperty(key)) {\n                var _vertex = vertexes[key];\n                vertexConstruct.push(_vertex.vertex.x);\n                vertexConstruct.push(_vertex.vertex.y);\n                vertexConstruct.push(_vertex.vertex.z);\n                vertexConstruct.push(_vertex.colour.r);\n                vertexConstruct.push(_vertex.colour.g);\n                vertexConstruct.push(_vertex.colour.b);\n                vertexConstruct.push(_vertex.colour.a);\n            }\n        }\n        return vertexConstruct;\n    };\n    VertexBuilder.prototype.triangleXYColour = function (colour) {\n        var r = colour.r / 255.0;\n        var g = colour.g / 255.0;\n        var b = colour.b / 255.0;\n        var a = colour.a / 255.0;\n        var _colour = [\n            1,\n            1,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0,\n            1,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0,\n            0,\n            0,\n            r,\n            g,\n            b,\n            a,\n        ];\n        return _colour;\n    };\n    VertexBuilder.prototype.planeXYColour = function (colour) {\n        var r = colour.r / 255.0;\n        var g = colour.g / 255.0;\n        var b = colour.b / 255.0;\n        var a = colour.a / 255.0;\n        var _colour = [\n            -0.5,\n            -0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0.5,\n            -0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n            -0.5,\n            0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0.5,\n            0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n        ];\n        return _colour;\n    };\n    VertexBuilder.prototype.planeCCW = function (loc, width, height) {\n        var left = loc[0];\n        var top = loc[1];\n        var right = loc[2];\n        var bottom = loc[3];\n        var uv = [\n            left / width,\n            bottom / height,\n            left / width,\n            top / height,\n            right / width,\n            top / height,\n            right / width,\n            bottom / height,\n        ];\n        return uv;\n    };\n    VertexBuilder.prototype.planeCW = function (loc, width, height) {\n        var left = loc[0];\n        var top = loc[1];\n        var right = loc[2];\n        var bottom = loc[3];\n        var uv = [\n            right / width,\n            bottom / height,\n            right / width,\n            top / height,\n            left / width,\n            top / height,\n            left / width,\n            bottom / height,\n        ];\n        return uv;\n    };\n    VertexBuilder.prototype.planeUV = function (vertices, uv) {\n        vertices[0].texture.u = uv[4];\n        vertices[0].texture.v = uv[1];\n        vertices[2].texture.u = uv[4];\n        vertices[2].texture.v = uv[3];\n        vertices[1].texture.u = uv[0];\n        vertices[1].texture.v = uv[1];\n        vertices[3].texture.u = uv[0];\n        vertices[3].texture.v = uv[3];\n    };\n    VertexBuilder.prototype.planeXY = function (vertices) {\n        this.plane(vertices, PlaneType_1.default.XY);\n    };\n    VertexBuilder.prototype.plane = function (vertices, PLANE) {\n        switch (PLANE) {\n            case PlaneType_1.default.XY: {\n                vertices[0].vertex.x = -1 / 2;\n                vertices[0].vertex.y = -1 / 2;\n                vertices[0].normal.z = -1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.y = 1 / 2;\n                vertices[1].normal.z = -1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.y = -1 / 2;\n                vertices[2].normal.z = -1;\n                vertices[3].vertex.x = 1 / 2;\n                vertices[3].vertex.y = 1 / 2;\n                vertices[3].normal.z = -1;\n                break;\n            }\n            case PlaneType_1.default.YX: {\n                vertices[0].vertex.x = 1 / 2;\n                vertices[0].vertex.y = 1 / 2;\n                vertices[0].normal.z = 1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.y = -1 / 2;\n                vertices[2].normal.z = 1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.y = 1 / 2;\n                vertices[1].normal.z = 1;\n                vertices[3].vertex.x = -1 / 2;\n                vertices[3].vertex.y = -1 / 2;\n                vertices[3].normal.z = 1;\n                break;\n            }\n            case PlaneType_1.default.XZ: {\n                vertices[0].vertex.x = -1 / 2;\n                vertices[0].vertex.z = -1 / 2;\n                vertices[0].normal.y = 1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.y = 1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.y = 1;\n                vertices[3].vertex.x = 1 / 2;\n                vertices[3].vertex.z = 1 / 2;\n                vertices[3].normal.y = 1;\n                break;\n            }\n            case PlaneType_1.default.ZX: {\n                vertices[0].vertex.x = 1 / 2;\n                vertices[0].vertex.z = 1 / 2;\n                vertices[0].normal.y = -1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.y = -1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.y = -1;\n                vertices[3].vertex.x = -1 / 2;\n                vertices[3].vertex.z = -1 / 2;\n                vertices[3].normal.y = -1;\n                break;\n            }\n            case PlaneType_1.default.YZ: {\n                vertices[0].vertex.y = -1 / 2;\n                vertices[0].vertex.z = -1 / 2;\n                vertices[0].normal.x = -1;\n                vertices[1].vertex.y = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.x = -1;\n                vertices[2].vertex.y = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.x = -1;\n                vertices[3].vertex.y = 1 / 2;\n                vertices[3].vertex.z = 1 / 2;\n                vertices[3].normal.x = -1;\n                break;\n            }\n            case PlaneType_1.default.ZY: {\n                vertices[0].vertex.y = 1 / 2;\n                vertices[0].vertex.z = 1 / 2;\n                vertices[0].normal.x = 1;\n                vertices[2].vertex.y = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.x = 1;\n                vertices[1].vertex.y = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.x = 1;\n                vertices[3].vertex.y = -1 / 2;\n                vertices[3].vertex.z = -1 / 2;\n                vertices[3].normal.x = 1;\n                break;\n            }\n            default:\n                break;\n        }\n    };\n    VertexBuilder.prototype.circleXYColour = function (segments, colour) {\n        var r = colour.r / 255.0;\n        var g = colour.g / 255.0;\n        var b = colour.b / 255.0;\n        var a = colour.a / 255.0;\n        var increment = (2 * Math.PI) / segments;\n        var vertices = [];\n        for (var angle = -Math.PI / 2; angle < Math.PI / 2; angle += increment) {\n            var x = Math.sin(angle);\n            var y = Math.cos(angle);\n            vertices.push(x, y, 0);\n            vertices.push(r, g, b, a);\n            vertices.push(x, -y, 0);\n            vertices.push(r, g, b, a);\n        }\n        return vertices;\n    };\n    return VertexBuilder;\n}());\nexports.VertexBuilder = VertexBuilder;\n//# sourceMappingURL=VertexBuilder.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(4724);\n"],"names":["root","factory","exports","module","define","amd","self","Object","defineProperty","value","Shader3DProgram_1","RenderOption_1","Entity3DProgram","ctx","this","program","default","prototype","updatePerspective","projectionMatrix","bindProgram","glSetProjectMatrix","delete","arrayBuffer","setLight","light","camera","updateBuffer","entity","buffer","opt","getOpt","ShaderType","THREE_DIMENSION","shaderType","buffReg","bufferReg","rendererBufferId","length","verticesSize","console","error","bufferSub","offset","DRAW_VERTEX_SIZE","_render3DShadowEntities","entities","index","data","model","glSetShadowModelMatrix","Error","renderType","RenderType","TRIANGLE","drawArrays","TRIANGLES","size","TRIANGLE_STRIP","_setupShadow","bindShadowTexture","render3DShadowMap","setOriginalViewport","isShadowEnabled","disable","CULL_FACE","prepareShadowTexture","revertShadowTexture","enable","cullFace","BACK","render","textureReg","is2d","bind","bindAttributePointers","glSetViewMatrix","viewMatrix","isEnabled","DEPTH_TEST","rendererTextureRef","texReg","bindTexture","texture","glSetModelViewMatrix","unbind","unbindAttributePointers","unbindProgram","bindBuffer","bufferBind","registerEntity","object","objBuffer","bufferRegId","push","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","TypeError","String","__","constructor","create","vec2_1","Vector2d","_super","apply","arguments","get","set","x","enumerable","configurable","y","normalise","normalize","newVector","dot","v","negate","scale","s","subtract","add","vector","Float32Array","EngineObject_1","ShaderEntityBuilder_1","Colour_1","ColourVertexModel_1","EngineObjectHelper_1","PlaneColour","rect","rgba","_this","centerRect","rotateOriginRect","scaleRect","engineHelper","shaderEntity","init","vertexModel","fillRenderUnits","vertex","planeXYColour","renderOpt","COLOUR","addBuffer","build","gl_matrix_1","Rect3d_1","Position_1","ModelPosition","position","dirtyModel","dirtyQuat","dirtyPos","dirtyScale","dirtyOrigin","intermediateModels","mat4","initialMat4Temp","rotateQuatTemp","quat","rotateMat4Temp","getModel","_buildModel","cachedModel","getPosition","setPosition","pos","z","center","rotateOrigin","centerCoord","coord","translate","dx","dy","dz","originX","originY","originZ","angleX","ax","angleY","ay","angleZ","az","rotateX","rotateY","rotateZ","scaleX","width","scaleY","height","scaleZ","_buildQuat","quatMat","createMat4NoAlloc","quatRotationxyz","createQuatNoAlloc","degreesToRadians","fromQuat","getIntermediateModel","point","dest","org","_buildModelIntermediate","out","_dirty","origin_1","multiply","negOrigin","degrees","Math","round","glMatrix","toRadian","setRect","setRect2","getRect2","getRect","Rect3d","centre","equalCenter","newCenter","equal","r","c","clone","a","fromValues","copy","divide","ceil","floor","min","max","scaleAndAdd","distance","hypot","squaredDistance","squaredLength","inverse","len","sqrt","cross","lerp","t","random","PI","cos","sin","transformMat2","m","transformMat2d","transformMat3","transformMat4","rotate","rad","p0","p1","sinC","cosC","angle","x1","y1","x2","y2","mag","cosine","acos","zero","str","exactEquals","equals","a0","a1","b0","b1","abs","vec","sub","mul","div","dist","sqrDist","sqrLen","forEach","stride","count","fn","arg","i","l","SubscriptionListeners","Subscription","key","listeners","subscriptionId","listen","callback","unlisten","publish","values","listener","flush","SubscriberPool","subscribers","subscription","getSubscriptionListeners","ModelObject3d","setRenderType","createTexture","textureSource","__assign","assign","n","ConfigEntity","BasicSprite_1","LineColour_1","Moveable_1","Plane2d_1","Plane3d_1","PlaneColour_1","SpriteModel_1","SpriteMoveable_1","TriangleColour2d_1","Coordinate_1","Rect2d_1","Events_1","Font_1","Physics_1","ConfigMapBuilder","objects","ref","anchor","texts","map","prop","startsWith","initObjectPosition","$ref","$anchor","type","buildModel","config","obj","createPlane2D","createRect2d","isCentre","hasPhysics","hookCustomHandler","createPlane3D","createRect3d","planeType","createTriangle","createSpriteMoveable","spriteModel","ticks","createMoveable","createSprite","createText","createCoordinate","fontSize","text","id","createColour","createLineColour","point1","point2","thickness","warn","concat","$id","isLastEvent","FontReference","isTop","setTop","setClone","_renderCustom_1","window","_render_1","update","_updateCustom_1","_update_1","onClickedDefined","onClick","event","_eventCustom_1","_event_1","shouldPropagate","isClicked","_event_2","eventType","UP","hidden","Number","textRef","newFont","setText","setFontSize","colour","location","registerPhysics","physics","setLayer","moveable","updatePhysicsPosition","plane","newVertexModel","identity","m00","m01","m10","m11","transpose","invert","a2","a3","det","adjoint","determinant","b2","b3","v0","v1","fromRotation","fromScaling","frob","LDU","L","D","U","multiplyScalar","multiplyScalarAndAdd","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","b4","b5","fromTranslation","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","fromMat2d","q","w","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","a6","a7","a8","b6","b7","b8","m03","m13","m23","m30","m31","m32","m33","axis","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","left","right","bottom","top","near","far","rl","tb","nf","perspectiveNO","fovy","aspect","f","tan","Infinity","perspective","perspectiveZO","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","orthoNO","lr","bt","ortho","orthoZO","lookAt","eye","up","x0","y0","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","target","a9","a14","a15","b9","b13","b14","b15","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","et","ln","atan2","log","pow","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fRoot","fTrace","j","k","fromEuler","halfToRad","cx","cy","cz","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","rotationTo","sqlerp","setAxes","view","dq","w1","fromRotationTranslationValues","outer","getReal","getDual","setReal","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","BaseProgram_1","ShadowDepthFragmentShader_glsl_1","PassthroughVertexShader_glsl_1","ShadowLightVertexShader_glsl_1","ShadowLightFragmentShader_glsl_1","LightFragmentShader_glsl_1","LightVertexShader_glsl_1","ArrayBuffer_1","Texture_1","ProgramReference_1","Shader3DProgram","shadowDepthTextureSize","compileShaders","shadowMap","light1View","light1Projection","normal","textureCoords","projMtrx","viewMtrx","modelMtrx","tex2DSampler","light1Pos","light1Intensities","light1Attenu","light1AmbCoeff","initShadowProgram","shadowProgram","bindShadowProgram","shadowPos","shadowProjection","shadowView","shadowModel","shadowFramebuffer","createFramebuffer","createDepthTexture","shadowRenderBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","shadowDepthTexture","framebufferRenderbuffer","DEPTH_ATTACHMENT","shadowTextureUnit","textureCount","activeTexture","TEXTURE0","texParameterf","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","_bindProgram","_unbindProgram","unbindShadowProgram","enableAttribPointers","enableVertexAttribArray","vertexAttribPointer","FLOAT","enableShadowAttribPointers","bindShadowAttributePointers","matrixArray","uniformMatrix4fv","unbindShadowAttributePointers","disableVertexAttribArray","uniform3fv","in","uniform1f","ambientCoeff","attenuation","cameraFrustum","vec3","posVec","atVec","viewport","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","uniform1i","EntityManager","e","setHidden","generateId","replace","toString","SpriteMoveableModel","SpriteMoveable","ArrayBuffer","bufferArray","verticeSize","deleted","isBuffered","bufferid","createBuffer","ARRAY_BUFFER","deleteBuffer","maxSize","fill","bufferData","STATIC_DRAW","vertexSize","bufferSubData","BYTES_PER_ELEMENT","reset","vertices","EntityManager_1","Timer_1","PlaneType_1","ModelObject2d_1","ModelPosition_1","Renderer_1","FontChar","fontChar","RenderFont","font","fontPos","time","repeat","isRepeat","expire","displayTime","undefined","isExpired","timer","peak","refresh","start","shallowCopy","modelPosition","modelPos","FontManager","metaData","fonts","renderFontState","renderFontPool","avgWidth","avgHeight","getFont","charCode","createRender","renderFont","pop","refreshExpired","context","defaultRect","totalWidth","totalHeight","totalNo","fontIdx","uvs","planeCW","createPlaneVertexModel","filename","YX","writeFont","cacheId","displayRect","$cacheId","isDirtyPos","isDirtyText","setWidth","_hidden","prevText","_a","Font","warningShown","fontCacheId","expireRenderFont","fontRef","fontCache","writeRef","fontManager","MAX_FONT","calcTotalTextWidth","calculateFontSize","prevPos","createFonts","fontRefCache","dx_1","dy_1","DefaultFont","notificationQueue","RendererNotification","RESIZE_SCREEN","pixelDensity","carryWidth","charIdx","charCodeAt","fontHeight","maxHeight","xOffset","yOffset","ShaderEntity","getVertexModel","getVertexBufferId","vertexBufferId","getTextureSource","src","setTextureSource","renderCopy","newInstance","TWO_DIMENSION","PLAIN","RECTANGLE","isAttribute","getAttribLocation","getUniformLocation","ObjectManager","deferred","isLoaded","ent","addEntity","entityIdx","loadTexture","onLoad","def","Timer","_start","Date","now","stop","_end","elapsed","EngineMath","boundRect","bound","boundedX","boundedY","getLength","ShaderColourProgram_1","EntityColourProgram","PhysicsData","ParabolicSimulation","CollisionDetection_1","Physics","$physicsId","physicsEntityIdCount","physicsEntities","enabled","deregisterPhysics","setEnabledPhysics","isCollidingOffset2d","px","py","isCollidingPos2d","isCollidingPoint2d","isCollidingResolve","collision","_dx","_dy","physicsEntity","node","_b","collisionSize","CollisionDetection","isCollidingRect","collidingX","collidingY","dxBoundary","dyBoundary","sign","pEntityRoot","generateSimulationId","simulationId","simulationIdCurrent","pauseSimulation","simulations","pause","resumeSimulation","cancelSimulation","force","cancelled","totalIterations","completeSimulation","physicsLoop","runTime","totalRunTime","simulation","runSimulation","existingSimulationId","simulationLoop","setInterval","TIME_STEP_MILLIS","parabolicSimulation","parabolic","timeStep","vy","vx","Updater","args","world","setTime","updateFont","ConfigMapBuilder_1","EngineMap","show","beforeShow","updatePosition","setShow","restore","entityData","configBuilder","_i","_c","parseMap","addEntities","ModelObjectRect3d_1","TextureVertexModel_1","Plane3d","renderUnits","RGBFragmentShader_glsl_1","RGBVertexShader_glsl_1","ShaderProgramColour","positionRef","colorRef","modelViewMatrixRef","BitmapConfigParser","raw","bitmapWidth","bitmapHeight","precision","SOURCE_KEY","split","line","processLine","filter","reduce","sum","next","processRawLine","source","substr","indexOf","trim","origin","info","processTextureLine","seperator","nameindex","temp","leftindex","parseFloat","topindex","widthIndex","getMap","Texture","isError","load","loadImage","then","catch","onError","handleTextureLoaded","image","newTextureUnit","sampler","texUnit","createTextureFromImage","NEAREST","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TextureLoader","Promise","resolve","reject","document","createElement","crossOrigin","onload","onerror","Polygon","Collision","Vector2d_1","vec2","width1","height1","width2","height2","isRectInRect","rect1","rect2","isPointInRect","isPointInPlane3d","mvp","r1","toClipSpace","r2","r3","r4","rectPolygon","pointInPolygon","vec4Trans","vec4","vec4Norm","polygon","inside","xi","yi","xj","yj","subtractCenter","points","area","calculateCentre","centroid","totalSignedArea","vertexCount","nextVertex","polygonProjection","dotProduct","boundaryDistance","minA","maxA","minB","maxB","isCollision","polygonB","velocity","result","isIntersect","willIntersect","edge","edgeCountA","edges","edgeCountB","minIntervalDistance","translationAxis","edgeIndex","velocityProjection","intervalDistance","minDeintersectDistance","ModelObjectRect3d","Plane2d","textureReference","layer","newVertexModel2d","camera3d","sky","Events","DRAG","dxRaw","dyRaw","updateProjectionView","loadResources","getResource","ResourceResolver","objResolverMultiple","name","objResolver","bmFontResolver","bitmapResolver","lowPolyGirl","Object3d","racingCar","sun","lowPolyTree","treeCreator","tree","PlaneType","XZ","road","setLighting","Light","at","options","vecZero","parellelVec","vec1","perpVec","perp","atCross","posCross","eventDown","touchDown","eventDownX","eventDownY","eventDownDx","eventDownDy","keyDownMap","prevEvent","timeStamp","prevTimeStamp","motionTimeStamp","orientationQuaternion","NULL_EVENT","prevEventType","rawEvent","isDown","isUp","boundedWindow","throttle","setThrottle","webGLContainer","bindCanvas","bindWindow","handleOrientationChange","orientation","handleMotion","incrementQuaternion","tempEventDownX","tempEventDownY","handleEvent","ORIENTATION","accData","rotationRate","beta","gamma","alpha","eventQuaternion","getQuaternion","buildEvent","evt","canvas","offsetWidth","offsetHeight","DOWN","resize","RESIZE","buildEventKey","keyCode","code","keyDown","KEY_DOWN","preventDefault","keyUp","KEY_UP","handleMouseUp","offsetX","offsetY","handleEventDown","handleEventMove","xUp","yUp","handleTouchEnd","handleTouchStart","HTMLElement","getBoundingClientRect","touches","clientX","clientY","cancelable","handleTouchMove","targetEvent","cb","addEventListener","isBodyFocus","_event","activeElement","body","degtorad","radtodeg","_x","_y","_z","cX","cY","cZ","sX","sY","sZ","screenAccData","SYSTEM_EVENTS","IdGenerator_1","EngineObject","$hidden","copyTexture","_shaderEntity","FontCharacter","FontMeta","RenderUnit_1","VertexModel_1","ModelData_1","TextureVertexModel","createRenderUnits","TextureRenderUnit","renderUnit","createModel","toTextureArray","g","ModelData","_$ID","ColourVertexModel","ColourRenderUnit","toColourArray","ShaderEntity_1","ShaderEntityBuilder","hasTexture","engineObject","entityOption","registerModel","EngineMath_1","Moveable","dampenReduction","resetPhysics","isMoving","collisionIteration","physicSimulation","_","resolveCollision","shouldTranslate","addDampener","collisionStopItThres","movementRotation","isBounded","updateLocBoundToBoundary","completePhysicsIteration","jumpSimulationId","gravitySimulationId","isMoveable","hasCollision","updateDeltaDistance","coordinate","calcTotalDeltaDistance","translateTo","complete","directionalModifier","moveTo","colliding","moveToTime","totalTime","completeSim","moveSimulation","isRotateMove","dampeningProp","xSign","ySign","addImpulse","acceleration","contactTime","setVelocity","runPhysicsSimulation","propTime","translateCollision","setMoveable","WorldDelegate","setEngineHelper","resources","resume","destroy","App_1","EngineHelper","subscriberPool","resourcesLoading","bufferCache","fontNameKeyReverse","uvCache","vertexUVCache","AppSubscription","GET_FPS","fps","startIteration","START_ITERATION","shaderProgram","isOutOfBound","slice","pushPayload","renderEntity","RendererSubscription","CREATE_TEXTURE","createTexturePayload","getFPS","getTotalPixelHeight","screen","getTotalPixelWidth","getScreenHeight","getScreenWidth","getTime","getVerticesById","updateBufferCache","verticesCacheId","addBufferCache","promise","xhr","XMLHttpRequest","open","onreadystatechange","readyState","DONE","status","cacheId_1","responseText","registerBuffer","registerFont","meta","send","getAllResourcesLoading","all","notification","getBuffer","getBufferModelData","REGISTER_ENTITY","registerEntityPayload","initFont","fontType","newVertexModelUv3d","cache","uv","planeUV","getUVCache","addUVCache","getVertexUvCache","cache_1","addVertexUvCache","vertexUv","isClickedObject","distanceEvent","updateProjectionMatrix","UPDATE_PROJECTION_MATRIX","Rect2d","SpriteModel","textures","spriteIdx","calcSpriteIdx","spriteLength","idxFactor","WebGLContainer","Camera_1","Updater_1","EngineHelper_1","NotificationQueue_1","SubscriberPool_1","elementId","parentElement","aspectRatio","isFullScreen","restoreContentFn","appendChild","style","display","removeChild","measureElement","getAspectRatio","innerWidth","innerHeight","devicePixelRatio","documentElement","clientWidth","clientHeight","getCtx","getContext","App","ready","isPaused","frameTime","framesElapsed","setup","updater","renderer","setupCamera","onEvent","resizeScreen","clearInterval","interval","animationFrame","notifyFrames","errorCallback","requestAnimationFrame","subscribe","startRunLoop","isStepRender","initSystem","runApp","onRunError","run","startTime","setTimeout","resizeCanvas","getElementById","buildCanvas","appElement","canvasId","toggleShow","isVisible","hide","togglePause","unpause","eventThrottle","clearColour","glContext","setClearColor","setFPS","toggleStepRender","NotificationPayload","Notification","action","from","LinkedList","NotificationQueue","queueMap","clearQueue","nodes","pushNotification","take","getBottom","shiftQueue","WebGLContext","clearColor","setupDefault","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","frontFace","CCW","clearDepth","depthFunc","LEQUAL","deleteTexture","resizeViewPort","getWebGL2RenderingContext","destroyWebGL","ctx2","isWebGL2RenderingContext","createTransformFeedback","bindVertexArray","numAttribs","getParameter","MAX_VERTEX_ATTRIBS","tmp","ii","vertexAttrib1f","vertexAttribDivisor","numTextureUnits","MAX_TEXTURE_IMAGE_UNITS","TEXTURE_CUBE_MAP","TEXTURE_2D_ARRAY","TEXTURE_3D","bindSampler","useProgram","ELEMENT_ARRAY_BUFFER","DITHER","SCISSOR_TEST","blendColor","blendEquation","FUNC_ADD","ONE","ZERO","clearStencil","colorMask","LESS","depthMask","depthRange","hint","GENERATE_MIPMAP_HINT","DONT_CARE","lineWidth","pixelStorei","PACK_ALIGNMENT","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","BROWSER_DEFAULT_WEBGL","polygonOffset","sampleCoverage","scissor","stencilFunc","ALWAYS","stencilMask","stencilOp","KEEP","STENCIL_BUFFER_BIT","drawBuffers","readBuffer","COPY_READ_BUFFER","COPY_WRITE_BUFFER","PIXEL_PACK_BUFFER","PIXEL_UNPACK_BUFFER","numTransformFeedbacks","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","bindBufferBase","TRANSFORM_FEEDBACK_BUFFER","numUBOs","MAX_UNIFORM_BUFFER_BINDINGS","UNIFORM_BUFFER","RASTERIZER_DISCARD","UNPACK_IMAGE_HEIGHT","UNPACK_SKIP_IMAGES","UNPACK_ROW_LENGTH","UNPACK_SKIP_ROWS","UNPACK_SKIP_PIXELS","PACK_ROW_LENGTH","PACK_SKIP_ROWS","PACK_SKIP_PIXELS","FRAGMENT_SHADER_DERIVATIVE_HINT","programInfo","getProgramParameter","ACTIVE_ATTRIBUTES","attribInfo","getActiveAttrib","VertexModel","BaseCamera","zoomScale","baseTranslate","_isUpdateView","commitProjectionView","clearPan","pan","speed","steps","_moveTime","tz","isUpdateView","diff","cameraOptions","experimental","inverseAngleY","zoomIn","delta","zoomOut","maxFovAspect","atan","maxFov","zoom","setZoom","setBaseTranslate","isFovMax","Camera2d","INTERVAL_TIME","translateSpace","pan2d","pan2dDif","Camera3d","pan3d","Camera","vertexUvCacheId","Position","nx","ny","nz","maxWidth","Coordinate","Colour","Resource","LineColour","EntityManager2d","EngineMap_1","ObjectManager_1","EntityManager2d_1","Font_2","ResourceResolver_1","Resource_1","Light_1","BitmapConfigParser_1","ModelObject3d_1","Object3d_1","EPSILON","ARRAY_TYPE","RANDOM","setMatrixArrayType","degree","BasicSprite","Entity3DProgram_1","EntityColorProgram_1","WebGLContext_1","NOTIFICATION_PRE_RENDER_KEY","NOTIFICATION_RENDER_KEY","NOTIFICATION_INIT_KEY","modelData","UPDATE_BUFFER","SET_LIGHTING","RENDER_ENTITY","Renderer","_renderEntities","cachedModelData","shader3DProgram","shaderColourProgram","_getProgramOpt","_getProgram3D","_isPlain","_defRender","_defRenderTop","_render","payload","_resetDefferred","handleNotification","colourModel","model3d","model2d","readMessages","isUniqueAction","message","unique","_lazyLoadProgram","lX","lY","mX","mY","TriangleColour2d","triangleXYColour","ModelObject2d","priority","BaseProgram","vertexShaderContent","fragmentShaderContent","vertexShader","createShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","fragmentChar","vertexChar","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","createProgram","attachShader","linkProgram","validateProgram","LINK_STATUS","getProgramInfoLog","deleteProgram","FntFontReader_1","VertexParser_1","bitmapLoader","sources","FontMetaData_1","FntFontReader","lines","lineIdx","parseWidth","parseHeight","parseFilename","parseLineHeight","parseChar","match","FONT_CHAR","char","fromCharCode","HEIGHT","lineHeight","LINE_HEIGHT","WIDTH","FILENAME","RegExp","column","RenderUnit","TextureUnit","VertexBuilder_1","EngineObjectHelper","VertexBuilder","normalDirection","XY","ZX","YZ","ZY","BACKWARDS","FORWARD","toArray2D","vertexes","vertexConstruct","_vertex","planeCCW","loc","planeXY","PLANE","circleXYColour","segments","increment","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","Symbol","toStringTag"],"sourceRoot":""}