{"version":3,"file":"index.js","mappings":"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","sources":["webpack://ExampleApp/webpack/universalModuleDefinition","webpack://ExampleApp/./dist/Core/WebGL/EntityProgram/Entity3DProgram.js","webpack://ExampleApp/./dist/Core/Data/Vector2d.js","webpack://ExampleApp/./dist/Entity/PlaneColour.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelPosition.js","webpack://ExampleApp/./dist/Core/Data/Rect3d.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/vec2.js","webpack://ExampleApp/./dist/Core/EngineDebugger.js","webpack://ExampleApp/./dist/Core/Common/SubscriberPool.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelObject3d.js","webpack://ExampleApp/./dist/Core/Builder/ConfigMapBuilder.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat2.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat2d.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat3.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat4.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/vec3.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/vec4.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/quat.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/quat2.js","webpack://ExampleApp/./dist/Core/WebGL/Shaders/LightFragmentShader.glsl","webpack://ExampleApp/./dist/Core/WebGL/ShaderProgram/Shader3DProgram.js","webpack://ExampleApp/./dist/Manager/EntityManager.js","webpack://ExampleApp/./dist/Core/Common/IdGenerator.js","webpack://ExampleApp/./dist/Entity/SpriteMoveable.js","webpack://ExampleApp/./dist/Core/Buffer/ArrayBuffer.js","webpack://ExampleApp/./dist/Core/Font/Font.js","webpack://ExampleApp/./dist/Core/EngineEntity/ShaderEntity.js","webpack://ExampleApp/./dist/Core/Data/RenderOption.js","webpack://ExampleApp/./dist/Core/Data/Coordinate.js","webpack://ExampleApp/./dist/Core/WebGL/Base/ProgramReference.js","webpack://ExampleApp/./dist/Manager/ObjectManager.js","webpack://ExampleApp/./dist/Core/Common/Timer.js","webpack://ExampleApp/./dist/Core/Physics/EngineMath.js","webpack://ExampleApp/./dist/Core/WebGL/EntityProgram/EntityColorProgram.js","webpack://ExampleApp/./dist/Core/Physics/Physics.js","webpack://ExampleApp/./dist/Core/Updater.js","webpack://ExampleApp/./dist/Core/EngineEntity/EngineMap.js","webpack://ExampleApp/./dist/Entity/Plane3d.js","webpack://ExampleApp/./dist/Core/WebGL/ShaderProgram/ShaderColourProgram.js","webpack://ExampleApp/./dist/AssetLoader/BitmapConfigParser.js","webpack://ExampleApp/./dist/Core/Buffer/Texture.js","webpack://ExampleApp/./dist/Core/Physics/CollisionDetection.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelObjectRect3d.js","webpack://ExampleApp/./dist/Entity/Plane2d.js","webpack://ExampleApp/./ExampleApp/index.ts","webpack://ExampleApp/./dist/Core/Data/Light.js","webpack://ExampleApp/./dist/Core/WebGL/Shaders/PassthroughVertexShader.glsl","webpack://ExampleApp/./dist/Core/Events.js","webpack://ExampleApp/./dist/Core/WebGL/Shaders/ShadowLightFragmentShader.glsl","webpack://ExampleApp/./dist/Core/EngineEntity/EngineObject.js","webpack://ExampleApp/./dist/Core/Data/FontMetaData.js","webpack://ExampleApp/./dist/Core/Data/TextureVertexModel.js","webpack://ExampleApp/./dist/Core/Data/Colour.js","webpack://ExampleApp/./dist/Core/Data/ModelData.js","webpack://ExampleApp/./dist/Core/Data/ColourVertexModel.js","webpack://ExampleApp/./dist/Core/Builder/ShaderEntityBuilder.js","webpack://ExampleApp/./dist/Entity/Moveable.js","webpack://ExampleApp/./dist/Core/WorldDelegate.js","webpack://ExampleApp/./dist/Core/EngineHelper.js","webpack://ExampleApp/./dist/Core/Data/Rect2d.js","webpack://ExampleApp/./dist/Core/WebGL/Shaders/RGBFragmentShader.glsl","webpack://ExampleApp/./dist/Core/WebGL/Shaders/ShadowLightVertexShader.glsl","webpack://ExampleApp/./dist/Entity/SpriteModel.js","webpack://ExampleApp/./dist/Core/App.js","webpack://ExampleApp/./dist/Core/Common/NotificationQueue.js","webpack://ExampleApp/./dist/Core/WebGL/Base/WebGLContext.js","webpack://ExampleApp/./dist/Core/Data/VertexModel.js","webpack://ExampleApp/./dist/Core/Camera.js","webpack://ExampleApp/./ExampleApp/Sphere.ts","webpack://ExampleApp/./dist/Core/EngineEntity/Position.js","webpack://ExampleApp/./dist/index.js","webpack://ExampleApp/./dist/Core/Data/Resource.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/common.js","webpack://ExampleApp/./dist/Entity/BasicSprite.js","webpack://ExampleApp/./dist/Core/Renderer.js","webpack://ExampleApp/./dist/Entity/LineColour.js","webpack://ExampleApp/./dist/Entity/TriangleColour2d.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelObject2d.js","webpack://ExampleApp/./dist/Core/WebGL/Shaders/LightVertexShader.glsl","webpack://ExampleApp/./ExampleApp/Ground3d.ts","webpack://ExampleApp/./dist/Manager/EntityManager2d.js","webpack://ExampleApp/./dist/AssetLoader/VertexParser.js","webpack://ExampleApp/./dist/Core/WebGL/Shaders/ShadowDepthFragmentShader.glsl","webpack://ExampleApp/./dist/Core/WebGL/Base/BaseProgram.js","webpack://ExampleApp/./dist/AssetLoader/ResourceResolver.js","webpack://ExampleApp/./dist/AssetLoader/FntFontReader.js","webpack://ExampleApp/./dist/Core/Data/RenderUnit.js","webpack://ExampleApp/./dist/Entity/Object3d.js","webpack://ExampleApp/./dist/Core/EngineEntity/EngineObjectHelper.js","webpack://ExampleApp/./dist/Core/Data/PlaneType.js","webpack://ExampleApp/./dist/Core/WebGL/Shaders/RGBVertexShader.glsl","webpack://ExampleApp/./dist/Core/Builder/VertexBuilder.js","webpack://ExampleApp/webpack/bootstrap","webpack://ExampleApp/webpack/runtime/define property getters","webpack://ExampleApp/webpack/runtime/hasOwnProperty shorthand","webpack://ExampleApp/webpack/runtime/make namespace object","webpack://ExampleApp/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ExampleApp\"] = factory();\n\telse\n\t\troot[\"ExampleApp\"] = factory();\n})(self, () => {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Shader3DProgram_1 = require(\"../ShaderProgram/Shader3DProgram\");\nvar RenderOption_1 = require(\"../../Data/RenderOption\");\nvar Entity3DProgram = /** @class */ (function () {\n    function Entity3DProgram(ctx) {\n        this.ctx = ctx;\n        this.program = new Shader3DProgram_1.default(ctx);\n    }\n    Entity3DProgram.prototype.updatePerspective = function (projectionMatrix) {\n        this.program.bindProgram();\n        this.program.glSetProjectMatrix(projectionMatrix);\n    };\n    Entity3DProgram.prototype.delete = function () {\n        this.program.arrayBuffer.delete();\n        this.program.delete();\n    };\n    Entity3DProgram.prototype.setLight = function (light, camera) {\n        this.program.setLight(light, camera);\n    };\n    Entity3DProgram.prototype.updateBuffer = function (entity, buffer) {\n        var opt = entity.getOpt();\n        if (RenderOption_1.ShaderType.THREE_DIMENSION !== opt.shaderType) {\n            console.error(\"Updating buffer for registered 3D Entity but with different shader type as RenderOptions\", opt);\n            return;\n        }\n        var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n        if (!buffer || buffer.length !== buffReg.verticesSize) {\n            console.error(\"New Buffer data does not match initial buffer data!\", entity, buffer, buffReg.verticesSize);\n        }\n        this.program.arrayBuffer.bufferSub(buffReg.offset, buffer, Shader3DProgram_1.default.DRAW_VERTEX_SIZE);\n    };\n    Entity3DProgram.prototype._render3DShadowEntities = function (entities) {\n        for (var index = 0; index < entities.length; index++) {\n            var data = entities[index];\n            var entity = data[0];\n            var model = data[1];\n            var opt = entity.getOpt();\n            this.program.glSetShadowModelMatrix(model);\n            if (!entity.rendererBufferId) {\n                throw new Error(\"Unregistered entity buffer\" + entity);\n            }\n            var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n            if (opt.renderType === RenderOption_1.RenderType.TRIANGLE) {\n                this.ctx.drawArrays(this.ctx.TRIANGLES, buffReg.offset, buffReg.size);\n            }\n            else {\n                this.ctx.drawArrays(this.ctx.TRIANGLE_STRIP, buffReg.offset, buffReg.size);\n            }\n        }\n    };\n    Entity3DProgram.prototype._setupShadow = function () {\n        this.program.bindShadowTexture();\n    };\n    Entity3DProgram.prototype.render3DShadowMap = function (entities, setOriginalViewport) {\n        if (!this.program.isShadowEnabled) {\n            return;\n        }\n        this.ctx.disable(this.ctx.CULL_FACE);\n        this.program.prepareShadowTexture();\n        this._render3DShadowEntities(entities);\n        this.program.revertShadowTexture();\n        setOriginalViewport();\n        this.ctx.enable(this.ctx.CULL_FACE);\n        this.ctx.cullFace(this.ctx.BACK);\n        this._setupShadow();\n    };\n    Entity3DProgram.prototype.render = function (entities, camera, textureReg, is2d) {\n        this.program.arrayBuffer.bind();\n        this.program.bindAttributePointers();\n        this.program.bindProgram();\n        this.program.glSetViewMatrix(camera.viewMatrix);\n        if (is2d) {\n            if (this.ctx.isEnabled(this.ctx.CULL_FACE)) {\n                this.ctx.disable(this.ctx.CULL_FACE);\n            }\n            if (this.ctx.isEnabled(this.ctx.DEPTH_TEST)) {\n                this.ctx.disable(this.ctx.DEPTH_TEST);\n            }\n        }\n        else {\n            if (!this.ctx.isEnabled(this.ctx.CULL_FACE)) {\n                this.ctx.enable(this.ctx.CULL_FACE);\n            }\n            if (!this.ctx.isEnabled(this.ctx.DEPTH_TEST)) {\n                this.ctx.enable(this.ctx.DEPTH_TEST);\n            }\n        }\n        for (var index = 0; index < entities.length; index++) {\n            var data = entities[index];\n            var entity = data[0];\n            var model = data[1];\n            var opt = entity.getOpt();\n            if (!entity.rendererTextureRef) {\n                throw new Error(\"Unregistered entity texture\" + entity);\n            }\n            var texReg = textureReg[entity.rendererTextureRef];\n            this.program.bindTexture(texReg.texture);\n            this.program.glSetModelViewMatrix(model);\n            if (!entity.rendererBufferId) {\n                throw new Error(\"Unregistered entity buffer\" + entity);\n            }\n            var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n            if (opt.renderType === RenderOption_1.RenderType.TRIANGLE) {\n                this.ctx.drawArrays(this.ctx.TRIANGLES, buffReg.offset, buffReg.size);\n            }\n            else {\n                this.ctx.drawArrays(this.ctx.TRIANGLE_STRIP, buffReg.offset, buffReg.size);\n            }\n        }\n        this.program.arrayBuffer.unbind();\n        this.program.unbindAttributePointers();\n        this.program.unbindProgram();\n    };\n    Entity3DProgram.prototype.bindBuffer = function () {\n        this.program.arrayBuffer.bufferBind();\n    };\n    Entity3DProgram.prototype.registerEntity = function (object, objBuffer) {\n        var size = objBuffer.length / Shader3DProgram_1.default.DRAW_VERTEX_SIZE;\n        this.program.arrayBuffer.bufferReg[this.program.arrayBuffer.bufferRegId] = {\n            offset: this.program.arrayBuffer.length(),\n            size: size,\n            verticesSize: objBuffer.length,\n        };\n        this.program.arrayBuffer.push(objBuffer, size);\n        object.rendererBufferId = this.program.arrayBuffer.bufferRegId;\n        this.program.arrayBuffer.bufferRegId++;\n    };\n    return Entity3DProgram;\n}());\nexports.default = Entity3DProgram;\n//# sourceMappingURL=Entity3DProgram.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vec2_1 = require(\"gl-matrix/vec2\");\nvar Vector2d = /** @class */ (function (_super) {\n    __extends(Vector2d, _super);\n    function Vector2d() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Vector2d.prototype, \"x\", {\n        get: function () {\n            return this[0];\n        },\n        set: function (x) {\n            this[0] = x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Vector2d.prototype, \"y\", {\n        get: function () {\n            return this[1];\n        },\n        set: function (y) {\n            this[1] = y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Vector2d.prototype.normalise = function () {\n        return vec2_1.default.normalize(Vector2d.newVector(0.0, 0.0), this);\n    };\n    Vector2d.prototype.dot = function (v) {\n        return vec2_1.default.dot(this, v);\n    };\n    Vector2d.prototype.negate = function () {\n        return vec2_1.default.negate(Vector2d.newVector(0.0, 0.0), this);\n    };\n    Vector2d.prototype.scale = function (s) {\n        return vec2_1.default.scale(Vector2d.newVector(0.0, 0.0), this, s);\n    };\n    Vector2d.prototype.subtract = function (v) {\n        return vec2_1.default.subtract(Vector2d.newVector(0, 0), this, v);\n    };\n    Vector2d.prototype.add = function (v) {\n        return vec2_1.default.add(Vector2d.newVector(0, 0), this, v);\n    };\n    Vector2d.newVector = function (x, y) {\n        var vector = new Vector2d();\n        vector.x = x;\n        vector.y = y;\n        return vector;\n    };\n    return Vector2d;\n}(Float32Array));\nexports.default = Vector2d;\n//# sourceMappingURL=Vector2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderOption_1 = require(\"../Core/Data/RenderOption\");\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar ShaderEntityBuilder_1 = require(\"../Core/Builder/ShaderEntityBuilder\");\nvar Colour_1 = require(\"../Core/Data/Colour\");\nvar ColourVertexModel_1 = require(\"../Core/Data/ColourVertexModel\");\nvar EngineObjectHelper_1 = require(\"../Core/EngineEntity/EngineObjectHelper\");\nvar PlaneColour = /** @class */ (function (_super) {\n    __extends(PlaneColour, _super);\n    function PlaneColour(rect, rgba) {\n        var _this = _super.call(this) || this;\n        _this.rgba = rgba;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    PlaneColour.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    PlaneColour.prototype.init = function (engineHelper) {\n        this.vertexModel = new ColourVertexModel_1.default().fillRenderUnits(EngineObjectHelper_1.default.vertex.planeXYColour(this.rgba || new Colour_1.default(0, 0, 0, 0)));\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.TRIANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.COLOUR;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .build(this, renderOpt);\n    };\n    return PlaneColour;\n}(EngineObject_1.default));\nexports.default = PlaneColour;\n//# sourceMappingURL=PlaneColour.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Rect3d_1 = require(\"../Data/Rect3d\");\nvar Position_1 = require(\"./Position\");\nvar ModelPosition = /** @class */ (function () {\n    function ModelPosition() {\n        var _this = this;\n        this.position = new Position_1.default();\n        this.dirtyModel = true;\n        this.dirtyQuat = true;\n        this.dirtyPos = true;\n        this.dirtyScale = true;\n        this.dirtyOrigin = true;\n        this.intermediateModels = [\n            gl_matrix_1.mat4.create(),\n            gl_matrix_1.mat4.create(),\n            gl_matrix_1.mat4.create(),\n            gl_matrix_1.mat4.create(),\n        ];\n        // prevent memory reallocation of objects\n        this.initialMat4Temp = gl_matrix_1.mat4.create();\n        this.rotateQuatTemp = gl_matrix_1.quat.create();\n        this.rotateMat4Temp = gl_matrix_1.mat4.create();\n        this.getModel = function () {\n            if (_this.dirtyModel) {\n                _this.dirtyModel = false;\n                _this._buildModel();\n            }\n            return _this.cachedModel;\n        };\n        this.getPosition = function () {\n            return _this.position;\n        };\n    }\n    ModelPosition.prototype.setPosition = function (position) {\n        this.position = position;\n        this.dirtyOrigin = true;\n        this.dirtyQuat = true;\n        this.dirtyPos = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.pos = function () {\n        return [this.position.x, this.position.y, this.position.z];\n    };\n    ModelPosition.prototype.centerRect = function (rect) {\n        this.center(rect.x, rect.y, rect.z);\n    };\n    ModelPosition.prototype.rotateOriginRect = function (rect) {\n        this.rotateOrigin(rect.x, rect.y, rect.z);\n    };\n    ModelPosition.prototype.centerCoord = function (coord) {\n        this.center(coord.x, coord.y, coord.z);\n    };\n    ModelPosition.prototype.center = function (x, y, z) {\n        if (this.position.x === x &&\n            this.position.y === y &&\n            this.position.z === z) {\n            return;\n        }\n        this.position.x = x;\n        this.position.y = y;\n        this.position.z = z;\n        this.dirtyPos = true;\n        this.dirtyModel = true;\n        this.rotateOrigin(x, y, z);\n    };\n    ModelPosition.prototype.translate = function (dx, dy, dz) {\n        this.position.x += dx;\n        this.position.y += dy;\n        this.position.z += dz;\n        this.dirtyPos = true;\n        this.dirtyModel = true;\n        this.rotateOrigin(this.position.x, this.position.y, this.position.z);\n    };\n    ModelPosition.prototype.rotateOrigin = function (x, y, z) {\n        if (this.position.originX !== x ||\n            this.position.originY !== y ||\n            this.position.originZ !== z) {\n            this.position.originX = x;\n            this.position.originY = y;\n            this.position.originZ = z;\n            this.dirtyOrigin = true;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.angleX = function (x) {\n        if (this.position.ax !== x) {\n            this.position.ax = x;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.angleY = function (y) {\n        if (this.position.ay !== y) {\n            this.position.ay = y;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.angleZ = function (z) {\n        if (this.position.az !== z) {\n            this.position.az = z;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.rotateX = function (x) {\n        this.angleX(x);\n    };\n    ModelPosition.prototype.rotateY = function (y) {\n        this.angleY(y);\n    };\n    ModelPosition.prototype.rotateZ = function (z) {\n        this.angleZ(z);\n    };\n    ModelPosition.prototype.scaleX = function (x) {\n        this.position.scaleX = x;\n        this.position.width = this.position.scaleX;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scaleY = function (y) {\n        this.position.scaleY = y;\n        this.position.height = this.position.scaleY;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scaleZ = function (z) {\n        this.position.scaleZ = z;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scale = function (x, y, z) {\n        if (this.position.scaleX === x &&\n            this.position.scaleY === y &&\n            this.position.scaleZ === z) {\n            return;\n        }\n        this.position.scaleX = x;\n        this.position.scaleY = y;\n        this.position.scaleZ = z;\n        this.position.width = x;\n        this.position.height = y;\n        this.position.length = z;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scaleRect = function (rect) {\n        this.scale(rect.width, rect.height, rect.length);\n    };\n    ModelPosition.prototype._buildQuat = function () {\n        var quatMat = this.createMat4NoAlloc(this.rotateMat4Temp);\n        var quatRotationxyz = this.createQuatNoAlloc(this.rotateQuatTemp);\n        quatRotationxyz = gl_matrix_1.quat.rotateX(quatRotationxyz, quatRotationxyz, this.degreesToRadians(this.position.ax));\n        quatRotationxyz = gl_matrix_1.quat.rotateY(quatRotationxyz, quatRotationxyz, this.degreesToRadians(this.position.ay));\n        quatRotationxyz = gl_matrix_1.quat.rotateZ(quatRotationxyz, quatRotationxyz, this.degreesToRadians(this.position.az));\n        quatRotationxyz = gl_matrix_1.quat.normalize(quatRotationxyz, quatRotationxyz);\n        return gl_matrix_1.mat4.fromQuat(quatMat, quatRotationxyz);\n    };\n    ModelPosition.prototype.getIntermediateModel = function (point, dest) {\n        var org = this.intermediateModels[point];\n        for (var index in dest) {\n            if (dest.hasOwnProperty(index)) {\n                dest[index] = org[index];\n            }\n        }\n        return dest;\n    };\n    ModelPosition.prototype._buildModelIntermediate = function (point, dest) {\n        // faster copy - preserve existing reference to prevent GC\n        var org = this.intermediateModels[point];\n        for (var index in dest) {\n            if (dest.hasOwnProperty(index)) {\n                org[index] = dest[index];\n            }\n        }\n        return dest;\n    };\n    ModelPosition.prototype.createQuatNoAlloc = function (out) {\n        out[0] = 0;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 1;\n        return out;\n    };\n    ModelPosition.prototype.createMat4NoAlloc = function (out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 0;\n        out[5] = 1;\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = 0;\n        out[9] = 0;\n        out[10] = 1;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    };\n    ModelPosition.prototype._buildModel = function () {\n        var _dirty = false;\n        var dest = this.createMat4NoAlloc(this.initialMat4Temp);\n        if (this.dirtyOrigin) {\n            _dirty = true;\n            var origin_1 = [\n                this.position.originX,\n                this.position.originY,\n                this.position.originZ,\n            ];\n            gl_matrix_1.mat4.translate(dest, dest, origin_1);\n            this._buildModelIntermediate(0, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(0, dest);\n        }\n        // cache this one as its heavy\n        if (this.dirtyQuat || _dirty) {\n            _dirty = true;\n            this.quatRotationxyz = this._buildQuat();\n            gl_matrix_1.mat4.multiply(dest, dest, this.quatRotationxyz);\n            this._buildModelIntermediate(1, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(1, dest);\n        }\n        if (this.dirtyPos || _dirty) {\n            _dirty = true;\n            var negOrigin = [\n                -1 * this.position.originX,\n                -1 * this.position.originY,\n                -1 * this.position.originZ,\n            ];\n            gl_matrix_1.mat4.translate(dest, dest, negOrigin);\n            var pos = [\n                this.position.x,\n                this.position.y,\n                this.position.z,\n            ];\n            gl_matrix_1.mat4.translate(dest, dest, pos);\n            this._buildModelIntermediate(2, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(2, dest);\n        }\n        if (this.dirtyScale || _dirty) {\n            _dirty = true;\n            var scale = [\n                this.position.scaleX,\n                this.position.scaleY,\n                this.position.scaleZ,\n            ];\n            gl_matrix_1.mat4.scale(dest, dest, scale);\n            this._buildModelIntermediate(3, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(3, dest);\n        }\n        this.dirtyPos = false;\n        this.dirtyQuat = false;\n        this.dirtyScale = false;\n        this.dirtyOrigin = false;\n        this.cachedModel = dest;\n    };\n    ModelPosition.prototype.degreesToRadians = function (degrees) {\n        return Math.round(gl_matrix_1.glMatrix.toRadian(degrees) * 100) / 100;\n    };\n    ModelPosition.prototype.setRect = function (rect) {\n        this.scaleRect(rect);\n        this.centerRect(rect);\n    };\n    // memory optimised\n    ModelPosition.prototype.setRect2 = function (x, y, z, width, height, length) {\n        this.scale(width, height, length);\n        this.center(x, y, z);\n    };\n    // memory optimised\n    ModelPosition.prototype.getRect2 = function () {\n        return this.position;\n    };\n    ModelPosition.prototype.getRect = function () {\n        return new Rect3d_1.default(this.position.x, this.position.y, this.position.z, this.position.width, this.position.height, this.position.length);\n    };\n    return ModelPosition;\n}());\nexports.default = ModelPosition;\n//# sourceMappingURL=ModelPosition.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Coordinate_1 = require(\"./Coordinate\");\nvar Rect3d = /** @class */ (function (_super) {\n    __extends(Rect3d, _super);\n    function Rect3d(x, y, z, width, height, length) {\n        var _this = _super.call(this, x, y, z) || this;\n        _this.width = width || 0;\n        _this.height = height || 0;\n        _this.length = length || 0;\n        return _this;\n    }\n    Rect3d.prototype.center = function () {\n        if (!this.centre || !this.equalCenter(this.centre)) {\n            this.centre = this.newCenter();\n        }\n        return this.centre;\n    };\n    Rect3d.prototype.equal = function (r) {\n        return (r.x === this.x &&\n            r.y === this.y &&\n            r.z === this.z &&\n            r.width === this.width &&\n            r.height === this.height &&\n            r.length === this.length);\n    };\n    Rect3d.prototype.equalCenter = function (c) {\n        return (c.x === this.x + this.width / 2.0 &&\n            c.y === this.y + this.height / 2.0 &&\n            c.z === this.z + this.length / 2.0 &&\n            c.width === this.width &&\n            c.height === this.height &&\n            c.length === this.length);\n    };\n    Rect3d.prototype.newCenter = function () {\n        return new Rect3d(this.x + this.width / 2.0, this.y + this.height / 2.0, this.z + this.length / 2.0, this.width, this.height, this.length);\n    };\n    return Rect3d;\n}(Coordinate_1.default));\nexports.default = Rect3d;\n//# sourceMappingURL=Rect3d.js.map","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EngineDebugger = /** @class */ (function () {\n    function EngineDebugger(canvas) {\n        this.canvas = canvas;\n        this.isVisible = true;\n        this.updateInterval = null;\n        this.fpsCounter = 0;\n        this.lastFrameTime = performance.now();\n        this.frameTimeHistory = [];\n        this.renderCallCount = 0;\n        this.world = null;\n        this.renderer = null;\n        this.engineHelper = null;\n        this.createDebugUI();\n        this.startUpdating();\n    }\n    EngineDebugger.prototype.createDebugUI = function () {\n        // Create debug overlay container\n        this.debugElement = document.createElement('div');\n        this.debugElement.id = 'engine-debugger';\n        this.debugElement.style.cssText = \"\\n      position: absolute;\\n      top: 10px;\\n      right: 10px;\\n      background: rgba(0, 0, 0, 0.9);\\n      color: #ffffff;\\n      font-family: 'Courier New', monospace;\\n      font-size: 12px;\\n      padding: 15px;\\n      border-radius: 8px;\\n      min-width: 400px;\\n      max-width: 500px;\\n      max-height: 80vh;\\n      overflow-y: auto;\\n      z-index: 10000;\\n      border: 1px solid #333;\\n      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\\n      line-height: 1.4;\\n    \";\n        // Create the static structure that won't be replaced\n        this.createStaticStructure();\n        // Add to canvas parent or body\n        var parent = this.canvas.parentElement || document.body;\n        parent.style.position = 'relative'; // Ensure parent can contain absolute positioned children\n        parent.appendChild(this.debugElement);\n    };\n    EngineDebugger.prototype.createStaticStructure = function () {\n        var _this = this;\n        this.debugElement.innerHTML = \"\\n      <div style=\\\"margin-top: 25px;\\\">\\n        <h3 style=\\\"margin: 0 0 10px 0; color: #4CAF50; font-size: 14px;\\\">\\uD83C\\uDFAE Engine Debugger</h3>\\n        \\n        <div id=\\\"debug-performance\\\" style=\\\"margin-bottom: 10px;\\\">\\n          <strong style=\\\"color: #FFD700;\\\">Performance:</strong><br>\\n          <span id=\\\"perf-content\\\"></span>\\n        </div>\\n\\n        <div id=\\\"debug-camera-controls\\\" style=\\\"margin-bottom: 15px; border: 1px solid #444; padding: 8px; border-radius: 4px;\\\">\\n          <strong style=\\\"color: #FFD700;\\\">\\uD83D\\uDCF9 Camera Controls:</strong><br>\\n          <div style=\\\"margin: 8px 0;\\\">\\n            <strong>Position:</strong><br>\\n            <div style=\\\"display: flex; gap: 5px; margin: 5px 0;\\\">\\n              <div style=\\\"flex: 1;\\\">\\n                X: <input id=\\\"cam-pos-x\\\" type=\\\"number\\\" step=\\\"0.1\\\" \\n                   style=\\\"width: 60px; background: #333; color: white; border: 1px solid #555; padding: 2px;\\\">\\n              </div>\\n              <div style=\\\"flex: 1;\\\">\\n                Y: <input id=\\\"cam-pos-y\\\" type=\\\"number\\\" step=\\\"0.1\\\" \\n                   style=\\\"width: 60px; background: #333; color: white; border: 1px solid #555; padding: 2px;\\\">\\n              </div>\\n              <div style=\\\"flex: 1;\\\">\\n                Z: <input id=\\\"cam-pos-z\\\" type=\\\"number\\\" step=\\\"0.1\\\" \\n                   style=\\\"width: 60px; background: #333; color: white; border: 1px solid #555; padding: 2px;\\\">\\n              </div>\\n            </div>\\n          </div>\\n          \\n          <div style=\\\"margin: 8px 0;\\\">\\n            <strong>Rotation:</strong><br>\\n            <div style=\\\"display: flex; gap: 5px; margin: 5px 0;\\\">\\n              <div style=\\\"flex: 1;\\\">\\n                X: <input id=\\\"cam-rot-x\\\" type=\\\"number\\\" step=\\\"1\\\" \\n                   style=\\\"width: 60px; background: #333; color: white; border: 1px solid #555; padding: 2px;\\\">\\n              </div>\\n              <div style=\\\"flex: 1;\\\">\\n                Y: <input id=\\\"cam-rot-y\\\" type=\\\"number\\\" step=\\\"1\\\" \\n                   style=\\\"width: 60px; background: #333; color: white; border: 1px solid #555; padding: 2px;\\\">\\n              </div>\\n              <div style=\\\"flex: 1;\\\">\\n                Z: <input id=\\\"cam-rot-z\\\" type=\\\"number\\\" step=\\\"1\\\" \\n                   style=\\\"width: 60px; background: #333; color: white; border: 1px solid #555; padding: 2px;\\\">\\n              </div>\\n            </div>\\n          </div>\\n          \\n          <div style=\\\"margin: 8px 0;\\\">\\n            <strong>Origin:</strong><br>\\n            <div style=\\\"display: flex; gap: 5px; margin: 5px 0;\\\">\\n              <div style=\\\"flex: 1;\\\">\\n                X: <input id=\\\"cam-origin-x\\\" type=\\\"number\\\" step=\\\"0.1\\\" \\n                   style=\\\"width: 60px; background: #333; color: white; border: 1px solid #555; padding: 2px;\\\">\\n              </div>\\n              <div style=\\\"flex: 1;\\\">\\n                Y: <input id=\\\"cam-origin-y\\\" type=\\\"number\\\" step=\\\"0.1\\\" \\n                   style=\\\"width: 60px; background: #333; color: white; border: 1px solid #555; padding: 2px;\\\">\\n              </div>\\n              <div style=\\\"flex: 1;\\\">\\n                Z: <input id=\\\"cam-origin-z\\\" type=\\\"number\\\" step=\\\"0.1\\\" \\n                   style=\\\"width: 60px; background: #333; color: white; border: 1px solid #555; padding: 2px;\\\">\\n              </div>\\n            </div>\\n          </div>\\n          \\n          <div style=\\\"margin: 8px 0;\\\">\\n            <button id=\\\"reset-camera-btn\\\" \\n                    style=\\\"background: #4CAF50; color: white; border: none; padding: 4px 8px; border-radius: 3px; cursor: pointer; font-size: 11px;\\\">\\n              Reset Camera\\n            </button>\\n            <button id=\\\"look-at-origin-btn\\\" \\n                    style=\\\"background: #2196F3; color: white; border: none; padding: 4px 8px; border-radius: 3px; cursor: pointer; font-size: 11px; margin-left: 5px;\\\">\\n              Look at Origin\\n            </button>\\n            <button id=\\\"reset-origin-btn\\\" \\n                    style=\\\"background: #FF9800; color: white; border: none; padding: 4px 8px; border-radius: 3px; cursor: pointer; font-size: 11px; margin-left: 5px;\\\">\\n              Fix Origin\\n            </button>\\n          </div>\\n        </div>\\n\\n        <div id=\\\"debug-webgl\\\" style=\\\"margin-bottom: 10px;\\\">\\n          <strong style=\\\"color: #FFD700;\\\">WebGL State:</strong><br>\\n          <span id=\\\"webgl-content\\\"></span>\\n        </div>\\n\\n        <div id=\\\"debug-entities\\\" style=\\\"margin-bottom: 10px;\\\">\\n          <strong style=\\\"color: #FFD700;\\\">\\uD83D\\uDCE6 Entities (<span id=\\\"entity-count\\\">0</span>):</strong><br>\\n          <div id=\\\"entities-container\\\" style=\\\"max-height: 180px; overflow-y: auto; overflow-x: hidden; border: 1px solid #444; padding: 5px; margin-top: 5px; background: rgba(0,0,0,0.3);\\\">\\n            <!-- Entities will be populated here -->\\n          </div>\\n        </div>\\n\\n        <div id=\\\"debug-error\\\" style=\\\"margin-bottom: 10px; display: none;\\\">\\n          <strong style=\\\"color: #FF4444;\\\">\\u274C Last Error:</strong><br>\\n          <span id=\\\"error-content\\\" style=\\\"color: #FF4444; font-size: 11px; word-break: break-word;\\\"></span>\\n        </div>\\n        \\n        <div style=\\\"margin-top: 10px; font-size: 10px; color: #888; border-top: 1px solid #444; padding-top: 8px;\\\">\\n          <strong>Controls:</strong> D=Toggle | R=Reset Camera | P=Pause\\n        </div>\\n      </div>\\n    \";\n        // Add toggle button\n        var toggleButton = document.createElement('button');\n        toggleButton.textContent = '×';\n        toggleButton.style.cssText = \"\\n      position: absolute;\\n      top: 5px;\\n      right: 5px;\\n      background: #ff4444;\\n      color: white;\\n      border: none;\\n      border-radius: 3px;\\n      width: 20px;\\n      height: 20px;\\n      cursor: pointer;\\n      font-size: 14px;\\n      line-height: 1;\\n    \";\n        toggleButton.onclick = function () { return _this.toggle(); };\n        this.debugElement.appendChild(toggleButton);\n        // Set up event listeners for camera controls\n        this.setupCameraControlEventListeners();\n    };\n    EngineDebugger.prototype.startUpdating = function () {\n        var _this = this;\n        this.updateInterval = window.setInterval(function () {\n            if (_this.isVisible) {\n                _this.updateDisplay();\n            }\n        }, 100); // Update 10 times per second\n    };\n    EngineDebugger.prototype.calculateFPS = function () {\n        var now = performance.now();\n        var frameTime = now - this.lastFrameTime;\n        this.lastFrameTime = now;\n        this.frameTimeHistory.push(frameTime);\n        if (this.frameTimeHistory.length > 60) {\n            this.frameTimeHistory.shift();\n        }\n        var avgFrameTime = this.frameTimeHistory.reduce(function (a, b) { return a + b; }, 0) / this.frameTimeHistory.length;\n        return Math.round(1000 / avgFrameTime);\n    };\n    EngineDebugger.prototype.updateDebugInfo = function (engineHelper) {\n        this.fpsCounter = this.calculateFPS();\n        if (!engineHelper || !this.isVisible)\n            return;\n        var debugInfo = this.gatherDebugInfo(engineHelper);\n        this.renderDebugInfo(debugInfo);\n    };\n    EngineDebugger.prototype.setReferences = function (world, renderer) {\n        this.world = world;\n        this.renderer = renderer;\n    };\n    EngineDebugger.prototype.setEngineHelper = function (engineHelper) {\n        this.engineHelper = engineHelper;\n    };\n    EngineDebugger.prototype.gatherDebugInfo = function (engineHelper) {\n        var camera = engineHelper.camera;\n        // Get WebGL context info from the canvas\n        var canvas = this.canvas;\n        var glContext = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n        var webglInfo = glContext ? {\n            faceCullingEnabled: glContext.isEnabled(glContext.CULL_FACE),\n            depthTestEnabled: glContext.isEnabled(glContext.DEPTH_TEST),\n            blendEnabled: glContext.isEnabled(glContext.BLEND),\n            clearColor: this.getClearColorString(glContext)\n        } : {\n            faceCullingEnabled: false,\n            depthTestEnabled: false,\n            blendEnabled: false,\n            clearColor: 'unknown'\n        };\n        // Get camera info\n        var cameraInfo = {\n            position: {\n                x: Math.round(camera.camera3d.position.x * 100) / 100,\n                y: Math.round(camera.camera3d.position.y * 100) / 100,\n                z: Math.round(camera.camera3d.position.z * 100) / 100\n            },\n            rotation: {\n                ax: Math.round(camera.camera3d.position.ax * 100) / 100,\n                ay: Math.round(camera.camera3d.position.ay * 100) / 100,\n                az: Math.round(camera.camera3d.position.az * 100) / 100\n            },\n            origin: {\n                x: Math.round(camera.camera3d.position.originX * 100) / 100,\n                y: Math.round(camera.camera3d.position.originY * 100) / 100,\n                z: Math.round(camera.camera3d.position.originZ * 100) / 100\n            }\n        };\n        // Get entity info from world if available\n        var entities = this.world && this.world.entities ? this.world.entities.map(function (entity, index) {\n            var _a, _b;\n            return ({\n                type: entity ? entity.constructor.name : 'null',\n                position: entity ? {\n                    x: Math.round(entity.position.x * 100) / 100,\n                    y: Math.round(entity.position.y * 100) / 100,\n                    z: Math.round(entity.position.z * 100) / 100\n                } : { x: 0, y: 0, z: 0 },\n                hidden: entity ? entity.hidden : true,\n                hasShaderEntity: entity ? !!entity.shaderEntity : false,\n                textureRef: (_a = entity === null || entity === void 0 ? void 0 : entity.shaderEntity) === null || _a === void 0 ? void 0 : _a.rendererTextureRef,\n                bufferId: (_b = entity === null || entity === void 0 ? void 0 : entity.shaderEntity) === null || _b === void 0 ? void 0 : _b.rendererBufferId\n            });\n        }) : [];\n        return {\n            fps: this.fpsCounter,\n            frameTime: this.frameTimeHistory.length > 0 ?\n                Math.round(this.frameTimeHistory[this.frameTimeHistory.length - 1] * 100) / 100 : 0,\n            entityCount: entities.length,\n            camera: cameraInfo,\n            entities: entities,\n            webglInfo: webglInfo,\n            renderCalls: this.renderCallCount,\n            lastError: this.lastError\n        };\n    };\n    EngineDebugger.prototype.getClearColorString = function (ctx) {\n        var color = ctx.getParameter(ctx.COLOR_CLEAR_VALUE);\n        return \"rgba(\".concat(Math.round(color[0] * 255), \", \").concat(Math.round(color[1] * 255), \", \").concat(Math.round(color[2] * 255), \", \").concat(color[3], \")\");\n    };\n    EngineDebugger.prototype.renderDebugInfo = function (info) {\n        // Update performance\n        var perfContent = this.debugElement.querySelector('#perf-content');\n        if (perfContent) {\n            perfContent.innerHTML = \"\\n        FPS: <span style=\\\"color: \".concat(info.fps > 50 ? '#4CAF50' : info.fps > 30 ? '#FFA500' : '#FF4444', \"\\\">\").concat(info.fps, \"</span><br>\\n        Frame Time: \").concat(info.frameTime, \"ms<br>\\n        Render Calls: \").concat(info.renderCalls, \"\\n      \");\n        }\n        // Update camera controls with current values\n        this.updateCameraControls(info.camera);\n        // Update WebGL state\n        var webglContent = this.debugElement.querySelector('#webgl-content');\n        if (webglContent) {\n            webglContent.innerHTML = \"\\n        Face Culling: <span style=\\\"color: \".concat(info.webglInfo.faceCullingEnabled ? '#4CAF50' : '#FF4444', \"\\\">\").concat(info.webglInfo.faceCullingEnabled ? 'ON' : 'OFF', \"</span><br>\\n        Depth Test: <span style=\\\"color: \").concat(info.webglInfo.depthTestEnabled ? '#4CAF50' : '#FF4444', \"\\\">\").concat(info.webglInfo.depthTestEnabled ? 'ON' : 'OFF', \"</span><br>\\n        Blend: <span style=\\\"color: \").concat(info.webglInfo.blendEnabled ? '#4CAF50' : '#FF4444', \"\\\">\").concat(info.webglInfo.blendEnabled ? 'ON' : 'OFF', \"</span><br>\\n        Clear Color: \").concat(info.webglInfo.clearColor, \"\\n      \");\n        }\n        // Update entity count\n        var entityCountEl = this.debugElement.querySelector('#entity-count');\n        if (entityCountEl) {\n            entityCountEl.textContent = info.entityCount.toString();\n        }\n        // Update entities list efficiently - preserve scroll position\n        this.updateEntitiesList(info.entities);\n        // Update error display\n        this.updateErrorDisplay(info.lastError);\n    };\n    EngineDebugger.prototype.updateCameraControls = function (camera) {\n        var posX = this.debugElement.querySelector('#cam-pos-x');\n        var posY = this.debugElement.querySelector('#cam-pos-y');\n        var posZ = this.debugElement.querySelector('#cam-pos-z');\n        var rotX = this.debugElement.querySelector('#cam-rot-x');\n        var rotY = this.debugElement.querySelector('#cam-rot-y');\n        var rotZ = this.debugElement.querySelector('#cam-rot-z');\n        // Origin input elements\n        var originX = this.debugElement.querySelector('#cam-origin-x');\n        var originY = this.debugElement.querySelector('#cam-origin-y');\n        var originZ = this.debugElement.querySelector('#cam-origin-z');\n        if (posX && posX !== document.activeElement)\n            posX.value = camera.position.x.toString();\n        if (posY && posY !== document.activeElement)\n            posY.value = camera.position.y.toString();\n        if (posZ && posZ !== document.activeElement)\n            posZ.value = camera.position.z.toString();\n        if (rotX && rotX !== document.activeElement)\n            rotX.value = camera.rotation.ax.toString();\n        if (rotY && rotY !== document.activeElement)\n            rotY.value = camera.rotation.ay.toString();\n        if (rotZ && rotZ !== document.activeElement)\n            rotZ.value = camera.rotation.az.toString();\n        // Update origin input fields with proper styling based on values\n        if (originX && originX !== document.activeElement) {\n            originX.value = camera.origin.x.toString();\n            originX.style.borderColor = camera.origin.x === 0 ? '#4CAF50' : '#FF4444';\n        }\n        if (originY && originY !== document.activeElement) {\n            originY.value = camera.origin.y.toString();\n            originY.style.borderColor = camera.origin.y === 0 ? '#4CAF50' : '#FF4444';\n        }\n        if (originZ && originZ !== document.activeElement) {\n            originZ.value = camera.origin.z.toString();\n            originZ.style.borderColor = camera.origin.z === 0 ? '#4CAF50' : '#FF4444';\n        }\n    };\n    EngineDebugger.prototype.updateEntitiesList = function (entities) {\n        var container = this.debugElement.querySelector('#entities-container');\n        if (!container)\n            return;\n        // Save current scroll position\n        var scrollTop = container.scrollTop;\n        // Generate new content\n        var entitiesHtml = entities.map(function (entity, index) { return \"\\n      <div style=\\\"margin-bottom: 5px; padding: 4px; border-left: 3px solid \".concat(entity.hidden ? '#FF4444' : '#4CAF50', \"; background: rgba(255,255,255,0.05); border-radius: 2px;\\\">\\n        <strong style=\\\"color: #87CEEB;\\\">\").concat(index, \": \").concat(entity.type, \"</strong><br>\\n        <span style=\\\"font-size: 11px;\\\">\\n          Pos: (\").concat(entity.position.x, \", \").concat(entity.position.y, \", \").concat(entity.position.z, \")<br>\\n          Hidden: \").concat(entity.hidden ? '❌' : '✅', \" | \\n          Shader: \").concat(entity.hasShaderEntity ? '✅' : '❌', \"<br>\\n          \").concat(entity.textureRef ? \"Texture: <span style=\\\"color: #90EE90;\\\">\".concat(entity.textureRef, \"</span><br>\") : '', \"\\n          \").concat(entity.bufferId !== undefined ? \"Buffer ID: <span style=\\\"color: #FFB6C1;\\\">\".concat(entity.bufferId, \"</span>\") : '<span style=\"color: #FF6B6B;\">No Buffer</span>', \"\\n        </span>\\n      </div>\\n    \"); }).join('');\n        // Only update if content has changed\n        if (container.innerHTML !== entitiesHtml) {\n            container.innerHTML = entitiesHtml;\n            // Restore scroll position\n            container.scrollTop = scrollTop;\n        }\n    };\n    EngineDebugger.prototype.updateErrorDisplay = function (lastError) {\n        var errorDiv = this.debugElement.querySelector('#debug-error');\n        var errorContent = this.debugElement.querySelector('#error-content');\n        if (lastError && errorDiv && errorContent) {\n            errorDiv.style.display = 'block';\n            errorContent.textContent = lastError;\n        }\n        else if (errorDiv) {\n            errorDiv.style.display = 'none';\n        }\n    };\n    EngineDebugger.prototype.updateDisplay = function () {\n        // This will be called by the engine\n    };\n    EngineDebugger.prototype.toggle = function () {\n        this.isVisible = !this.isVisible;\n        this.debugElement.style.display = this.isVisible ? 'block' : 'none';\n    };\n    EngineDebugger.prototype.show = function () {\n        this.isVisible = true;\n        this.debugElement.style.display = 'block';\n    };\n    EngineDebugger.prototype.hide = function () {\n        this.isVisible = false;\n        this.debugElement.style.display = 'none';\n    };\n    EngineDebugger.prototype.incrementRenderCalls = function () {\n        this.renderCallCount++;\n    };\n    EngineDebugger.prototype.resetRenderCalls = function () {\n        this.renderCallCount = 0;\n    };\n    EngineDebugger.prototype.logError = function (error) {\n        this.lastError = error;\n        console.error('Engine Error:', error);\n    };\n    EngineDebugger.prototype.destroy = function () {\n        if (this.updateInterval) {\n            clearInterval(this.updateInterval);\n            this.updateInterval = null;\n        }\n        // Remove debugger element\n        if (this.debugElement && this.debugElement.parentElement) {\n            this.debugElement.parentElement.removeChild(this.debugElement);\n        }\n    };\n    EngineDebugger.prototype.setupCameraControlEventListeners = function () {\n        var _this = this;\n        // Position controls\n        var posX = this.debugElement.querySelector('#cam-pos-x');\n        var posY = this.debugElement.querySelector('#cam-pos-y');\n        var posZ = this.debugElement.querySelector('#cam-pos-z');\n        posX === null || posX === void 0 ? void 0 : posX.addEventListener('change', function (e) { return _this.setCameraPosition('x', e.target.value); });\n        posY === null || posY === void 0 ? void 0 : posY.addEventListener('change', function (e) { return _this.setCameraPosition('y', e.target.value); });\n        posZ === null || posZ === void 0 ? void 0 : posZ.addEventListener('change', function (e) { return _this.setCameraPosition('z', e.target.value); });\n        // Rotation controls\n        var rotX = this.debugElement.querySelector('#cam-rot-x');\n        var rotY = this.debugElement.querySelector('#cam-rot-y');\n        var rotZ = this.debugElement.querySelector('#cam-rot-z');\n        rotX === null || rotX === void 0 ? void 0 : rotX.addEventListener('change', function (e) { return _this.setCameraRotation('ax', e.target.value); });\n        rotY === null || rotY === void 0 ? void 0 : rotY.addEventListener('change', function (e) { return _this.setCameraRotation('ay', e.target.value); });\n        rotZ === null || rotZ === void 0 ? void 0 : rotZ.addEventListener('change', function (e) { return _this.setCameraRotation('az', e.target.value); });\n        // Origin controls\n        var originX = this.debugElement.querySelector('#cam-origin-x');\n        var originY = this.debugElement.querySelector('#cam-origin-y');\n        var originZ = this.debugElement.querySelector('#cam-origin-z');\n        originX === null || originX === void 0 ? void 0 : originX.addEventListener('change', function (e) { return _this.setCameraOrigin('x', e.target.value); });\n        originY === null || originY === void 0 ? void 0 : originY.addEventListener('change', function (e) { return _this.setCameraOrigin('y', e.target.value); });\n        originZ === null || originZ === void 0 ? void 0 : originZ.addEventListener('change', function (e) { return _this.setCameraOrigin('z', e.target.value); });\n        // Buttons\n        var resetBtn = this.debugElement.querySelector('#reset-camera-btn');\n        var lookAtBtn = this.debugElement.querySelector('#look-at-origin-btn');\n        var resetOriginBtn = this.debugElement.querySelector('#reset-origin-btn');\n        resetBtn === null || resetBtn === void 0 ? void 0 : resetBtn.addEventListener('click', function () { return _this.resetCamera(); });\n        lookAtBtn === null || lookAtBtn === void 0 ? void 0 : lookAtBtn.addEventListener('click', function () { return _this.lookAtOrigin(); });\n        resetOriginBtn === null || resetOriginBtn === void 0 ? void 0 : resetOriginBtn.addEventListener('click', function () { return _this.resetCameraOrigin(); });\n    };\n    EngineDebugger.prototype.setCameraPosition = function (axis, value) {\n        if (!this.engineHelper || !this.engineHelper.camera)\n            return;\n        var numValue = parseFloat(value);\n        if (isNaN(numValue))\n            return;\n        var camera = this.engineHelper.camera.camera3d;\n        switch (axis) {\n            case 'x':\n                camera.position.x = numValue;\n                break;\n            case 'y':\n                camera.position.y = numValue;\n                break;\n            case 'z':\n                camera.position.z = numValue;\n                break;\n        }\n        camera.updateProjectionView();\n    };\n    EngineDebugger.prototype.setCameraRotation = function (axis, value) {\n        if (!this.engineHelper || !this.engineHelper.camera)\n            return;\n        var numValue = parseFloat(value);\n        if (isNaN(numValue))\n            return;\n        var camera = this.engineHelper.camera.camera3d;\n        switch (axis) {\n            case 'ax':\n                camera.position.ax = numValue;\n                break;\n            case 'ay':\n                camera.position.ay = numValue;\n                break;\n            case 'az':\n                camera.position.az = numValue;\n                break;\n        }\n        camera.updateProjectionView();\n    };\n    EngineDebugger.prototype.setCameraOrigin = function (axis, value) {\n        if (!this.engineHelper || !this.engineHelper.camera)\n            return;\n        var numValue = parseFloat(value);\n        if (isNaN(numValue))\n            return;\n        var camera = this.engineHelper.camera.camera3d;\n        switch (axis) {\n            case 'x':\n                camera.position.originX = numValue;\n                break;\n            case 'y':\n                camera.position.originY = numValue;\n                break;\n            case 'z':\n                camera.position.originZ = numValue;\n                break;\n        }\n        camera.dirtyOrigin = true;\n        camera.dirtyQuat = true;\n        camera.dirtyModel = true;\n        camera.updateProjectionView();\n    };\n    EngineDebugger.prototype.resetCamera = function () {\n        if (!this.engineHelper || !this.engineHelper.camera)\n            return;\n        var camera = this.engineHelper.camera.camera3d;\n        camera.center(0, 2, 5);\n        camera.position.ax = 0;\n        camera.position.ay = 0;\n        camera.position.az = 0;\n        camera.updateProjectionView();\n        console.log('Camera reset to default position');\n    };\n    EngineDebugger.prototype.lookAtOrigin = function () {\n        if (!this.engineHelper || !this.engineHelper.camera)\n            return;\n        var camera = this.engineHelper.camera.camera3d;\n        camera.lookAt(0, 0, 0);\n        camera.updateProjectionView();\n        console.log('Camera looking at origin');\n    };\n    EngineDebugger.prototype.resetCameraOrigin = function () {\n        if (!this.engineHelper || !this.engineHelper.camera)\n            return;\n        var camera = this.engineHelper.camera.camera3d;\n        camera.position.originX = 0;\n        camera.position.originY = 0;\n        camera.position.originZ = 0;\n        camera.dirtyOrigin = true;\n        camera.dirtyQuat = true;\n        camera.dirtyModel = true;\n        camera.updateProjectionView();\n        console.log('Camera rotation origin reset to (0,0,0)');\n    };\n    return EngineDebugger;\n}());\nexports.default = EngineDebugger;\n//# sourceMappingURL=EngineDebugger.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionListeners = exports.Subscription = void 0;\nvar Subscription = /** @class */ (function () {\n    function Subscription(key) {\n        this.key = key;\n    }\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nvar SubscriptionListeners = /** @class */ (function (_super) {\n    __extends(SubscriptionListeners, _super);\n    function SubscriptionListeners(key) {\n        var _this = _super.call(this, key) || this;\n        _this.listeners = {};\n        _this.subscriptionId = 0;\n        return _this;\n    }\n    SubscriptionListeners.prototype.listen = function (callback) {\n        this.listeners[this.subscriptionId++] = callback;\n        return this.subscriptionId - 1;\n    };\n    SubscriptionListeners.prototype.unlisten = function (subscriptionId) {\n        delete this.listeners[subscriptionId];\n    };\n    SubscriptionListeners.prototype.publish = function (data) {\n        Object.values(this.listeners).forEach(function (listener) { return listener(data); });\n    };\n    SubscriptionListeners.prototype.flush = function () {\n        this.listeners = {};\n    };\n    return SubscriptionListeners;\n}(Subscription));\nexports.SubscriptionListeners = SubscriptionListeners;\nvar SubscriberPool = /** @class */ (function () {\n    function SubscriberPool() {\n        this.subscribers = {};\n    }\n    SubscriberPool.prototype.listen = function (subscription, callback) {\n        return this.getSubscriptionListeners(subscription).listen(callback);\n    };\n    SubscriberPool.prototype.getSubscriptionListeners = function (subscription) {\n        var key = subscription.key;\n        if (!this.subscribers[key]) {\n            this.subscribers[key] = new SubscriptionListeners(key);\n        }\n        return this.subscribers[key];\n    };\n    SubscriberPool.prototype.publish = function (subscription, data) {\n        this.getSubscriptionListeners(subscription).publish(data);\n    };\n    return SubscriberPool;\n}());\nexports.default = SubscriberPool;\n//# sourceMappingURL=SubscriberPool.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Builder/ShaderEntityBuilder\");\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar EngineObject_1 = require(\"./EngineObject\");\nvar ModelObject3d = /** @class */ (function (_super) {\n    __extends(ModelObject3d, _super);\n    function ModelObject3d(rect, vertexModel) {\n        var _this = _super.call(this) || this;\n        _this.renderType = RenderOption_1.RenderType.TRIANGLE;\n        _this.vertexModel = vertexModel;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    ModelObject3d.prototype.setRenderType = function (renderType) {\n        this.renderType = renderType;\n    };\n    ModelObject3d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = this.renderType;\n        renderOpt.shaderType = RenderOption_1.ShaderType.THREE_DIMENSION;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .createTexture(this.vertexModel.textureSource)\n            .build(this, renderOpt);\n    };\n    return ModelObject3d;\n}(EngineObject_1.default));\nexports.default = ModelObject3d;\n//# sourceMappingURL=ModelObject3d.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigEntity = void 0;\nvar BasicSprite_1 = require(\"../../Entity/BasicSprite\");\nvar LineColour_1 = require(\"../../Entity/LineColour\");\nvar Moveable_1 = require(\"../../Entity/Moveable\");\nvar Plane2d_1 = require(\"../../Entity/Plane2d\");\nvar Plane3d_1 = require(\"../../Entity/Plane3d\");\nvar PlaneColour_1 = require(\"../../Entity/PlaneColour\");\nvar SpriteModel_1 = require(\"../../Entity/SpriteModel\");\nvar SpriteMoveable_1 = require(\"../../Entity/SpriteMoveable\");\nvar TriangleColour2d_1 = require(\"../../Entity/TriangleColour2d\");\nvar Coordinate_1 = require(\"../Data/Coordinate\");\nvar Rect2d_1 = require(\"../Data/Rect2d\");\nvar Rect3d_1 = require(\"../Data/Rect3d\");\nvar EngineObject_1 = require(\"../EngineEntity/EngineObject\");\nvar Events_1 = require(\"../Events\");\nvar Font_1 = require(\"../Font/Font\");\nvar Physics_1 = require(\"../Physics/Physics\");\nvar ConfigMapBuilder = /** @class */ (function () {\n    function ConfigMapBuilder(engineHelper) {\n        this.engineHelper = engineHelper;\n        this.objects = [];\n        this.ref = {};\n        this.anchor = {};\n        this.texts = [];\n    }\n    ConfigMapBuilder.prototype.build = function (map) {\n        for (var prop in map) {\n            if (map.hasOwnProperty(prop)) {\n                if (prop.startsWith(\"$\")) {\n                    this.ref[prop] = map[prop];\n                }\n                else if (prop.startsWith(\"+\")) {\n                    this.anchor[prop] = map[prop];\n                }\n                else {\n                    var object = map[prop];\n                    this.initObjectPosition(object);\n                    if (object.$ref && this.ref[object.$ref]) {\n                        // merge ref with object\n                        object = __assign(__assign({}, this.ref[object.$ref]), object);\n                    }\n                    if (object.$anchor && this.anchor[object.$anchor]) {\n                        var anchor = this.anchor[object.$anchor];\n                        // translate anchor\n                        if (object.type === \"Font\") {\n                            object.position.x += anchor.position.x;\n                            object.position.y += anchor.position.y;\n                        }\n                        else {\n                            object.position.x += anchor.position.x;\n                            object.position.y += anchor.position.y;\n                            object.position.width += anchor.position.width;\n                            object.position.height += anchor.position.height;\n                        }\n                    }\n                    this.buildModel(object);\n                }\n            }\n        }\n    };\n    ConfigMapBuilder.prototype.initObjectPosition = function (object) {\n        if (!object.position) {\n            object.position = { x: 0, y: 0, height: 0, width: 0 };\n        }\n        else {\n            if (!object.position.x) {\n                object.position.x = 0;\n            }\n            if (!object.position.y) {\n                object.position.y = 0;\n            }\n            if (!object.position.width) {\n                object.position.width = 0;\n            }\n            if (!object.position.height) {\n                object.position.height = 0;\n            }\n        }\n    };\n    ConfigMapBuilder.prototype.buildModel = function (config) {\n        if (!config.type) {\n            console.error(\"unable to parse empty type for object\", config);\n            return null;\n        }\n        var obj = null;\n        if (config.type === \"Plane2D\") {\n            obj = this.createPlane2D(config.model, this.createRect2d(config.position, config.isCentre), config.hasPhysics);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Plane3D\") {\n            obj = this.createPlane3D(config.model, this.createRect3d(config.position, config.isCentre), config.hasPhysics, config.planeType);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Triangle\") {\n            obj = this.createTriangle(config.rgba, this.createRect2d(config.position, config.isCentre));\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"SpriteMoveable\") {\n            obj = this.createSpriteMoveable(config.spriteModel, this.createRect2d(config.position, config.isCentre), config.hasPhysics, config.ticks);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Moveable\") {\n            obj = this.createMoveable(config.model, this.createRect2d(config.position, config.isCentre), config.hasPhysics);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Sprite\") {\n            obj = this.createSprite(config.spriteModel, this.createRect2d(config.position, config.isCentre), config.hasPhysics, config.ticks);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Font\") {\n            obj = this.createText(config.texture, this.createCoordinate(config.position), config.fontSize, config.text);\n            obj.id = config.id;\n        }\n        else if (config.type === \"Colour\") {\n            obj = this.createColour(config.rgba, this.createRect2d(config.position, config.isCentre));\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Line\") {\n            obj = this.createLineColour(config.rgba, config.point1, config.point2, config.thickness);\n            this.hookCustomHandler(config, obj);\n        }\n        else {\n            console.warn(\"Unable to find entity of type \".concat(config.type));\n        }\n        if (obj instanceof EngineObject_1.default) {\n            obj.$id = config.id || obj.$id;\n            obj.data = config.data;\n            obj.isLastEvent = config.isLastEvent || false;\n        }\n        if (obj instanceof EngineObject_1.default || obj instanceof Font_1.FontReference) {\n            if (config.isTop) {\n                obj.setTop(true);\n            }\n        }\n        if (obj instanceof EngineObject_1.default && config.clone) {\n            obj.setClone(true);\n        }\n        // @ts-expect-error ignore\n        return obj;\n    };\n    ConfigMapBuilder.prototype.hookCustomHandler = function (config, object) {\n        var _this = this;\n        if (config.render) {\n            var _renderCustom_1;\n            if (typeof window[config.render] === \"function\") {\n                _renderCustom_1 = window[config.render].bind(object);\n            }\n            else if (typeof config.render === \"function\") {\n                _renderCustom_1 = config.render;\n            }\n            else {\n                _renderCustom_1 = function () { };\n            }\n            var _render_1 = object.render.bind(object);\n            object.render = function (engineHelper) {\n                _render_1(engineHelper);\n                _renderCustom_1(engineHelper);\n            };\n        }\n        if (config.update) {\n            var _updateCustom_1;\n            if (typeof window[config.update] === \"function\") {\n                _updateCustom_1 = window[config.update].bind(object);\n            }\n            else if (typeof config.update === \"function\") {\n                _updateCustom_1 = config.update;\n            }\n            else {\n                _updateCustom_1 = function () { };\n            }\n            var _update_1 = object.update.bind(object);\n            object.update = function (engineHelper) {\n                _update_1(engineHelper);\n                _updateCustom_1(engineHelper);\n            };\n        }\n        var onClickedDefined = config.onClick && typeof config.onClick === \"function\";\n        if (config.event) {\n            var _eventCustom_1;\n            if (typeof window[config.event] === \"function\") {\n                _eventCustom_1 = window[config.event].bind(object);\n            }\n            else if (typeof config.event === \"function\") {\n                _eventCustom_1 = config.event;\n            }\n            else {\n                _eventCustom_1 = function () { };\n            }\n            var _event_1 = object.event.bind(object);\n            object.event = function (event, engineHelper) {\n                var shouldPropagate = true;\n                // only stop propagation if the event returns false\n                shouldPropagate =\n                    shouldPropagate && _event_1(event, engineHelper) !== false;\n                shouldPropagate =\n                    shouldPropagate &&\n                        _eventCustom_1(event, engineHelper, object) !== false;\n                if (onClickedDefined) {\n                    shouldPropagate =\n                        shouldPropagate &&\n                            _this.isClicked(event, engineHelper, object, config.onClick) !==\n                                false;\n                }\n                return shouldPropagate;\n            };\n        }\n        else if (onClickedDefined) {\n            var _event_2 = object.event.bind(object);\n            object.event = function (event, engineHelper) {\n                var shouldPropagate = _event_2(event, engineHelper) !== false;\n                shouldPropagate =\n                    shouldPropagate &&\n                        _this.isClicked(event, engineHelper, object, config.onClick) !== false;\n                return shouldPropagate;\n            };\n        }\n    };\n    ConfigMapBuilder.prototype.isClicked = function (event, engineHelper, object, onClick) {\n        if (event.eventType === Events_1.default.UP &&\n            engineHelper.isClicked(event, object.getRect2()) &&\n            object.hidden === false) {\n            return onClick.bind(object)(event, engineHelper, object);\n        }\n    };\n    ConfigMapBuilder.prototype.createRect2d = function (position, isCentre) {\n        var rect = new Rect2d_1.default(Number(position.x), Number(position.y), Number(position.width), Number(position.height), 0);\n        return isCentre ? rect.center() : rect;\n    };\n    ConfigMapBuilder.prototype.createRect3d = function (position, isCentre) {\n        var rect = new Rect3d_1.default(Number(position.x), Number(position.y), Number(position.z), Number(position.width), Number(position.height), Number(position.length));\n        return isCentre ? rect.center() : rect;\n    };\n    ConfigMapBuilder.prototype.createCoordinate = function (position) {\n        return new Coordinate_1.default(Number(position.x), Number(position.y), 0);\n    };\n    ConfigMapBuilder.prototype.createText = function (texture, pos, fontSize, text) {\n        var textRef = Font_1.FontReference.newFont(pos, texture, 0)\n            .setText(text)\n            .setFontSize(fontSize);\n        this.texts.push(textRef);\n        return textRef;\n    };\n    ConfigMapBuilder.prototype.createLineColour = function (rgba, point1, point2, thickness) {\n        var colour = new LineColour_1.default(point1, point2, thickness, rgba);\n        this.objects.push(colour);\n        return colour;\n    };\n    ConfigMapBuilder.prototype.createColour = function (rgba, location) {\n        var colour = new PlaneColour_1.default(location, rgba);\n        this.objects.push(colour);\n        return colour;\n    };\n    ConfigMapBuilder.prototype.createSpriteMoveable = function (model, location, hasPhysics, ticks) {\n        var spriteModel = new SpriteModel_1.default(location, ticks || 120.0, model);\n        var obj = new SpriteMoveable_1.default(location, spriteModel);\n        spriteModel.position.z = -1;\n        spriteModel.scaleZ(0);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj, obj.physics);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createMoveable = function (model, location, hasPhysics) {\n        var obj = new Plane2d_1.default(location, model);\n        obj.setLayer(-1);\n        var moveable = new Moveable_1.default();\n        moveable.entities.push(obj);\n        moveable.rotateZ(180.0);\n        moveable.setRect(location);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(moveable, moveable.physics);\n        }\n        moveable.updatePhysicsPosition();\n        this.objects.push(moveable);\n        return moveable;\n    };\n    ConfigMapBuilder.prototype.createSprite = function (model, location, hasPhysics, ticks) {\n        var spriteModel = new SpriteModel_1.default(location, ticks || 120.0, model);\n        var obj = new BasicSprite_1.default(location, spriteModel);\n        spriteModel.position.z = -1;\n        spriteModel.rotateZ(180.0);\n        spriteModel.scaleZ(0);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj, obj.physics);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createPlane2D = function (model, location, hasPhysics) {\n        var obj = new Plane2d_1.default(location, model);\n        obj.rotateZ(180.0);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createPlane3D = function (model, location, hasPhysics, plane) {\n        var vertexModel = this.engineHelper.newVertexModel(model, plane);\n        var obj = new Plane3d_1.default(location, vertexModel);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createTriangle = function (rgba, location) {\n        var obj = new TriangleColour2d_1.default(location, rgba);\n        this.objects.push(obj);\n        return obj;\n    };\n    return ConfigMapBuilder;\n}());\nvar ConfigEntity = /** @class */ (function () {\n    function ConfigEntity() {\n    }\n    return ConfigEntity;\n}());\nexports.ConfigEntity = ConfigEntity;\nexports.default = ConfigMapBuilder;\n//# sourceMappingURL=ConfigMapBuilder.js.map","import * as glMatrix from \"./common.js\";\n/**\n * 2x2 Matrix\n * @module mat2\n */\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Create a new mat2 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out A new 2x2 matrix\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Set the components of a mat2 to the given values\n *\n * @param {mat2} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2\n *\n * @param {ReadonlyMat2} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2\n *\n * @param {ReadonlyMat2} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {ReadonlyMat2} L the lower triangular matrix\n * @param {ReadonlyMat2} D the diagonal matrix\n * @param {ReadonlyMat2} U the upper triangular matrix\n * @param {ReadonlyMat2} a the input matrix to factorize\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\n * Adds two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2} out the receiving vector\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat2.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 2x3 Matrix\n * @module mat2d\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, b,\n *  c, d,\n *  tx, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, b, 0,\n *  c, d, 0,\n *  tx, ty, 1]\n * </pre>\n * The last column is ignored so the array is shorter and operations are faster.\n */\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Create a new mat2d with the given values\n *\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} A new mat2d\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Set the components of a mat2d to the given values\n *\n * @param {mat2d} out the receiving matrix\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} out\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2d} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat2d} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2d\n *\n * @param {ReadonlyMat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\n * Adds two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2d} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2d} out the receiving vector\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2d} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat2d.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\nexport var getReal = quat.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\nexport var setReal = quat.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = quat.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\nexport var length = quat.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\nexport function str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","export default \"precision mediump float;\\nprecision mediump int;\\n\\nvarying vec2 v_texture_coords;\\nvarying vec3 v_position;\\nvarying vec3 v_normal;\\nvarying mat4 v_model;\\n\\nvarying vec3 v_light1_pos;\\nvarying vec3 v_light1_intensities;\\nvarying float v_light1_attenuation;\\nvarying float v_light1_ambient_coefficient;\\nvarying float v_diffuseCoefficient;\\nvarying float v_attenuation;\\n\\nuniform sampler2D texture;\\nuniform sampler2D shadowMap;\\nuniform float numLights;\\n\\nstruct Light {\\n  vec3 position;\\n  vec3 intensities;\\n  float ambientCoefficient;\\n  float attenuation;\\n};\\n\\nvoid main(void) {\\n  Light light1;\\n  light1.intensities = v_light1_intensities;\\n  light1.position = v_light1_pos;\\n  light1.attenuation = v_light1_attenuation;\\n  light1.ambientCoefficient = v_light1_ambient_coefficient;\\n\\n  vec3 n = normalize(v_normal);\\n  vec3 l = normalize(v_light1_pos);\\n  float cosTheta = clamp(dot(n, l), 0.0, 1.0);\\n\\n  vec4 surfaceColor = texture2D(texture, v_texture_coords);\\n  vec3 diffuse = v_diffuseCoefficient * surfaceColor.rgb * light1.intensities;\\n  vec3 ambient = light1.ambientCoefficient * surfaceColor.rgb * light1.intensities;\\n\\n  vec3 linearColor = ambient + v_attenuation * diffuse * cosTheta;\\n\\n  vec3 gamma = vec3(1.0 / 2.2);\\n  gl_FragColor = vec4(pow(linearColor, gamma), surfaceColor.a);\\n}\";","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseProgram_1 = require(\"../Base/BaseProgram\");\nvar ShadowDepthFragmentShader_glsl_1 = require(\"../Shaders/ShadowDepthFragmentShader.glsl\");\nvar PassthroughVertexShader_glsl_1 = require(\"../Shaders/PassthroughVertexShader.glsl\");\nvar ShadowLightVertexShader_glsl_1 = require(\"../Shaders/ShadowLightVertexShader.glsl\");\nvar ShadowLightFragmentShader_glsl_1 = require(\"../Shaders/ShadowLightFragmentShader.glsl\");\nvar LightFragmentShader_glsl_1 = require(\"../Shaders/LightFragmentShader.glsl\");\nvar LightVertexShader_glsl_1 = require(\"../Shaders/LightVertexShader.glsl\");\nvar ArrayBuffer_1 = require(\"../../Buffer/ArrayBuffer\");\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Texture_1 = require(\"../../Buffer/Texture\");\nvar ProgramReference_1 = require(\"../Base/ProgramReference\");\nvar Shader3DProgram = /** @class */ (function (_super) {\n    __extends(Shader3DProgram, _super);\n    function Shader3DProgram(ctx) {\n        var _this = _super.call(this, ctx) || this;\n        // this must be changed in shader as well.\n        _this.shadowDepthTextureSize = 1024.0;\n        _this.arrayBuffer = new ArrayBuffer_1.default(ctx);\n        if (_this.isShadowEnabled) {\n            _this.program = _this.compileShaders(ShadowLightVertexShader_glsl_1.default, ShadowLightFragmentShader_glsl_1.default);\n            _this.bindProgram();\n            _this.shadowMap = new ProgramReference_1.default(\"shadowMap\", ctx, false, _this.program);\n            _this.light1View = new ProgramReference_1.default(\"u_light1_view\", ctx, false, _this.program);\n            _this.light1Projection = new ProgramReference_1.default(\"u_light1_projection\", ctx, false, _this.program);\n        }\n        else {\n            _this.program = _this.compileShaders(LightVertexShader_glsl_1.default, LightFragmentShader_glsl_1.default);\n            _this.bindProgram();\n        }\n        _this.normal = new ProgramReference_1.default(\"a_normal\", ctx, true, _this.program);\n        _this.position = new ProgramReference_1.default(\"a_position\", ctx, true, _this.program);\n        _this.textureCoords = new ProgramReference_1.default(\"a_texture_coords\", ctx, true, _this.program);\n        _this.projMtrx = new ProgramReference_1.default(\"u_projection\", ctx, false, _this.program);\n        _this.viewMtrx = new ProgramReference_1.default(\"u_view\", ctx, false, _this.program);\n        _this.modelMtrx = new ProgramReference_1.default(\"u_model\", ctx, false, _this.program);\n        _this.tex2DSampler = new ProgramReference_1.default(\"texture\", ctx, false, _this.program);\n        _this.light1Pos = new ProgramReference_1.default(\"u_light1_pos\", ctx, false, _this.program);\n        _this.light1Intensities = new ProgramReference_1.default(\"u_light1_intensities\", ctx, false, _this.program);\n        _this.light1Attenu = new ProgramReference_1.default(\"u_light1_attenuation\", ctx, false, _this.program);\n        _this.light1AmbCoeff = new ProgramReference_1.default(\"u_light1_ambient_coefficient\", ctx, false, _this.program);\n        if (_this.isShadowEnabled) {\n            _this.initShadowProgram();\n        }\n        return _this;\n    }\n    Shader3DProgram.prototype.initShadowProgram = function () {\n        var ctx = this.ctx;\n        this.shadowProgram = this.compileShaders(PassthroughVertexShader_glsl_1.default, ShadowDepthFragmentShader_glsl_1.default);\n        this.bindShadowProgram();\n        this.shadowPos = new ProgramReference_1.default(\"a_position\", ctx, true, this.shadowProgram);\n        this.shadowProjection = new ProgramReference_1.default(\"u_projection\", ctx, false, this.shadowProgram);\n        this.shadowView = new ProgramReference_1.default(\"u_view\", ctx, false, this.shadowProgram);\n        this.shadowModel = new ProgramReference_1.default(\"u_model\", ctx, false, this.shadowProgram);\n        this.shadowFramebuffer = ctx.createFramebuffer();\n        this.createDepthTexture();\n        this.shadowRenderBuffer = ctx.createRenderbuffer();\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, this.shadowRenderBuffer);\n        ctx.renderbufferStorage(ctx.RENDERBUFFER, ctx.DEPTH_COMPONENT16, this.shadowDepthTextureSize, this.shadowDepthTextureSize);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, this.shadowFramebuffer);\n        ctx.framebufferTexture2D(ctx.FRAMEBUFFER, ctx.COLOR_ATTACHMENT0, ctx.TEXTURE_2D, this.shadowDepthTexture, 0);\n        ctx.framebufferRenderbuffer(ctx.FRAMEBUFFER, ctx.DEPTH_ATTACHMENT, ctx.RENDERBUFFER, this.shadowRenderBuffer);\n        ctx.bindTexture(ctx.TEXTURE_2D, null);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n    };\n    Shader3DProgram.prototype.createDepthTexture = function () {\n        var ctx = this.ctx;\n        this.shadowTextureUnit = Texture_1.default.textureCount;\n        ctx.activeTexture(ctx.TEXTURE0 + this.shadowTextureUnit);\n        Texture_1.default.textureCount += 1;\n        this.shadowDepthTexture = ctx.createTexture();\n        ctx.bindTexture(ctx.TEXTURE_2D, this.shadowDepthTexture);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.LINEAR);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.LINEAR);\n        ctx.texImage2D(ctx.TEXTURE_2D, 0, ctx.RGBA, this.shadowDepthTextureSize, this.shadowDepthTextureSize, 0, ctx.RGBA, ctx.UNSIGNED_BYTE, null);\n    };\n    Shader3DProgram.prototype.bindShadowProgram = function () {\n        this._bindProgram(this.shadowProgram);\n    };\n    Shader3DProgram.prototype.bindProgram = function () {\n        this._bindProgram(this.program);\n    };\n    Shader3DProgram.prototype.unbindProgram = function () {\n        this._unbindProgram();\n    };\n    Shader3DProgram.prototype.unbindShadowProgram = function () { };\n    Shader3DProgram.prototype.enableAttribPointers = function () {\n        var ctx = this.ctx;\n        ctx.enableVertexAttribArray(this.position.ref);\n        ctx.enableVertexAttribArray(this.textureCoords.ref);\n        ctx.enableVertexAttribArray(this.normal.ref);\n    };\n    Shader3DProgram.prototype.bindAttributePointers = function () {\n        this.enableAttribPointers();\n        var ctx = this.ctx;\n        ctx.vertexAttribPointer(this.position.ref, 3, ctx.FLOAT, false, 4 * 8, 0);\n        ctx.vertexAttribPointer(this.normal.ref, 3, ctx.FLOAT, true, 4 * 8, 3 * 4);\n        ctx.vertexAttribPointer(this.textureCoords.ref, 2, ctx.FLOAT, true, 4 * 8, 6 * 4);\n    };\n    Shader3DProgram.prototype.enableShadowAttribPointers = function () {\n        this.ctx.enableVertexAttribArray(this.shadowPos.ref);\n    };\n    Shader3DProgram.prototype.bindShadowAttributePointers = function () {\n        this.enableShadowAttribPointers();\n        var ctx = this.ctx;\n        ctx.vertexAttribPointer(this.shadowPos.ref, 3, ctx.FLOAT, false, 4 * 8, 0);\n    };\n    Shader3DProgram.prototype.glSetShadowModelMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.shadowModel.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.unbindShadowAttributePointers = function () {\n        this.ctx.disableVertexAttribArray(this.shadowPos.ref);\n    };\n    Shader3DProgram.prototype.setLight = function (light, camera) {\n        this.light = light;\n        var lookAt = light.lookAt();\n        this.bindProgram();\n        var ctx = this.ctx;\n        ctx.uniform3fv(this.light1Pos.ref, light.pos);\n        ctx.uniform3fv(this.light1Intensities.ref, light.in);\n        ctx.uniform1f(this.light1AmbCoeff.ref, light.ambientCoeff);\n        ctx.uniform1f(this.light1Attenu.ref, light.attenuation);\n        if (this.isShadowEnabled) {\n            var cameraFrustum = gl_matrix_1.mat4.frustum(gl_matrix_1.mat4.create(), -1 * camera.aspect, 1 * camera.aspect, -1 * camera.aspect, 1 * camera.aspect, 1, gl_matrix_1.vec3.squaredDistance(light.posVec(), light.atVec()));\n            ctx.uniformMatrix4fv(this.light1View.ref, false, lookAt);\n            ctx.uniformMatrix4fv(this.light1Projection.ref, false, cameraFrustum);\n            this.bindShadowProgram();\n            ctx.uniformMatrix4fv(this.shadowView.ref, false, lookAt);\n            ctx.uniformMatrix4fv(this.shadowProjection.ref, false, cameraFrustum);\n        }\n    };\n    Shader3DProgram.prototype.prepareShadowTexture = function () {\n        var ctx = this.ctx;\n        ctx.activeTexture(ctx.TEXTURE0 + this.shadowTextureUnit);\n        ctx.bindTexture(ctx.TEXTURE_2D, this.shadowDepthTexture);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, this.shadowRenderBuffer);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, this.shadowFramebuffer);\n        ctx.viewport(0, 0, this.shadowDepthTextureSize, this.shadowDepthTextureSize);\n        ctx.clear(ctx.COLOR_BUFFER_BIT | ctx.DEPTH_BUFFER_BIT);\n        this.arrayBuffer.bind();\n        this.bindShadowAttributePointers();\n        this.bindShadowProgram();\n    };\n    Shader3DProgram.prototype.revertShadowTexture = function () {\n        var ctx = this.ctx;\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        this.arrayBuffer.unbind();\n        this.unbindShadowAttributePointers();\n        this.unbindShadowProgram();\n    };\n    Shader3DProgram.prototype.bindShadowTexture = function () {\n        this.bindProgram();\n        this.ctx.uniform1i(this.shadowMap.ref, this.shadowTextureUnit);\n    };\n    Shader3DProgram.prototype.unbindAttributePointers = function () {\n        var ctx = this.ctx;\n        ctx.disableVertexAttribArray(this.position.ref);\n        ctx.disableVertexAttribArray(this.textureCoords.ref);\n        ctx.disableVertexAttribArray(this.normal.ref);\n    };\n    Shader3DProgram.prototype.glSetViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.viewMtrx.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.glSetProjectMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.projMtrx.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.glSetModelViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.modelMtrx.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.bindTexture = function (texture) {\n        texture.bindTexture(this.ctx, this.tex2DSampler.ref);\n    };\n    Shader3DProgram.DRAW_VERTEX_SIZE = 8;\n    return Shader3DProgram;\n}(BaseProgram_1.default));\nexports.default = Shader3DProgram;\n//# sourceMappingURL=Shader3DProgram.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar EntityManager = /** @class */ (function (_super) {\n    __extends(EntityManager, _super);\n    function EntityManager() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.entities = [];\n        return _this;\n    }\n    EntityManager.prototype.setPosition = function (position) {\n        this.entities.forEach(function (e) { return e.setPosition(position); });\n    };\n    EntityManager.prototype.center = function (x, y, z) {\n        _super.prototype.center.call(this, x, y, z);\n        this.entities.forEach(function (e) { return e.center(x, y, z); });\n    };\n    EntityManager.prototype.rotateOrigin = function (x, y, z) {\n        _super.prototype.rotateOrigin.call(this, x, y, z);\n        this.entities.forEach(function (e) { return e.rotateOrigin(x, y, z); });\n    };\n    EntityManager.prototype.rotateOriginRect = function (rect) {\n        this.rotateOrigin(rect.x, rect.y, rect.z);\n    };\n    EntityManager.prototype.rotateX = function (x) {\n        this.angleX(x);\n    };\n    EntityManager.prototype.rotateY = function (y) {\n        this.angleY(y);\n    };\n    EntityManager.prototype.rotateZ = function (z) {\n        this.angleZ(z);\n    };\n    EntityManager.prototype.angleX = function (x) {\n        _super.prototype.angleX.call(this, x);\n        this.entities.forEach(function (e) { return e.angleX(x); });\n    };\n    EntityManager.prototype.angleY = function (y) {\n        _super.prototype.angleY.call(this, y);\n        this.entities.forEach(function (e) { return e.angleY(y); });\n    };\n    EntityManager.prototype.angleZ = function (z) {\n        _super.prototype.angleZ.call(this, z);\n        this.entities.forEach(function (e) { return e.angleZ(z); });\n    };\n    EntityManager.prototype.scaleX = function (x) {\n        _super.prototype.scaleX.call(this, x);\n        this.entities.forEach(function (e) { return e.scaleX(x); });\n    };\n    EntityManager.prototype.scaleY = function (y) {\n        _super.prototype.scaleY.call(this, y);\n        this.entities.forEach(function (e) { return e.scaleY(y); });\n    };\n    EntityManager.prototype.scaleZ = function (z) {\n        _super.prototype.scaleZ.call(this, z);\n        this.entities.forEach(function (e) { return e.scaleZ(z); });\n    };\n    EntityManager.prototype.scale = function (x, y, z) {\n        _super.prototype.scale.call(this, x, y, z);\n        this.entities.forEach(function (e) { return e.scale(x, y, z); });\n    };\n    EntityManager.prototype.translate = function (dx, dy, dz) {\n        _super.prototype.translate.call(this, dx, dy, dz);\n        this.entities.forEach(function (e) { return e.translate(dx, dy, dz); });\n    };\n    EntityManager.prototype.init = function (engineHelper) {\n        _super.prototype.init.call(this, engineHelper);\n        this.entities.forEach(function (a) { return a.init(engineHelper); });\n    };\n    EntityManager.prototype.render = function (engineHelper) {\n        if (this.hidden) {\n            return;\n        }\n        this.entities.forEach(function (entity) { return entity.render(engineHelper); });\n        _super.prototype.render.call(this, engineHelper);\n    };\n    EntityManager.prototype.update = function (engineHelper) {\n        if (this.hidden) {\n            return;\n        }\n        this.entities.forEach(function (entity) { return entity.update(engineHelper); });\n        _super.prototype.update.call(this, engineHelper);\n    };\n    EntityManager.prototype.setTop = function (isTop) {\n        _super.prototype.setTop.call(this, isTop);\n        this.entities.forEach(function (entity) { return entity.setTop(isTop); });\n    };\n    Object.defineProperty(EntityManager.prototype, \"hidden\", {\n        set: function (value) {\n            _super.prototype.setHidden.call(this, value);\n            this.entities.forEach(function (entity) { return (entity.hidden = value); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EntityManager;\n}(EngineObject_1.default));\nexports.default = EntityManager;\n//# sourceMappingURL=EntityManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateId = generateId;\nfunction generateId() {\n    return \"xxxxxxxxx\".replace(/[x]/g, function (c) {\n        var r = (Math.random() * 16) | 0;\n        var v = c == \"x\" ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n//# sourceMappingURL=IdGenerator.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpriteMoveableModel = void 0;\nvar SpriteModel_1 = require(\"./SpriteModel\");\nvar Moveable_1 = require(\"./Moveable\");\nvar SpriteMoveableModel = /** @class */ (function (_super) {\n    __extends(SpriteMoveableModel, _super);\n    function SpriteMoveableModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SpriteMoveableModel;\n}(SpriteModel_1.default));\nexports.SpriteMoveableModel = SpriteMoveableModel;\nvar SpriteMoveable = /** @class */ (function (_super) {\n    __extends(SpriteMoveable, _super);\n    function SpriteMoveable(rect, spriteModel) {\n        var _this = _super.call(this) || this;\n        _this.spriteModel = spriteModel;\n        _this.spriteModel.setRect(rect);\n        return _this;\n    }\n    SpriteMoveable.prototype.render = function (engineHelper) {\n        this.spriteModel.render(engineHelper);\n    };\n    SpriteMoveable.prototype.update = function (engineHelper) {\n        this.spriteModel.update(engineHelper);\n    };\n    SpriteMoveable.prototype.init = function (engineHelper) {\n        this.entities.push(this.spriteModel);\n        _super.prototype.init.call(this, engineHelper);\n        this.setRect(this.spriteModel.getRect());\n        this.updatePhysicsPosition();\n    };\n    return SpriteMoveable;\n}(Moveable_1.default));\nexports.default = SpriteMoveable;\n//# sourceMappingURL=SpriteMoveable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArrayBuffer = /** @class */ (function () {\n    function ArrayBuffer(ctx) {\n        this.bufferArray = [];\n        this.verticeSize = 0;\n        this.bufferReg = {};\n        this.bufferRegId = 1;\n        this.deleted = false;\n        this.isBuffered = false;\n        this.bufferid = ctx.createBuffer();\n        this.ctx = ctx;\n        ctx.bindBuffer(ctx.ARRAY_BUFFER, this.bufferid);\n    }\n    ArrayBuffer.prototype.delete = function () {\n        this.ctx.deleteBuffer(this.bufferid);\n        this.deleted = true;\n    };\n    ArrayBuffer.prototype.bufferBind = function () {\n        if (this.deleted) {\n            return;\n        }\n        this.isBuffered = true;\n        this.bind();\n        if (!this.isBuffered) {\n            this.maxSize = 200000;\n        }\n        else {\n            this.maxSize = this.bufferArray.length * 2.0;\n        }\n        var buffer = new Float32Array(this.maxSize);\n        buffer.fill(0, this.bufferArray.length);\n        buffer.set(this.bufferArray);\n        this.ctx.bufferData(this.ctx.ARRAY_BUFFER, buffer, this.ctx.STATIC_DRAW);\n    };\n    ArrayBuffer.prototype.length = function () {\n        return this.verticeSize;\n    };\n    ArrayBuffer.prototype.bufferSub = function (offset, data, vertexSize) {\n        if (this.deleted) {\n            return;\n        }\n        this.bind();\n        this.ctx.bufferSubData(this.ctx.ARRAY_BUFFER, offset * Float32Array.BYTES_PER_ELEMENT * vertexSize, new Float32Array(data));\n    };\n    ArrayBuffer.prototype.reset = function () {\n        this.bufferArray = [];\n    };\n    ArrayBuffer.prototype.push = function (vertices, size) {\n        this.bufferArray = this.bufferArray.concat(vertices);\n        this.verticeSize += size;\n        if (this.isBuffered) {\n            if (this.bufferArray.length < this.maxSize) {\n                this.bufferSub(this.verticeSize - size, vertices, vertices.length / size);\n            }\n            else {\n                this.bufferBind();\n                console.log(\"buffer resizing as limit has been reached\");\n            }\n        }\n    };\n    ArrayBuffer.prototype.bind = function () {\n        if (this.deleted === true) {\n            return;\n        }\n        this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER, this.bufferid);\n    };\n    ArrayBuffer.prototype.unbind = function () {\n        // do nothing for now\n    };\n    return ArrayBuffer;\n}());\nexports.default = ArrayBuffer;\n//# sourceMappingURL=ArrayBuffer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FontReference = void 0;\nvar EntityManager_1 = require(\"../../Manager/EntityManager\");\nvar Timer_1 = require(\"../Common/Timer\");\nvar Coordinate_1 = require(\"../Data/Coordinate\");\nvar PlaneType_1 = require(\"../Data/PlaneType\");\nvar Rect2d_1 = require(\"../Data/Rect2d\");\nvar EngineObjectHelper_1 = require(\"../EngineEntity/EngineObjectHelper\");\nvar ModelObject2d_1 = require(\"../EngineEntity/ModelObject2d\");\nvar ModelPosition_1 = require(\"../EngineEntity/ModelPosition\");\nvar Renderer_1 = require(\"../Renderer\");\nvar FontChar = /** @class */ (function (_super) {\n    __extends(FontChar, _super);\n    function FontChar(fontChar, rect, vertexModel) {\n        var _this = _super.call(this, rect, vertexModel) || this;\n        _this.fontChar = fontChar;\n        return _this;\n    }\n    return FontChar;\n}(ModelObject2d_1.default));\nvar RenderFont = /** @class */ (function () {\n    function RenderFont(font, fontPos, time) {\n        this.repeat = false;\n        this.newFont(font, fontPos, time);\n    }\n    RenderFont.prototype.render = function (engineHelper) {\n        if (this.isRepeat() && !this.repeat) {\n            return;\n        }\n        else {\n            this.repeat = false;\n        }\n        if (this.shaderEntity) {\n            engineHelper.render(this.shaderEntity);\n        }\n    };\n    RenderFont.prototype.expire = function () {\n        this.displayTime = -1;\n        this.shaderEntity = undefined;\n        this.font = undefined;\n    };\n    RenderFont.prototype.isExpired = function () {\n        return (this.displayTime !== undefined &&\n            !this.isRepeat() &&\n            this.displayTime < this.timer.peak());\n    };\n    RenderFont.prototype.refresh = function () {\n        this.repeat = true;\n    };\n    RenderFont.prototype.isRepeat = function () {\n        return this.displayTime === 0;\n    };\n    RenderFont.prototype.newFont = function (font, fontPos, time) {\n        this.font = font;\n        this.displayTime = time;\n        this.timer = this.timer ? this.timer : new Timer_1.default();\n        this.timer.start();\n        this.id = this.id ? this.id : RenderFont.$id++;\n        this.shaderEntity = font.shaderEntity.shallowCopy();\n        var pos = new ModelPosition_1.default();\n        pos.centerRect(fontPos);\n        pos.rotateOriginRect(fontPos);\n        pos.rotateZ(180);\n        pos.scaleRect(fontPos);\n        this.shaderEntity.model = pos.getModel;\n        this.shaderEntity.modelPosition = function () { return pos.position; };\n        this.modelPos = pos;\n    };\n    RenderFont.$id = 0;\n    return RenderFont;\n}());\nvar FontManager = /** @class */ (function (_super) {\n    __extends(FontManager, _super);\n    function FontManager(metaData) {\n        var _this = _super.call(this) || this;\n        _this.metaData = metaData;\n        _this.fonts = {};\n        _this.renderFontState = {};\n        _this.renderFontPool = [];\n        _this.avgWidth = 0;\n        _this.avgHeight = 0;\n        _this.count = 0;\n        return _this;\n    }\n    FontManager.prototype.getFont = function (charCode) {\n        return this.fonts[charCode];\n    };\n    FontManager.prototype.createRender = function (font, fontPos, time) {\n        var renderFont;\n        if (this.renderFontPool.length > 0) {\n            renderFont = this.renderFontPool.pop();\n            renderFont.newFont(font, fontPos, time);\n        }\n        else {\n            renderFont = new RenderFont(font, fontPos, time);\n        }\n        this.renderFontState[renderFont.id] = renderFont;\n        return renderFont;\n    };\n    FontManager.prototype.refreshExpired = function () {\n        var _this = this;\n        Object.values(this.renderFontState).forEach(function (font) {\n            if (font.isExpired()) {\n                delete _this.renderFontState[font.id];\n                _this.renderFontPool.push(font);\n            }\n        });\n    };\n    FontManager.prototype.update = function (engineHelper) {\n        this.refreshExpired();\n        _super.prototype.update.call(this, engineHelper);\n    };\n    FontManager.prototype.render = function (engineHelper) {\n        var fonts = Object.values(this.renderFontState);\n        fonts.forEach(function (r) { return r.render(engineHelper); });\n        this.count = fonts.length;\n    };\n    FontManager.prototype.init = function (engineHelper) {\n        var context = this.metaData.context;\n        var fonts = context.fonts;\n        var defaultRect = new Rect2d_1.default(0.5, 0.5, 1.0, 1.0, 1.0);\n        var totalWidth = 0.0;\n        var totalHeight = 0.0;\n        var totalNo = 0;\n        for (var fontIdx in fonts) {\n            var fontChar = fonts[fontIdx];\n            var pos = [\n                fontChar.x,\n                fontChar.y,\n                fontChar.x + fontChar.width,\n                fontChar.y + fontChar.height,\n            ];\n            var uvs = EngineObjectHelper_1.default.vertex.planeCW(pos, context.width, context.height);\n            var vertexModel = engineHelper.createPlaneVertexModel(context.filename, uvs, PlaneType_1.default.YX);\n            var font = new FontChar(fontChar, defaultRect, vertexModel);\n            this.fonts[fontChar.charCode] = font;\n            this.entities.push(font);\n            totalWidth += fontChar.width;\n            totalHeight += fontChar.height;\n            totalNo += 1;\n        }\n        this.avgHeight = totalHeight / totalNo;\n        this.avgWidth = totalWidth / totalNo;\n        _super.prototype.init.call(this, engineHelper);\n    };\n    return FontManager;\n}(EntityManager_1.default));\nvar FontReference = /** @class */ (function () {\n    function FontReference() {\n    }\n    FontReference.prototype.render = function (engineHelper) {\n        engineHelper.writeFont(this);\n    };\n    FontReference.newFont = function (pos, cacheId, time) {\n        var ref = new FontReference();\n        ref.displayRect = new Rect2d_1.default(0, 0, 0, 0);\n        ref.pos = pos;\n        ref.time = time;\n        ref.$cacheId = cacheId;\n        ref.isDirtyPos = false;\n        ref.isDirtyText = false;\n        return ref;\n    };\n    FontReference.prototype.setTop = function (isTop) {\n        this.isTop = isTop;\n        return this;\n    };\n    FontReference.prototype.translate = function (dx, dy) {\n        this.pos.x += dx;\n        this.pos.y += dy;\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.center = function (x, y) {\n        this.pos.x = x;\n        this.pos.y = y;\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.setPosition = function (position) {\n        this.pos = new Coordinate_1.default(position.x, position.y);\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.setWidth = function (width) {\n        this.width = width;\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.setText = function (text) {\n        if (this._hidden) {\n            this.prevText = text;\n            this.text = \"\";\n        }\n        else {\n            this.text = text;\n            this.prevText = \"\";\n        }\n        this.isDirtyText = true;\n        return this;\n    };\n    FontReference.prototype.setFontSize = function (fontSize) {\n        this.fontSize = fontSize;\n        this.isDirtyPos = true;\n        return this;\n    };\n    Object.defineProperty(FontReference.prototype, \"hidden\", {\n        set: function (hidden) {\n            var _a;\n            if (!this._hidden && hidden) {\n                this.prevText = this.text;\n                this.text = \"\";\n                this.isDirtyText = true;\n            }\n            else if (this._hidden && !hidden) {\n                this.text = (_a = this.prevText) !== null && _a !== void 0 ? _a : \"\";\n                this.prevText = \"\";\n                this.isDirtyText = true;\n            }\n            this._hidden = hidden;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FontReference;\n}());\nexports.FontReference = FontReference;\nvar Font = /** @class */ (function () {\n    function Font(metaData) {\n        var _this = this;\n        this.warningShown = false;\n        this.fontCacheId = 1;\n        this.expireRenderFont = function (fontRef) {\n            _this.fontCache[fontRef.$id].forEach(function (f) { return f.expire(); });\n            _this.fontCache[fontRef.$id] = [];\n        };\n        this.writeRef = function (fontRef) {\n            if (_this.fontManager.count > Font.MAX_FONT) {\n                if (!_this.warningShown) {\n                    _this.warningShown = true;\n                    console.warn(\"Maximum font is being rendered\", _this.fontManager.count);\n                }\n            }\n            if (!fontRef.fontSize) {\n                if (!fontRef.width) {\n                    if (!_this.warningShown) {\n                        _this.warningShown = true;\n                        console.warn(\"Either font size or width needs to be set in FontReference\");\n                    }\n                    return fontRef;\n                }\n                if (!fontRef.text) {\n                    if (!_this.warningShown) {\n                        _this.warningShown = true;\n                        console.warn(\"Font text must be set to calculate font size to fit width\");\n                    }\n                    return fontRef;\n                }\n                fontRef.fontSize = _this.calculateFontSize(fontRef.width, fontRef.text.length);\n            }\n            else if (!fontRef.width) {\n                fontRef.width = _this.calcTotalTextWidth(fontRef);\n            }\n            if (fontRef.isDirtyText && fontRef.$id) {\n                _this.expireRenderFont(fontRef);\n            }\n            if (!fontRef.$id || fontRef.isDirtyText) {\n                if (!fontRef.$id) {\n                    fontRef.$id = _this.fontCacheId++;\n                }\n                fontRef.isDirtyText = false;\n                fontRef.isDirtyPos = false;\n                fontRef.prevPos = new Coordinate_1.default(fontRef.pos.x, fontRef.pos.y);\n                var fonts = _this.createFonts(fontRef);\n                _this.fontCache[fontRef.$id] = fonts;\n                _this.fontRefCache[fontRef.$id] = fontRef;\n            }\n            else if (fontRef.isDirtyPos) {\n                var fonts = _this.fontCache[fontRef.$id];\n                var fontPos = fontRef.pos;\n                if (!fontRef.prevPos) {\n                    fontRef.prevPos = new Coordinate_1.default(fontRef.pos.x, fontRef.pos.y);\n                }\n                var dx_1 = fontRef.prevPos.x - fontPos.x;\n                var dy_1 = fontRef.prevPos.y - fontPos.y;\n                fonts.forEach(function (font) {\n                    var modelPos = font.modelPos;\n                    modelPos.translate(-dx_1, -dy_1, 0);\n                    modelPos.rotateOrigin(modelPos.position.x, modelPos.position.y, modelPos.position.z);\n                });\n                fontRef.isDirtyPos = false;\n                fontRef.prevPos.x = fontRef.pos.x;\n                fontRef.prevPos.y = fontRef.pos.y;\n            }\n            _this.fontCache[fontRef.$id].forEach(function (font) {\n                font.refresh();\n                font.shaderEntity.isTop = fontRef.isTop;\n            });\n            return fontRef;\n        };\n        this.fontManager = new FontManager(metaData);\n        this.fontCache = {};\n        this.fontRefCache = {};\n        if (!Font.DefaultFont) {\n            Font.DefaultFont = this;\n        }\n    }\n    Font.prototype.event = function () {\n        return;\n    };\n    Font.prototype.update = function (engineHelper) {\n        if (engineHelper.notificationQueue.peak(Renderer_1.RendererNotification.RESIZE_SCREEN.key)) {\n            Object.values(this.fontRefCache).forEach(this.expireRenderFont);\n            Object.values(this.fontRefCache).forEach(function (font) { return (font.isDirtyText = true); });\n            this.fontManager.refreshExpired();\n            Object.values(this.fontRefCache).forEach(this.writeRef);\n        }\n        this.fontManager.update(engineHelper);\n    };\n    Font.prototype.render = function (engineHelper) {\n        this.fontManager.render(engineHelper);\n    };\n    Font.prototype.init = function (engineHelper) {\n        this.fontManager.init(engineHelper);\n    };\n    Font.prototype.calcTotalTextWidth = function (fontRef) {\n        var text = fontRef.text;\n        var fontSize = fontRef.fontSize / Font.pixelDensity;\n        var carryWidth = 0;\n        for (var charIdx = 0; charIdx < text.length; charIdx++) {\n            var charCode = text.charCodeAt(charIdx);\n            var font = this.fontManager.getFont(charCode);\n            var height = fontSize;\n            var fontRatio = Math.abs(font.fontChar.height) < 10e-6\n                ? 0.0\n                : font.fontChar.width / font.fontChar.height;\n            var width = height * fontRatio;\n            carryWidth += width;\n        }\n        return carryWidth;\n    };\n    Font.prototype.calculateFontSize = function (width, length) {\n        var fontRatio = Math.abs(this.fontManager.avgHeight) < 10e-6\n            ? 0.0\n            : this.fontManager.avgWidth / this.fontManager.avgHeight;\n        var widthFactor = 3;\n        return ((width / fontRatio) * Font.pixelDensity) / length / widthFactor;\n    };\n    Font.prototype.createFonts = function (fontRef) {\n        var pos = fontRef.pos;\n        var time = fontRef.time;\n        var text = fontRef.text;\n        var fontSize = Font.fontHeight(fontRef.fontSize);\n        var totalWidth = this.calcTotalTextWidth(fontRef);\n        var maxHeight = 0;\n        var carryWidth = -totalWidth / 2.0;\n        var fonts = [];\n        for (var charIdx = 0; charIdx < text.length; charIdx++) {\n            var charCode = text.charCodeAt(charIdx);\n            var font = this.fontManager.getFont(charCode);\n            var fontChar = font.fontChar;\n            var height = fontSize;\n            maxHeight = Math.max(maxHeight, height);\n            var fontRatio = Math.abs(fontChar.height) < 10e-6\n                ? 0.0\n                : fontChar.width / fontChar.height;\n            var width = height * fontRatio;\n            carryWidth += width;\n            var fontPos = new Rect2d_1.default(pos.x + carryWidth - width / 2.0 - fontChar.xOffset / 2.0, pos.y + height / 2.0 - fontChar.yOffset / 2.0, width, height, -1 * pos.z);\n            var renderFont = this.fontManager.createRender(font, fontPos, time);\n            fonts.push(renderFont);\n        }\n        fontRef.displayRect.x = pos.x;\n        fontRef.displayRect.y = pos.y;\n        fontRef.displayRect.width = carryWidth;\n        fontRef.displayRect.height = maxHeight;\n        return fonts;\n    };\n    Font.fontHeight = function (fontSize) {\n        return fontSize / Font.pixelDensity;\n    };\n    Font.MAX_FONT = 1000;\n    Font.pixelDensity = 400.0;\n    return Font;\n}());\nexports.default = Font;\n//# sourceMappingURL=Font.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShaderEntity = void 0;\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar ShaderEntity = /** @class */ (function () {\n    function ShaderEntity() {\n        this.opt = new RenderOption_1.default();\n        this.clone = false;\n    }\n    ShaderEntity.prototype.getVertexModel = function () {\n        return this.vertexModel;\n    };\n    ShaderEntity.prototype.getVertexBufferId = function () {\n        return this.vertexModel.vertexBufferId;\n    };\n    ShaderEntity.prototype.getOpt = function () {\n        return this.opt;\n    };\n    ShaderEntity.prototype.getModel = function () {\n        return this.model();\n    };\n    ShaderEntity.prototype.getTextureSource = function () {\n        return this.src;\n    };\n    ShaderEntity.prototype.setTextureSource = function (src) {\n        this.src = src;\n    };\n    ShaderEntity.prototype.renderCopy = function (model) {\n        var newInstance = this.shallowCopy();\n        newInstance.model = model.getModel;\n        newInstance.modelPosition = model.getPosition;\n        return newInstance;\n    };\n    ShaderEntity.prototype.shallowCopy = function () {\n        var newInstance = new ShaderEntity();\n        newInstance.opt = this.opt;\n        newInstance.vertexModel = this.vertexModel;\n        newInstance.rendererBufferId = this.rendererBufferId;\n        newInstance.rendererTextureRef = this.rendererTextureRef;\n        newInstance.src = this.src;\n        newInstance.isTop = this.isTop;\n        newInstance.hidden = this.hidden;\n        return newInstance;\n    };\n    return ShaderEntity;\n}());\nexports.ShaderEntity = ShaderEntity;\n//# sourceMappingURL=ShaderEntity.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RenderType = exports.ShaderType = void 0;\nvar ShaderType = /** @class */ (function () {\n    function ShaderType() {\n    }\n    ShaderType.THREE_DIMENSION = 2;\n    ShaderType.TWO_DIMENSION = 1;\n    ShaderType.COLOUR = 3;\n    return ShaderType;\n}());\nexports.ShaderType = ShaderType;\nvar RenderType = /** @class */ (function () {\n    function RenderType() {\n    }\n    RenderType.PLAIN = 4;\n    RenderType.TRIANGLE = 5;\n    RenderType.RECTANGLE = 6;\n    return RenderType;\n}());\nexports.RenderType = RenderType;\nvar RenderOption = /** @class */ (function () {\n    function RenderOption() {\n    }\n    return RenderOption;\n}());\nexports.default = RenderOption;\n//# sourceMappingURL=RenderOption.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Coordinate = /** @class */ (function () {\n    function Coordinate(x, y, z) {\n        this.x = x || 0;\n        this.y = y || 0;\n        this.z = z || 0;\n    }\n    return Coordinate;\n}());\nexports.default = Coordinate;\n//# sourceMappingURL=Coordinate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProgramReference = /** @class */ (function () {\n    function ProgramReference(key, ctx, isAttribute, program) {\n        if (isAttribute) {\n            this.ref = ctx.getAttribLocation(program, key);\n            if (this.ref === -1) {\n                throw new Error(\"Unable to find attribute shader key = \" + key);\n            }\n        }\n        else {\n            this.ref = ctx.getUniformLocation(program, key);\n            if (this.ref === null) {\n                throw new Error(\"Unable to find uniform shader key = \" + key);\n            }\n        }\n    }\n    return ProgramReference;\n}());\nexports.default = ProgramReference;\n//# sourceMappingURL=ProgramReference.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WorldDelegate_1 = require(\"../Core/WorldDelegate\");\nvar ObjectManager = /** @class */ (function (_super) {\n    __extends(ObjectManager, _super);\n    function ObjectManager() {\n        var _this = _super.call(this) || this;\n        _this.entities = [];\n        _this.deferred = [];\n        _this.isLoaded = false;\n        return _this;\n    }\n    ObjectManager.prototype.render = function () {\n        var _this = this;\n        this.entities.forEach(function (ent) { return ent.render(_this.engineHelper); });\n    };\n    ObjectManager.prototype.update = function () {\n        var _this = this;\n        this.entities.forEach(function (ent) { return ent.update(_this.engineHelper); });\n    };\n    ObjectManager.prototype.addEntity = function (entity) {\n        this.entities.push(entity);\n    };\n    ObjectManager.prototype.event = function (event) {\n        for (var entityIdx = 0; entityIdx < this.entities.length; entityIdx++) {\n            var shouldPropagate = this.entities[entityIdx].event(event, this.engineHelper);\n            if (shouldPropagate === false) {\n                return false;\n            }\n        }\n    };\n    ObjectManager.prototype.loadTexture = function (onLoad) {\n        if (!this.isLoaded) {\n            this.deferred.push(onLoad);\n        }\n        else {\n            onLoad();\n        }\n    };\n    ObjectManager.prototype.init = function () {\n        for (var entityIdx = 0; entityIdx < this.entities.length; entityIdx++) {\n            this.entities[entityIdx].init(this.engineHelper);\n        }\n        this.deferred.forEach(function (def) { return def(); });\n        this.isLoaded = true;\n    };\n    return ObjectManager;\n}(WorldDelegate_1.default));\nexports.default = ObjectManager;\n//# sourceMappingURL=ObjectManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Timer = /** @class */ (function () {\n    function Timer() {\n        this._start = Date.now();\n    }\n    Timer.prototype.start = function () {\n        this._start = Date.now();\n        return this;\n    };\n    Timer.prototype.peak = function () {\n        return Date.now() - this._start;\n    };\n    Timer.prototype.stop = function () {\n        this._end = Date.now();\n        var elapsed = this._end - this._start;\n        this._start = this._end;\n        return elapsed;\n    };\n    return Timer;\n}());\nexports.default = Timer;\n//# sourceMappingURL=Timer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Coordinate_1 = require(\"../Data/Coordinate\");\nvar EngineMath = /** @class */ (function () {\n    function EngineMath() {\n    }\n    EngineMath.boundRect = function (bound, pos) {\n        var boundedX = Math.max(bound.x + pos.width / 2.0, Math.min(bound.x + bound.width - pos.width / 2.0, pos.x));\n        var boundedY = Math.max(bound.y + pos.height / 2.0, Math.min(bound.y + bound.height - pos.height / 2.0, pos.y));\n        return new Coordinate_1.default(boundedX, boundedY, pos.z);\n    };\n    EngineMath.getLength = function (x1, y1, x2, y2) {\n        return Math.sqrt(Math.abs((x1 - x2) * (x1 - x2)) + Math.abs((y1 - y2) * (y1 - y2)));\n    };\n    return EngineMath;\n}());\nexports.default = EngineMath;\n//# sourceMappingURL=EngineMath.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderOption_1 = require(\"../../Data/RenderOption\");\nvar ShaderColourProgram_1 = require(\"../ShaderProgram/ShaderColourProgram\");\nvar EntityColourProgram = /** @class */ (function () {\n    function EntityColourProgram(ctx) {\n        this.ctx = ctx;\n        this.program = new ShaderColourProgram_1.default(ctx);\n    }\n    EntityColourProgram.prototype.delete = function () {\n        this.program.arrayBuffer.delete();\n        this.program.delete();\n    };\n    EntityColourProgram.prototype.updateBuffer = function (entity, buffer) {\n        var opt = entity.getOpt();\n        if (RenderOption_1.ShaderType.COLOUR !== opt.shaderType) {\n            console.error(\"Updating buffer for registered Colour Entity but with different shader type as RenderOptions\", opt);\n            return;\n        }\n        var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n        if (!buffer || buffer.length !== buffReg.verticesSize) {\n            console.error(\"New Buffer data does not match initial buffer data!\", entity, buffer, buffReg.verticesSize);\n        }\n        this.program.arrayBuffer.bufferSub(buffReg.offset, buffer, ShaderColourProgram_1.default.DRAW_VERTEX_SIZE);\n    };\n    EntityColourProgram.prototype.bindBuffer = function () {\n        this.program.arrayBuffer.bufferBind();\n    };\n    EntityColourProgram.prototype.render = function (entities, camera) {\n        this.program.arrayBuffer.bind();\n        this.program.bindAttributePointers();\n        this.program.bindProgram();\n        this.program.glSetViewMatrix(camera.viewMatrix);\n        if (this.ctx.isEnabled(this.ctx.CULL_FACE)) {\n            this.ctx.disable(this.ctx.CULL_FACE);\n        }\n        if (this.ctx.isEnabled(this.ctx.DEPTH_TEST)) {\n            this.ctx.disable(this.ctx.DEPTH_TEST);\n        }\n        for (var index = 0; index < entities.length; index++) {\n            var data = entities[index];\n            var entity = data[0];\n            var model = data[1];\n            if (!entity.rendererBufferId) {\n                throw new Error(\"Unregistered entity buffer\" + entity);\n            }\n            var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n            this.program.glSetModelViewMatrix(model);\n            this.ctx.drawArrays(this.ctx.TRIANGLE_STRIP, buffReg.offset, buffReg.size);\n        }\n        this.program.arrayBuffer.unbind();\n        this.program.unbindAttributePointers();\n        this.program.unbindProgram();\n    };\n    EntityColourProgram.prototype.registerEntity = function (object, objBuffer) {\n        var size = objBuffer.length / ShaderColourProgram_1.default.DRAW_VERTEX_SIZE;\n        this.program.arrayBuffer.bufferReg[this.program.arrayBuffer.bufferRegId] = {\n            offset: this.program.arrayBuffer.length(),\n            size: size,\n            verticesSize: objBuffer.length,\n        };\n        this.program.arrayBuffer.push(objBuffer, size);\n        object.rendererBufferId = this.program.arrayBuffer.bufferRegId;\n        this.program.arrayBuffer.bufferRegId++;\n    };\n    EntityColourProgram.prototype.updatePerspective = function (projectionMatrix) {\n        this.program.bindProgram();\n        this.program.glSetProjectMatrix(projectionMatrix);\n    };\n    return EntityColourProgram;\n}());\nexports.default = EntityColourProgram;\n//# sourceMappingURL=EntityColorProgram.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PhysicsData = exports.ParabolicSimulation = void 0;\nvar Timer_1 = require(\"../Common/Timer\");\nvar CollisionDetection_1 = require(\"./CollisionDetection\");\nvar Physics = /** @class */ (function () {\n    function Physics() {\n    }\n    Physics.registerPhysics = function (entity, physics) {\n        if (physics === void 0) { physics = undefined; }\n        if (!entity.$physicsId) {\n            entity.$physicsId = Physics.physicsEntityIdCount++;\n            this.physicsEntities[entity.$physicsId] = {\n                entity: entity,\n                enabled: true,\n                physics: physics,\n            };\n        }\n    };\n    Physics.deregisterPhysics = function (entity) {\n        if (entity.$physicsId !== undefined &&\n            this.physicsEntities[entity.$physicsId]) {\n            delete this.physicsEntities[entity.$physicsId];\n        }\n    };\n    Physics.setEnabledPhysics = function (entity, enabled) {\n        if (this.physicsEntities[entity.$physicsId]) {\n            this.physicsEntities[entity.$physicsId].enabled = enabled;\n        }\n    };\n    Physics.isCollidingOffset2d = function (entity, dx, dy) {\n        var px = entity.position.x + dx;\n        var py = entity.position.y + dy;\n        return Physics.isCollidingPos2d(entity, px, py);\n    };\n    Physics.isCollidingPoint2d = function (entity) {\n        var px = entity.position.x;\n        var py = entity.position.y;\n        return Physics.isCollidingPos2d(entity, px, py);\n    };\n    Physics.isCollidingResolve = function (entity, dx, dy) {\n        var _a;\n        var collision = [];\n        var _dx = [];\n        var _dy = [];\n        for (var key in this.physicsEntities) {\n            if (this.physicsEntities.hasOwnProperty(key)) {\n                var physicsEntity = this.physicsEntities[key];\n                var node = physicsEntity.entity;\n                if (physicsEntity.enabled && node.$physicsId !== entity.$physicsId) {\n                    var _b = ((_a = physicsEntity.physics) === null || _a === void 0 ? void 0 : _a.collisionSize) || node.position, x = _b.x, y = _b.y, width = _b.width, height = _b.height;\n                    var colliding = CollisionDetection_1.CollisionDetection.isCollidingRect(x, y, width, height, entity.position.x + dx, entity.position.y + dy, entity.position.width, entity.position.height);\n                    if (colliding) {\n                        collision.push(physicsEntity.entity);\n                        var collidingX = CollisionDetection_1.CollisionDetection.isCollidingRect(x, y, width, height, entity.position.x + dx, entity.position.y, entity.position.width, entity.position.height);\n                        var collidingY = CollisionDetection_1.CollisionDetection.isCollidingRect(x, y, width, height, entity.position.x, entity.position.y + dy, entity.position.width, entity.position.height);\n                        if (collidingX && collidingY) {\n                            _dx.push(-Physics.dxBoundary(entity, x, width));\n                            _dy.push(-Physics.dyBoundary(entity, y, height));\n                        }\n                        else if (collidingX) {\n                            _dx.push(Physics.dxBoundary(entity, x, width));\n                        }\n                        else if (collidingY) {\n                            _dy.push(Physics.dyBoundary(entity, y, height));\n                        }\n                    }\n                }\n            }\n        }\n        if (_dx.length > 0) {\n            dx = Math.min.apply(Math, _dx);\n        }\n        if (_dy.length > 0) {\n            dy = Math.min.apply(Math, _dy);\n        }\n        if (Math.abs(dx) < 10e-6) {\n            dx = 0;\n        }\n        if (Math.abs(dy) < 10e-6) {\n            dy = 0;\n        }\n        return [dx, dy, collision];\n    };\n    Physics.dyBoundary = function (entity, y, height) {\n        var _dy = Math.abs(CollisionDetection_1.CollisionDetection.getLength(entity.position.y, 0, y, 0) -\n            entity.position.height / 2 -\n            height / 2);\n        _dy *= Math.sign(y - entity.position.y) * 0.9999999;\n        return _dy;\n    };\n    Physics.dxBoundary = function (entity, x, width) {\n        var _dx = Math.abs(CollisionDetection_1.CollisionDetection.getLength(entity.position.x, 0, x, 0) -\n            entity.position.width / 2 -\n            width / 2);\n        _dx *= Math.sign(x - entity.position.x) * 0.9999999;\n        return _dx;\n    };\n    Physics.isCollidingPos2d = function (entity, px, py) {\n        var collision = [];\n        for (var key in this.physicsEntities) {\n            if (this.physicsEntities.hasOwnProperty(key)) {\n                var physicsEntity = this.physicsEntities[key];\n                var pEntityRoot = physicsEntity.entity;\n                if (physicsEntity.enabled &&\n                    pEntityRoot.$physicsId !== entity.$physicsId) {\n                    var colliding = CollisionDetection_1.CollisionDetection.isCollidingRect(pEntityRoot.position.x, pEntityRoot.position.y, pEntityRoot.position.width, pEntityRoot.position.height, px, py, entity.position.width, entity.position.height);\n                    if (colliding) {\n                        collision.push(physicsEntity.entity);\n                    }\n                }\n            }\n        }\n        return collision;\n    };\n    Physics.generateSimulationId = function () {\n        var simulationId = this.simulationIdCurrent;\n        this.simulationIdCurrent += 1;\n        return simulationId;\n    };\n    Physics.pauseSimulation = function (simulationId) {\n        var data = this.simulations[simulationId];\n        if (!data) {\n            return;\n        }\n        data.pause = true;\n    };\n    Physics.resumeSimulation = function (simulationId) {\n        var data = this.simulations[simulationId];\n        if (!data) {\n            return;\n        }\n        data.pause = false;\n    };\n    Physics.cancelSimulation = function (simulationId, force) {\n        if (force === void 0) { force = false; }\n        var data = this.simulations[simulationId];\n        if (!data) {\n            return;\n        }\n        data.cancelled = true;\n        data.totalIterations = 0;\n        if (!force && data.completeSimulation) {\n            data.completeSimulation();\n        }\n    };\n    Physics.physicsLoop = function () {\n        var simulationCount = 0;\n        for (var simulationId in this.simulations) {\n            if (this.simulations.hasOwnProperty(simulationId)) {\n                var data = this.simulations[simulationId];\n                if (!data)\n                    continue;\n                if (data.cancelled) {\n                    continue;\n                }\n                if (data) {\n                    if (data.pause) {\n                        data.timer.start();\n                        continue;\n                    }\n                    var time = data.timer.peak();\n                    if (data.totalIterations === 0 || data.runTime < data.totalRunTime) {\n                        data.simulation(+simulationId, time, data.totalRunTime, data.totalIterations);\n                        data.runTime += time;\n                        data.timer.start();\n                        data.totalIterations += 1;\n                        simulationCount++;\n                    }\n                    else {\n                        this.cancelSimulation(simulationId);\n                    }\n                }\n            }\n        }\n    };\n    Physics.runSimulation = function (totalRunTime, simulation, completeSimulation, existingSimulationId) {\n        var simulationId = existingSimulationId || this.generateSimulationId();\n        var data = this.simulations[simulationId];\n        if (!data) {\n            this.simulations[simulationId] = {\n                pause: false,\n                timer: new Timer_1.default().start(),\n                simulation: simulation,\n                totalRunTime: totalRunTime,\n                completeSimulation: completeSimulation,\n                totalIterations: 0,\n                runTime: 0.0,\n                cancelled: false,\n            };\n        }\n        else {\n            if (data.cancelled) {\n                data.pause = false;\n                data.timer.start();\n                data.simulation = simulation;\n                data.totalRunTime = totalRunTime;\n                data.completeSimulation = completeSimulation;\n                data.cancelled = false;\n            }\n            data.totalIterations = 0;\n            data.runTime = 0;\n        }\n        if (this.simulationLoop === undefined) {\n            this.simulationLoop = setInterval(this.physicsLoop.bind(this), this.TIME_STEP_MILLIS);\n        }\n        return simulationId;\n    };\n    Physics.parabolicSimulation = function (parabolic, simulation, completeSimulation) {\n        var _this = this;\n        return this.runSimulation(parabolic.totalRunTime, function (simulationId, timeStep) {\n            var data = _this.simulations[simulationId];\n            if (data) {\n                var runTime = data.runTime;\n                var height = parabolic.height;\n                var width = parabolic.width;\n                var totalRunTime = parabolic.totalRunTime;\n                var a = ((1.0 / 3.0 + 1.0) * height) / width / width;\n                var b = a * width;\n                var vy = height / 2.0 / (totalRunTime / 2.0);\n                var x = (Math.sqrt(4 * a * vy * runTime + b * b) - b) / (2 * a);\n                var vx = -width / totalRunTime;\n                var y = -(a * vx * runTime * vx * runTime + b * vx * runTime);\n                var dx = x - parabolic.px;\n                var dy = y - parabolic.py;\n                parabolic.px = x;\n                parabolic.py = y;\n                simulation(simulationId, timeStep, dx, dy);\n            }\n        }, completeSimulation);\n    };\n    Physics.TIME_STEP_MILLIS = 10;\n    Physics.simulations = {};\n    Physics.simulationIdCurrent = 1;\n    Physics.physicsEntities = {};\n    Physics.physicsEntityIdCount = 1;\n    return Physics;\n}());\nexports.default = Physics;\nvar ParabolicSimulation = /** @class */ (function () {\n    function ParabolicSimulation() {\n    }\n    return ParabolicSimulation;\n}());\nexports.ParabolicSimulation = ParabolicSimulation;\nvar PhysicsData = /** @class */ (function () {\n    function PhysicsData() {\n    }\n    return PhysicsData;\n}());\nexports.PhysicsData = PhysicsData;\n//# sourceMappingURL=Physics.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Updater = /** @class */ (function () {\n    function Updater(args) {\n        if (!args.world) {\n            throw new Error(\"world not defined\");\n        }\n        this.world = args.world;\n    }\n    Updater.prototype.update = function (time, engineHelper) {\n        engineHelper.setTime(time);\n        this.world.update();\n        engineHelper.updateFont();\n    };\n    return Updater;\n}());\nexports.default = Updater;\n//# sourceMappingURL=Updater.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Physics_1 = require(\"../Physics/Physics\");\nvar ConfigMapBuilder_1 = require(\"../Builder/ConfigMapBuilder\");\nvar EntityManager2d_1 = require(\"../../Manager/EntityManager2d\");\nvar EngineMap = /** @class */ (function (_super) {\n    __extends(EngineMap, _super);\n    function EngineMap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.$ref = {};\n        _this.show = false;\n        return _this;\n    }\n    EngineMap.prototype.reset = function () {\n        this.entities = [];\n        this.$ref = {};\n    };\n    EngineMap.prototype.beforeShow = function () { };\n    EngineMap.prototype.updatePosition = function (entity, position) {\n        if (this.$ref[entity.$id]) {\n            this.$ref[entity.$id].position = position;\n        }\n        else {\n            console.error(\"Trying to update position when entity not set\", this);\n        }\n    };\n    EngineMap.prototype.setShow = function (show) {\n        this.show = show;\n        if (this.show) {\n            this.beforeShow();\n        }\n        this.entities.forEach(function (ent) {\n            Physics_1.default.setEnabledPhysics(ent, show);\n            ent.hidden = !show;\n        });\n        if (this.show) {\n            this.restore();\n        }\n    };\n    EngineMap.prototype.restore = function () {\n        for (var prop in this.$ref) {\n            if (this.$ref.hasOwnProperty(prop)) {\n                var entityData = this.$ref[prop];\n                entityData.entity.setPosition(entityData.position);\n            }\n        }\n    };\n    EngineMap.prototype.addEntity = function (entity) {\n        if (!this.$ref[entity.$id]) {\n            this.entities.push(entity);\n            this.$ref[entity.$id] = {\n                entity: entity,\n                position: entity.position,\n            };\n        }\n        return this;\n    };\n    EngineMap.prototype.update = function (engineHelper) {\n        if (!this.show) {\n            return;\n        }\n        this.entities.forEach(function (ent) { return ent.update(engineHelper); });\n        if (this.configBuilder) {\n            this.configBuilder.texts.forEach(function (fontRef) {\n                return engineHelper.writeFont(fontRef);\n            });\n        }\n    };\n    EngineMap.prototype.render = function (engineHelper) {\n        if (!this.show) {\n            return;\n        }\n        this.entities.forEach(function (ent) { return ent.render(engineHelper); });\n    };\n    EngineMap.prototype.event = function (event, engineHelper) {\n        if (!this.show) {\n            return;\n        }\n        for (var _i = 0, _a = this.entities; _i < _a.length; _i++) {\n            var entities = _a[_i];\n            if (entities.isLastEvent) {\n                continue;\n            }\n            var shouldPropagate = entities.event(event, engineHelper);\n            if (shouldPropagate === false) {\n                return false;\n            }\n        }\n        for (var _b = 0, _c = this.entities; _b < _c.length; _b++) {\n            var entities = _c[_b];\n            if (!entities.isLastEvent) {\n                continue;\n            }\n            var shouldPropagate = entities.event(event, engineHelper);\n            if (shouldPropagate === false) {\n                return false;\n            }\n        }\n    };\n    EngineMap.prototype.init = function (engineHelper) {\n        this.engineHelper = engineHelper;\n        this.entities.forEach(function (ent) { return ent.init(engineHelper); });\n    };\n    EngineMap.prototype.parseMap = function (engineHelper, map) {\n        this.configBuilder = new ConfigMapBuilder_1.default(engineHelper);\n        this.configBuilder.build(map);\n        this.addEntities();\n    };\n    EngineMap.prototype.addEntities = function () {\n        var _this = this;\n        if (!this.configBuilder || !this.configBuilder.objects)\n            return;\n        this.configBuilder.objects.forEach(function (ent) {\n            return _this.addEntity(ent);\n        });\n    };\n    return EngineMap;\n}(EntityManager2d_1.default));\nexports.default = EngineMap;\n//# sourceMappingURL=EngineMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelObjectRect3d_1 = require(\"../Core/EngineEntity/ModelObjectRect3d\");\nvar TextureVertexModel_1 = require(\"../Core/Data/TextureVertexModel\");\nvar Plane3d = /** @class */ (function (_super) {\n    __extends(Plane3d, _super);\n    function Plane3d(rect, vertexModel) {\n        var _this = _super.call(this, rect, vertexModel) || this;\n        if (!(vertexModel instanceof TextureVertexModel_1.default)) {\n            var error = \"Vertex model must of be type TextureVertexModel\";\n            console.error(error, vertexModel);\n            throw new Error(error);\n        }\n        if (!vertexModel.renderUnits || vertexModel.renderUnits.length !== 4) {\n            var error = \"Plane3d requires 4 vertexes\";\n            console.error(error, vertexModel);\n            throw new Error(error);\n        }\n        return _this;\n    }\n    Plane3d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    return Plane3d;\n}(ModelObjectRect3d_1.default));\nexports.default = Plane3d;\n//# sourceMappingURL=Plane3d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseProgram_1 = require(\"../Base/BaseProgram\");\nvar RGBFragmentShader_glsl_1 = require(\"../Shaders/RGBFragmentShader.glsl\");\nvar RGBVertexShader_glsl_1 = require(\"../Shaders/RGBVertexShader.glsl\");\nvar ArrayBuffer_1 = require(\"../../Buffer/ArrayBuffer\");\nvar ProgramReference_1 = require(\"../Base/ProgramReference\");\nvar ShaderProgramColour = /** @class */ (function (_super) {\n    __extends(ShaderProgramColour, _super);\n    function ShaderProgramColour(ctx) {\n        var _this = _super.call(this, ctx) || this;\n        _this.arrayBuffer = new ArrayBuffer_1.default(ctx);\n        _this.program = _this.compileShaders(RGBVertexShader_glsl_1.default, RGBFragmentShader_glsl_1.default);\n        _this.bindProgram();\n        _this.positionRef = new ProgramReference_1.default(\"a_position\", ctx, true, _this.program);\n        _this.colorRef = new ProgramReference_1.default(\"a_color\", ctx, true, _this.program);\n        _this.modelViewMatrixRef = new ProgramReference_1.default(\"u_model\", ctx, false, _this.program);\n        _this.viewMtrx = new ProgramReference_1.default(\"u_view\", ctx, false, _this.program);\n        _this.projMtrx = new ProgramReference_1.default(\"u_projection\", ctx, false, _this.program);\n        return _this;\n    }\n    ShaderProgramColour.prototype.bindProgram = function () {\n        this._bindProgram(this.program);\n    };\n    ShaderProgramColour.prototype.unbindProgram = function () {\n        this._unbindProgram();\n    };\n    ShaderProgramColour.prototype.enableAttribPointers = function () {\n        var ctx = this.ctx;\n        ctx.enableVertexAttribArray(this.positionRef.ref);\n        ctx.enableVertexAttribArray(this.colorRef.ref);\n    };\n    ShaderProgramColour.prototype.bindAttributePointers = function () {\n        this.enableAttribPointers();\n        var ctx = this.ctx;\n        ctx.vertexAttribPointer(this.positionRef.ref, 2, ctx.FLOAT, false, 4 * 7, 0);\n        ctx.vertexAttribPointer(this.colorRef.ref, 4, ctx.FLOAT, false, 4 * 7, 3 * 4);\n    };\n    ShaderProgramColour.prototype.unbindAttributePointers = function () {\n        var ctx = this.ctx;\n        ctx.disableVertexAttribArray(this.positionRef.ref);\n        ctx.disableVertexAttribArray(this.colorRef.ref);\n    };\n    ShaderProgramColour.prototype.glSetProjectMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.projMtrx.ref, false, matrixArray);\n    };\n    ShaderProgramColour.prototype.glSetModelViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.modelViewMatrixRef.ref, false, matrixArray);\n    };\n    ShaderProgramColour.prototype.glSetViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.viewMtrx.ref, false, matrixArray);\n    };\n    ShaderProgramColour.DRAW_VERTEX_SIZE = 7;\n    return ShaderProgramColour;\n}(BaseProgram_1.default));\nexports.default = ShaderProgramColour;\n//# sourceMappingURL=ShaderColourProgram.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BitmapConfigParser = /** @class */ (function () {\n    function BitmapConfigParser(raw, bitmapWidth, bitmapHeight, precision) {\n        var _this = this;\n        this.SOURCE_KEY = \"$source =\";\n        this.map = raw\n            .split(\"\\n\")\n            .map(function (line) {\n            return _this.processLine(bitmapWidth, bitmapHeight, precision, line);\n        })\n            .filter(function (e) { return !!e; })\n            .reduce(function (sum, next) { return (__assign(__assign({}, sum), next)); });\n        this.raw = raw\n            .split(\"\\n\")\n            .map(function (line) { return _this.processRawLine(line); })\n            .filter(function (e) { return !!e; })\n            .reduce(function (sum, next) { return (__assign(__assign({}, sum), next)); });\n    }\n    BitmapConfigParser.prototype.processRawLine = function (line) {\n        if (line.startsWith(this.SOURCE_KEY)) {\n            this.source = line\n                .substr(line.indexOf(this.SOURCE_KEY) + this.SOURCE_KEY.length)\n                .trim()\n                .replace(\"\\r\", \"\")\n                .replace(\"\\n\", \"\");\n            if (window.location.origin === \"file://\") {\n                console.info(\"file based loading should not have ./ in front of the source\");\n            }\n            return;\n        }\n        else {\n            return this.processTextureLine(line);\n        }\n    };\n    BitmapConfigParser.prototype.processTextureLine = function (line) {\n        var _a;\n        var seperator = \"\\u0020\";\n        var nameindex = line.indexOf(seperator);\n        var key = line.substr(0, nameindex);\n        var temp = line.substr(nameindex + 1);\n        temp = temp.substr(temp.indexOf(seperator) + 1);\n        var leftindex = temp.indexOf(seperator);\n        var left = parseFloat(temp.substr(0, leftindex + 1));\n        temp = temp.substr(leftindex + 1);\n        var topindex = temp.indexOf(seperator);\n        var top = parseFloat(temp.substr(0, topindex));\n        temp = temp.substr(topindex + 1);\n        var widthIndex = temp.indexOf(seperator);\n        var width = parseFloat(temp.substr(0, widthIndex));\n        temp = temp.substr(widthIndex);\n        var height = parseFloat(temp);\n        return _a = {},\n            _a[key] = [left, top, width, height],\n            _a;\n    };\n    BitmapConfigParser.prototype.processLine = function (bitmapWidth, bitmapHeight, precision, line) {\n        var _a;\n        var seperator = \"\\u0020\";\n        var nameindex = line.indexOf(seperator);\n        var key = line.substr(0, nameindex);\n        var temp = line.substr(nameindex + 1);\n        temp = temp.substr(temp.indexOf(seperator) + 1);\n        var leftindex = temp.indexOf(seperator);\n        var left = parseFloat(temp.substr(0, leftindex + 1));\n        temp = temp.substr(leftindex + 1);\n        var topindex = temp.indexOf(seperator);\n        var top = parseFloat(temp.substr(0, topindex));\n        temp = temp.substr(topindex + 1);\n        var widthIndex = temp.indexOf(seperator);\n        var width = parseFloat(temp.substr(0, widthIndex));\n        temp = temp.substr(widthIndex);\n        var height = parseFloat(temp);\n        return _a = {},\n            _a[key] = [\n                (left + width) / bitmapWidth - precision,\n                (height + top) / bitmapHeight - precision,\n                (left + width) / bitmapWidth - precision,\n                top / bitmapHeight + precision,\n                left / bitmapWidth + precision,\n                top / bitmapHeight + precision,\n                left / bitmapWidth + precision,\n                (top + height) / bitmapHeight - precision,\n            ],\n            _a;\n    };\n    BitmapConfigParser.prototype.getMap = function () {\n        return this.map;\n    };\n    BitmapConfigParser.prototype.getTextureSource = function () {\n        return this.source;\n    };\n    return BitmapConfigParser;\n}());\nexports.default = BitmapConfigParser;\n//# sourceMappingURL=BitmapConfigParser.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextureLoader = /** @class */ (function () {\n    function TextureLoader() {\n    }\n    TextureLoader.prototype.loadImage = function (src) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.image = document.createElement(\"img\");\n            if (window.location.origin !== \"file://\") {\n                _this.image.crossOrigin = \"anonymous\";\n            }\n            _this.image.onload = function () { return resolve(); };\n            _this.image.onerror = function (error) { return reject(error); };\n            _this.image.src = src;\n        });\n    };\n    return TextureLoader;\n}());\nvar Texture = /** @class */ (function (_super) {\n    __extends(Texture, _super);\n    function Texture(src, ctx) {\n        var _this = _super.call(this) || this;\n        _this.isLoaded = false;\n        _this.isError = false;\n        _this.load = _this.loadImage(src)\n            .then(function () { return _this.onLoad(ctx); })\n            .catch(function (error) { return _this.onError(error); });\n        return _this;\n    }\n    Texture.prototype.onError = function (error) {\n        this.isError = true;\n        this.isLoaded = false;\n        throw error;\n    };\n    Texture.prototype.onLoad = function (ctx) {\n        this.handleTextureLoaded(this.image, ctx);\n        this.isLoaded = true;\n        this.width = this.image.width;\n        this.height = this.image.height;\n        return true;\n    };\n    Texture.prototype.newTextureUnit = function () {\n        return Texture.textureCount++;\n    };\n    Texture.prototype.bindTexture = function (ctx, sampler) {\n        if (this.isLoaded) {\n            ctx.uniform1i(sampler, this.texUnit);\n        }\n    };\n    Texture.prototype.handleTextureLoaded = function (image, ctx) {\n        this.texUnit = this.newTextureUnit();\n        ctx.activeTexture(ctx.TEXTURE0 + this.texUnit);\n        this.texture = this.createTextureFromImage(image, ctx);\n    };\n    Texture.prototype.createTextureFromImage = function (image, ctx) {\n        var texture = ctx.createTexture();\n        ctx.bindTexture(ctx.TEXTURE_2D, texture);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.NEAREST);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.NEAREST);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_S, ctx.CLAMP_TO_EDGE);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_T, ctx.CLAMP_TO_EDGE);\n        ctx.texImage2D(ctx.TEXTURE_2D, 0, ctx.RGBA, ctx.RGBA, ctx.UNSIGNED_BYTE, image);\n        return texture;\n    };\n    Texture.textureCount = 0;\n    return Texture;\n}(TextureLoader));\nexports.default = Texture;\n//# sourceMappingURL=Texture.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Polygon = exports.CollisionDetection = exports.Collision = void 0;\nvar Vector2d_1 = require(\"../Data/Vector2d\");\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Collision = /** @class */ (function () {\n    function Collision() {\n    }\n    return Collision;\n}());\nexports.Collision = Collision;\nvar CollisionDetection = /** @class */ (function () {\n    function CollisionDetection() {\n    }\n    CollisionDetection.rotate = function (x, y, rotate) {\n        var center = gl_matrix_1.vec2.fromValues(x, y);\n        gl_matrix_1.vec2.rotate(center, center, gl_matrix_1.vec2.fromValues(rotate.originX, rotate.originY), Math.PI * (2 - rotate.az / 180));\n        return { x: center[0], y: center[1] };\n    };\n    CollisionDetection.getLength = function (x1, y1, x2, y2) {\n        return Math.sqrt(Math.abs((x1 - x2) * (x1 - x2)) + Math.abs((y1 - y2) * (y1 - y2)));\n    };\n    CollisionDetection.isCollidingRect = function (x1, y1, width1, height1, x2, y2, width2, height2) {\n        return (CollisionDetection.getLength(x1, 0, x2, 0) <\n            width1 / 2.0 + width2 / 2.0 &&\n            CollisionDetection.getLength(y1, 0, y2, 0) < height1 / 2.0 + height2 / 2.0);\n    };\n    CollisionDetection.isRectInRect = function (rect1, rect2) {\n        return !(rect1.x + rect1.width / 2.0 < rect2.x - rect2.width / 2.0 ||\n            rect1.y + rect1.height / 2.0 < rect2.y - rect2.height / 2.0 ||\n            rect1.x - rect1.width / 2.0 > rect2.x + rect2.width / 2.0 ||\n            rect1.y - rect1.height / 2.0 > rect2.y + rect2.height / 2.0);\n    };\n    CollisionDetection.isPointInRect = function (rect, coord) {\n        return this.isCollidingRect(rect.x, rect.y, rect.width, rect.height, coord.x, coord.y, 0.01, 0.01);\n    };\n    CollisionDetection.isPointInPlane3d = function (camera, obj, x, y) {\n        var mvp = gl_matrix_1.mat4.multiply(gl_matrix_1.mat4.create(), camera.frustum, gl_matrix_1.mat4.multiply(gl_matrix_1.mat4.create(), camera.viewMatrix, obj.getModel()));\n        var r1 = this.toClipSpace(obj.vertexModel.renderUnits[0].vertex, mvp);\n        if (r1[2] > 1.0)\n            return false;\n        var r2 = this.toClipSpace(obj.vertexModel.renderUnits[1].vertex, mvp);\n        if (r2[2] > 1.0)\n            return false;\n        var r3 = this.toClipSpace(obj.vertexModel.renderUnits[2].vertex, mvp);\n        if (r3[2] > 1.0)\n            return false;\n        var r4 = this.toClipSpace(obj.vertexModel.renderUnits[3].vertex, mvp);\n        if (r4[2] > 1.0)\n            return false;\n        var rectPolygon = [\n            [r1[0], r1[1]],\n            [r2[0], r2[1]],\n            [r4[0], r4[1]],\n            [r3[0], r3[1]],\n        ];\n        return this.pointInPolygon([x, y], rectPolygon);\n    };\n    CollisionDetection.toClipSpace = function (pos, mvp) {\n        var vec4Trans = gl_matrix_1.vec4.transformMat4(gl_matrix_1.vec4.create(), gl_matrix_1.vec4.set(gl_matrix_1.vec4.create(), pos.x, pos.y, pos.z, 1.0), mvp);\n        var vec4Norm = gl_matrix_1.vec4.scale(gl_matrix_1.vec4.create(), vec4Trans, 1.0 / vec4Trans[3]);\n        return gl_matrix_1.vec4.set(gl_matrix_1.vec4.create(), (vec4Norm[0] + 1.0) / 2.0, (vec4Norm[1] + 1.0) / 2.0, vec4Norm[2], 1.0);\n    };\n    CollisionDetection.pointInPolygon = function (point, polygon) {\n        var x = point[0];\n        var y = point[1];\n        var inside = false;\n        for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n            var xi = polygon[i][0];\n            var yi = polygon[i][1];\n            var xj = polygon[j][0];\n            var yj = polygon[j][1];\n            var intersect = yi > y != yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\n            if (intersect) {\n                inside = !inside;\n            }\n        }\n        return inside;\n    };\n    return CollisionDetection;\n}());\nexports.CollisionDetection = CollisionDetection;\nvar Polygon = /** @class */ (function () {\n    function Polygon() {\n        this.max = 0;\n        this.min = 0;\n    }\n    Polygon.prototype.subtractCenter = function (p) {\n        return this.center.subtract(p.center);\n    };\n    Polygon.prototype.offset = function (v) {\n        this.points.forEach(function (point) { return point.add(v); });\n    };\n    Polygon.prototype.area = function (v1, v2) {\n        return v1.x * v2.y - v2.x * v1.y;\n    };\n    Polygon.prototype.calculateCentre = function () {\n        var centroid = Vector2d_1.default.newVector(0, 0);\n        var totalSignedArea = 0.0;\n        var vertexCount = this.points.length;\n        for (var i = 0; i < vertexCount; ++i) {\n            var vertex = this.points[i];\n            var nextVertex = void 0;\n            if (i == vertexCount - 1) {\n                nextVertex = this.points[0];\n            }\n            else {\n                nextVertex = this.points[i + 1];\n            }\n            var area = this.area(vertex, nextVertex);\n            totalSignedArea += area;\n            centroid.x += (vertex.x + nextVertex.x) * area;\n            centroid.y += (vertex.y + nextVertex.y) * area;\n        }\n        centroid.x /= 3.0 * totalSignedArea;\n        centroid.y /= 3.0 * totalSignedArea;\n        return centroid;\n    };\n    Polygon.prototype.polygonProjection = function (axis, polygon) {\n        var dotProduct = axis.dot(polygon.points[0]);\n        polygon.min = dotProduct;\n        polygon.max = dotProduct;\n        for (var i = 0; i < polygon.points.length; i++) {\n            var point = polygon.points[i];\n            dotProduct = point.dot(axis);\n            if (dotProduct < polygon.min) {\n                polygon.min = dotProduct;\n            }\n            else if (dotProduct > polygon.max) {\n                polygon.max = dotProduct;\n            }\n        }\n    };\n    Polygon.prototype.boundaryDistance = function (minA, maxA, minB, maxB) {\n        if (minA < minB) {\n            return minB - maxA;\n        }\n        else {\n            return minA - maxB;\n        }\n    };\n    Polygon.prototype.isCollision = function (polygonB, velocity) {\n        var result = new Collision();\n        result.isIntersect = true;\n        result.willIntersect = true;\n        var edgeCountA = this.edges.length;\n        var edgeCountB = polygonB.edges.length;\n        var minIntervalDistance = Infinity;\n        var translationAxis = new Vector2d_1.default();\n        var edge;\n        for (var edgeIndex = 0; edgeIndex < edgeCountA + edgeCountB; edgeIndex++) {\n            if (edgeIndex < edgeCountA) {\n                edge = this.edges[edgeIndex];\n            }\n            else {\n                edge = polygonB.edges[edgeIndex - edgeCountA];\n            }\n            var axis = Vector2d_1.default.newVector(-edge.y, edge.x).normalise();\n            this.polygonProjection(axis, this);\n            this.polygonProjection(axis, polygonB);\n            if (this.boundaryDistance(this.min, this.max, polygonB.min, polygonB.max) >\n                0) {\n                result.isIntersect = false;\n            }\n            if (velocity) {\n                var velocityProjection = axis.dot(velocity);\n                if (velocityProjection < 0) {\n                    this.min += velocityProjection;\n                }\n                else {\n                    this.max += velocityProjection;\n                }\n            }\n            var intervalDistance = this.boundaryDistance(this.min, this.max, polygonB.min, polygonB.max);\n            if (intervalDistance > 0) {\n                result.willIntersect = false;\n            }\n            if (!result.isIntersect && !result.willIntersect) {\n                break;\n            }\n            intervalDistance = Math.abs(intervalDistance);\n            if (intervalDistance < minIntervalDistance) {\n                minIntervalDistance = intervalDistance;\n                translationAxis = axis;\n                var distance = this.subtractCenter(polygonB);\n                if (distance.dot(translationAxis) < 0) {\n                    translationAxis = translationAxis.negate();\n                }\n            }\n        }\n        if (result.willIntersect) {\n            result.minDeintersectDistance = translationAxis.scale(minIntervalDistance);\n        }\n        return result;\n    };\n    return Polygon;\n}());\nexports.Polygon = Polygon;\n//# sourceMappingURL=CollisionDetection.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Builder/ShaderEntityBuilder\");\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar EngineObject_1 = require(\"./EngineObject\");\nvar ModelObjectRect3d = /** @class */ (function (_super) {\n    __extends(ModelObjectRect3d, _super);\n    function ModelObjectRect3d(rect, vertexModel) {\n        var _this = _super.call(this) || this;\n        _this.vertexModel = vertexModel;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    ModelObjectRect3d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.RECTANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.THREE_DIMENSION;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .createTexture(this.vertexModel.textureSource)\n            .build(this, renderOpt);\n    };\n    return ModelObjectRect3d;\n}(EngineObject_1.default));\nexports.default = ModelObjectRect3d;\n//# sourceMappingURL=ModelObjectRect3d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelObject2d_1 = require(\"../Core/EngineEntity/ModelObject2d\");\nvar TextureVertexModel_1 = require(\"../Core/Data/TextureVertexModel\");\nvar Plane2d = /** @class */ (function (_super) {\n    __extends(Plane2d, _super);\n    function Plane2d(rect, textureReference) {\n        var _this = _super.call(this, rect, new TextureVertexModel_1.default()) || this;\n        _this.textureReference = textureReference;\n        return _this;\n    }\n    Plane2d.prototype.setLayer = function (layer) {\n        this.position.z = -layer;\n    };\n    Plane2d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    Plane2d.prototype.init = function (engineHelper) {\n        this.vertexModel = engineHelper.newVertexModel2d(this.textureReference);\n        _super.prototype.init.call(this, engineHelper);\n    };\n    return Plane2d;\n}(ModelObject2d_1.default));\nexports.default = Plane2d;\n//# sourceMappingURL=Plane2d.js.map","import {\n  App,\n  BitmapConfigParser,\n  EngineEvent,\n  EngineObject,\n  Events,\n  Light,\n  ModelObject3d,\n  Object3d,\n  ObjectManager,\n  Plane3d,\n  PlaneType,\n  Rect3d,\n  Rect2d,\n  RenderType,\n  ResourceResolver,\n  Colour\n} from \"synaren-engine\";\nimport Cube from \"./Cube\";\nimport Ground3d from \"./Ground3d\";\nimport Sphere from \"./Sphere\";\n\n\nexport default class World extends ObjectManager {\n  fontCacheId: number;\n  bitmapLoader: BitmapConfigParser;\n  ground: Ground3d;\n  racingCar: ModelObject3d;\n  lowPolyGirl: ModelObject3d;\n  cube: Cube;\n  cube2: Cube;\n  sun: Sphere;\n  road: Plane3d;\n  lowPolyTree: ModelObject3d[];\n  sky: Sphere;\n\n  constructor() {\n    super();\n  }\n\n  render() {\n    // console.log('=== World render() called with entities:', this.entities.length, '===');\n    this.entities.forEach((ent: EngineObject, index: number) => {\n      // if (ent) {\n      //   console.log(`Rendering entity ${index}:`, ent.constructor.name, 'at position:', ent.position);\n      //   console.log(`Entity ${index} shaderEntity:`, ent.shaderEntity ? 'exists' : 'null');\n      //   console.log(`Entity ${index} hidden:`, ent.hidden);\n      //   try {\n          ent.render(this.engineHelper);\n    //       console.log(`Entity` ${index} rendered successfully`);\n    //     } catch (error) {\n    //       console.error(`Error rendering entity ${index}:`, error);\n    //     }\n    //   } else {\n    //     console.log(`Entity ${index} is null/undefined`);\n    //   }\n    });\n    // console.log('=== End World` render() ===');\n  }\n\n  update() {\n    this.entities.forEach((ent: EngineObject) => {\n      if (ent) ent.update(this.engineHelper);\n    });\n    const { x, y, z } = this.engineHelper.camera.camera3d.position;\n    if (this.sky) this.sky.center(x, y, z);\n  }\n\n  event(event: EngineEvent) {\n    super.event(event);\n    if (event.eventType === Events.DRAG) {\n      console.log('Camera drag event:', { dx: -event.dxRaw, dy: event.dyRaw });\n      this.engineHelper.camera.camera3d.angleY(-event.dxRaw);\n      this.engineHelper.camera.camera3d.angleX(event.dyRaw);\n      this.engineHelper.camera.camera3d.updateProjectionView();\n      console.log('Camera position after drag:', this.engineHelper.camera.camera3d.position);\n    }\n    return undefined;\n  }\n\n  loadResources() {\n    console.log('Loading resources...');\n    \n    this.engineHelper\n      .getResource(\"assets/sphere.txt\")\n      .then(\n        ResourceResolver.objResolverMultiple(this.engineHelper, [\n          { textureSource: \"assets/background.jpg\", name: \"background\" },\n          { textureSource: \"assets/sun.png\", name: \"sun\" }\n        ])\n      ).then(() => console.log('Sphere resources loaded'))\n      .catch(err => console.error('Sphere resource error:', err));\n\n    this.engineHelper\n      .getResource(\"assets/low_poly_tree.txt\")\n      .then(\n        ResourceResolver.objResolver(\n          this.engineHelper,\n          \"assets/low_poly_tree.png\",\n          \"low_poly_tree\"\n        )\n      ).then(() => console.log('Tree resources loaded'))\n      .catch(err => console.error('Tree resource error:', err));\n\n    this.engineHelper\n      .getResource(\"assets/low_poly_girl.txt\")\n      .then(\n        ResourceResolver.objResolver(\n          this.engineHelper,\n          \"assets/low_poly_girl.png\",\n          \"low_poly_girl\"\n        )\n      ).then(() => console.log('Girl resources loaded'))\n      .catch(err => console.error('Girl resource error:', err));\n\n    this.engineHelper\n      .getResource(\"assets/racing_car.txt\")\n      .then(\n        ResourceResolver.objResolver(\n          this.engineHelper,\n          \"assets/racing_car.png\",\n          \"racing_car\"\n        )\n      ).then(() => console.log('Car resources loaded'))\n      .catch(err => console.error('Car resource error:', err));\n\n    this.engineHelper\n      .getResource(\"assets/paprika.fnt\")\n      .then(ResourceResolver.bmFontResolver(this.engineHelper))\n      .then(() => console.log('Font resources loaded'))\n      .catch(err => console.error('Font resource error:', err));\n\n    this.engineHelper\n      .getResource(\"assets/atlas.txt\")\n      .then(\n        ResourceResolver.bitmapResolver(this.engineHelper, 1024, 1024, 20e-3)\n      ).then(() => console.log('Atlas resources loaded'))\n      .catch(err => console.error('Atlas resource error:', err));\n\n    this.engineHelper\n      .getResource(`/assets/missing-texture.txt`)\n      .then(ResourceResolver.bitmapResolver(this.engineHelper, 1184, 1184, 0))\n      .then(() => console.log('Missing texture resources loaded'))\n      .catch(err => console.error('Missing texture resource error:', err));\n  }\n\n  init() {\n    console.log('World init() called');\n    // initialise all the engine objects first\n    super.init();\n    \n    // Set camera position and look at scene center for perspective\n    this.engineHelper.camera.camera3d.center(0, 2, 0); // Camera much further back to see the scene properly\n    this.engineHelper.camera.camera3d.angleX(0); // Level view initially\n    this.engineHelper.camera.camera3d.angleY(0); // Face forward initially\n    this.engineHelper.camera.camera3d.angleZ(0);\n    this.engineHelper.camera.camera3d.setZoom({ x: 1, y: 1, z: 1 }); // Normal scale - NOT zero!\n    this.engineHelper.camera.camera3d.updateProjectionView();\n\n    console.log('Camera positioned at:', this.engineHelper.camera.camera3d.position);\n    console.log('Camera view matrix:', this.engineHelper.camera.camera3d.viewMatrix);\n    console.log('Camera frustum matrix:', this.engineHelper.camera.camera3d.frustum);\n    console.log('Camera rotation:', { \n      ax: this.engineHelper.camera.camera3d.position.ax, \n      ay: this.engineHelper.camera.camera3d.position.ay, \n      az: this.engineHelper.camera.camera3d.position.az \n    });\n\n    // Set up lighting similar to gabbos-guild\n    this.engineHelper.setLighting(\n      new Light({\n        pos: [-20, 15, -20],\n        in: [0.5, 0.5, 0.5], // Increased brightness\n        attenuation: 0.015,\n        ambientCoeff: 0.3,\n        at: [0, 0, 0],\n      })\n    );\n\n    console.log('Lighting set up');\n\n\n    // Sky (Sphere) - properly sized background sphere that follows camera\n    this.sky = new Sphere(\n      new Rect3d(0.0, 4.0, 20.0, 100.0, 100.0, 100.0), // Much larger sphere, initially centered on camera\n      \"background\"\n    );\n    this.addEntity(this.sky);\n    console.log('Sky added');\n\n    // Low poly girl - positioned to the right (Z axis), on ground\n    this.lowPolyGirl = new Object3d(\n      new Rect3d(0.0, 0.0, 3.0, 1.0, 1.0, 1.0), // X=0, Y=0 (ground), Z=3 (right)\n      \"low_poly_girl\"\n    );\n    this.lowPolyGirl.angleY(90); // Face towards center (along -Z)\n    this.addEntity(this.lowPolyGirl);\n    console.log('Low poly girl added at:', this.lowPolyGirl.position);\n\n    // Racing car - positioned to the left (Z axis), on ground\n    this.racingCar = new Object3d(\n      new Rect3d(0.0, 0.0, -3.0, 1.0, 1.0, 1.0), // X=0, Y=0 (ground), Z=-3 (left)\n      \"racing_car\"\n    );\n    this.racingCar.angleY(-90); // Face towards center (along +Z)\n    this.addEntity(this.racingCar);\n    console.log('Racing car added at:', this.racingCar.position);\n\n    // Ground (tiled) - properly sized ground plane, centered at X=0, Y=0, Z=0\n    this.ground = new Ground3d(\n      new Rect3d(0.0, 0.0, 0.0, 10.0, 0.0, 10.0), // X=0, Y=0 (ground), Z=0\n      \"ground\"\n    );\n    this.ground.init(this.engineHelper);\n    this.addEntity(this.ground);\n    console.log('Ground added');\n\n    // Sun (Sphere) - positioned high and to the side\n    this.sun = new Sphere(\n      new Rect3d(5.0, 8.0, -5.0, 0.8, 0.8, 0.8), // X=5, Y=8 (high), Z=-5\n      \"sun\"\n    );\n    this.sun.setRenderType(RenderType.TRIANGLE);\n    this.sun.init(this.engineHelper);\n    this.addEntity(this.sun);\n    console.log('Sun added');\n\n    // Low poly trees - create a forest scene around the main objects\n    this.lowPolyTree = [];\n    const treeCreator = (x: number, z: number, scale: number = 1.0) => {\n      const tree = new Object3d(\n        new Rect3d(x, 0.0, z, scale, scale, scale), // Y=0 for ground\n        \"low_poly_tree\"\n      );\n      tree.setRenderType(RenderType.TRIANGLE);\n      tree.init(this.engineHelper);\n      this.lowPolyTree.push(tree);\n      this.addEntity(tree);\n    };\n    \n    // Background trees (along X axis, Z far)\n    treeCreator(-8, -4, 1.2);\n    treeCreator(-6, -4, 1.0);\n    treeCreator(6, -4, 1.1);\n    treeCreator(8, -4, 1.3);\n    \n    // Side trees (along X axis, Z near)\n    treeCreator(-8, 4, 0.9);\n    treeCreator(-6, 4, 1.1);\n    treeCreator(6, 4, 1.0);\n    treeCreator(8, 4, 1.2);\n    \n    // Foreground trees (closer to camera, Z=2)\n    treeCreator(-4, 2, 0.8);\n    treeCreator(0, 2, 0.7);\n    treeCreator(4, 2, 0.9);\n\n    console.log('Trees added, total entities:', this.entities.length);\n\n\n    console.log('Entity details:');\n    this.entities.forEach((entity, index) => {\n      console.log(`  Entity ${index}:`, entity.constructor.name, 'position:', entity.position);\n    });\n\n    // initialise all the engine objects\n    super.init();\n    console.log('Super init completed');\n    console.log('Final entity count after super.init():', this.entities.length);\n  }\n}\n\n// Utility to compute frustum params based on aspect ratio\nconst getFrustum = (aspect) => {\n  const frustumHeight = 1;\n  const frustumWidth = frustumHeight * aspect;\n  return {\n    left: -frustumWidth / 2,\n    right: frustumWidth / 2,\n    bottom: -frustumHeight / 2,\n    top: frustumHeight / 2\n  };\n};\n\nconst createApp = () => {\n  const aspect = window.innerWidth / window.innerHeight;\n  const args = {\n    world: new World(),\n    elementId: \"app\",\n    canvasId: \"app-game\",\n    error: undefined,\n    subscribe: undefined,\n    camera: {\n      near: 0.01, // Much smaller near plane to avoid clipping close objects\n      far: 2.0, // Reasonable far plane\n      fov: 120.0, // Use a wider FOV for better view\n      maxFov: 120.0, // Set reasonable max FOV\n      isFovMax: false, // Don't use max FOV calculation\n      projection: 'perspective', // Use perspective projection\n      aspect,\n      ...getFrustum(aspect),\n    },\n    aspectRatio: aspect,\n    eventThrottle: 1000.0 / 60.0,\n    fps: 30,\n    isStepRender: false,\n  };\n  const app = new App(args);\n  app.run().catch(console.error);\n  app.unpause();\n  window.onresize = () => {\n    location.reload();\n  };\n};\n\nwindow.onload = function () {\n  try {\n    createApp();\n  } catch (error) {\n    console.error(error);\n  }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Light = /** @class */ (function () {\n    function Light(options) {\n        this.pos = options.pos;\n        this.in = options.in;\n        this.attenuation = options.attenuation;\n        this.ambientCoeff = options.ambientCoeff;\n        this.at = options.at;\n    }\n    Light.prototype.vecZero = function (vec) {\n        return gl_matrix_1.vec3.equals(vec, gl_matrix_1.vec3.fromValues(0, 0, 0));\n    };\n    Light.prototype.parellelVec = function (vec1, vec2) {\n        return (this.vecZero(vec1) !== true &&\n            this.vecZero(vec2) !== true &&\n            gl_matrix_1.vec3.equals(gl_matrix_1.vec3.normalize(gl_matrix_1.vec3.create(), vec1), gl_matrix_1.vec3.normalize(gl_matrix_1.vec3.create(), vec2)) === true);\n    };\n    Light.prototype.perpVec = function (vec) {\n        var perp = gl_matrix_1.vec3.fromValues(1.0, 0.0, 0.0);\n        if (this.parellelVec(vec, perp) === true) {\n            perp = gl_matrix_1.vec3.fromValues(0.0, 0.0, 1.0);\n        }\n        return perp;\n    };\n    Light.prototype.posVec = function () {\n        return gl_matrix_1.vec3.fromValues(this.pos[0], this.pos[1], this.pos[2]);\n    };\n    Light.prototype.atVec = function () {\n        return gl_matrix_1.vec3.fromValues(this.at[0], this.at[1], this.at[2]);\n    };\n    Light.prototype.lookAt = function () {\n        var pos = this.posVec();\n        var at = this.atVec();\n        var atCross = at;\n        var posCross = pos;\n        if (this.parellelVec(pos, at) === true) {\n            atCross = this.perpVec(pos);\n        }\n        else {\n            if (this.vecZero(pos) === true) {\n                posCross = this.perpVec(at);\n            }\n            if (this.vecZero(at) === true) {\n                atCross = this.perpVec(pos);\n            }\n        }\n        this.up = gl_matrix_1.vec3.cross(gl_matrix_1.vec3.create(), posCross, atCross);\n        return gl_matrix_1.mat4.lookAt(gl_matrix_1.mat4.create(), pos, at, this.up);\n    };\n    return Light;\n}());\nexports.default = Light;\n//# sourceMappingURL=Light.js.map","export default \"\\nprecision mediump int;\\nprecision mediump float;\\n\\nattribute vec3 a_position;\\n\\nuniform mat4 u_projection;\\nuniform mat4 u_view;\\nuniform mat4 u_model;\\nvoid main(void) {\\n  gl_Position = u_projection * u_view * u_model * vec4(a_position, 1.0);\\n}\\n\\n\";","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.event = void 0;\nvar Coordinate_1 = require(\"./Data/Coordinate\");\nvar Events = /** @class */ (function () {\n    function Events() {\n        var _this = this;\n        this.eventDown = false;\n        this.touchDown = false;\n        this.eventDownX = 0.0;\n        this.eventDownY = 0.0;\n        this.eventDownDx = 0.0;\n        this.eventDownDy = 0.0;\n        this.keyDownMap = {};\n        this.prevEvent = 0.0;\n        this.timeStamp = 0.0;\n        this.prevTimeStamp = 0.0;\n        this.motionTimeStamp = 0.0;\n        this.orientationQuaternion = [0.0, 0.0, 0.0, 0.0];\n        this.NULL_EVENT = {\n            x: 0,\n            y: 0,\n            dx: 0,\n            dy: 0,\n            dxRaw: 0,\n            dyRaw: 0,\n            eventType: -1,\n            prevEventType: -1,\n            timeStamp: 0,\n            prevTimeStamp: 0,\n            orientationQuaternion: [0, 0, 0, 0],\n            rawEvent: undefined,\n            isDown: false,\n            isUp: false,\n        };\n        this.boundedWindow = false;\n        this.callback = [];\n        this.throttle = 1000.0 / 25.0;\n        this.setThrottle = function (throttle) {\n            if (throttle) {\n                _this.throttle = throttle;\n            }\n        };\n        this.bind = function (callback, webGLContainer) {\n            _this.callback.push(callback);\n            _this.webGLContainer = webGLContainer;\n            _this.bindCanvas();\n            _this.bindWindow();\n        };\n        this.handleOrientationChange = function () {\n            _this.orientation = window.orientation || 0;\n        };\n        this.handleMotion = function (event) {\n            if (!_this.motionTimeStamp) {\n                _this.motionTimeStamp = event.timeStamp;\n            }\n            _this.incrementQuaternion(event);\n            if (event && event.timeStamp - _this.motionTimeStamp > _this.throttle) {\n                var tempEventDownX = _this.eventDownX;\n                var tempEventDownY = _this.eventDownY;\n                _this.eventDownX = _this.orientationQuaternion[0];\n                _this.eventDownY = _this.orientationQuaternion[1];\n                _this.handleEvent(event, Events.ORIENTATION);\n                _this.eventDownX = tempEventDownX;\n                _this.eventDownY = tempEventDownY;\n                _this.prevEvent = Events.ORIENTATION;\n                _this.motionTimeStamp = event.timeStamp;\n                _this.orientationQuaternion = [0.0, 0.0, 0.0, 1.0];\n            }\n        };\n        this.incrementQuaternion = function (event) {\n            var accData = event.rotationRate\n                ? event.rotationRate\n                : { beta: 0, gamma: 0, alpha: 0 };\n            var eventQuaternion = _this.getQuaternion(accData.alpha, accData.beta, accData.gamma);\n            _this.orientationQuaternion[0] += eventQuaternion[0];\n            _this.orientationQuaternion[1] += eventQuaternion[1];\n            _this.orientationQuaternion[2] += eventQuaternion[2];\n        };\n        this.buildEvent = function (evt, type) {\n            if (!_this.webGLContainer.canvas)\n                return _this.NULL_EVENT;\n            return {\n                x: _this.eventDownX / _this.webGLContainer.canvas.offsetWidth,\n                y: 1 - _this.eventDownY / _this.webGLContainer.canvas.offsetHeight,\n                dx: (2.0 * _this.eventDownDx) / _this.webGLContainer.canvas.offsetWidth,\n                dy: (2.0 * _this.eventDownDy) / _this.webGLContainer.canvas.offsetHeight,\n                dxRaw: _this.eventDownDx,\n                dyRaw: _this.eventDownDy,\n                eventType: type,\n                prevEventType: _this.prevEvent,\n                timeStamp: _this.timeStamp,\n                prevTimeStamp: _this.prevTimeStamp,\n                orientationQuaternion: _this.orientationQuaternion,\n                rawEvent: evt,\n                isDown: type === Events.DOWN,\n                isUp: type === Events.UP,\n            };\n        };\n        this.resize = function (evt) {\n            _this.handleEvent(evt, Events.RESIZE);\n        };\n        this.buildEventKey = function (evt, type) {\n            return {\n                eventType: type,\n                keyCode: evt.key,\n                code: evt.code,\n                event: evt,\n                keyDown: _this.keyDownMap,\n                isDown: type === Events.DOWN,\n                isUp: type === Events.UP,\n            };\n        };\n        this.keyDown = function (evt) {\n            _this.keyDownMap[evt.code] = true;\n            _this.handleEvent(evt, Events.KEY_DOWN);\n            switch (evt.keyCode) {\n                // prevent arrow keys from scrolling window\n                case 37:\n                case 39:\n                case 38:\n                case 40:\n                    evt.preventDefault();\n                    break;\n            }\n        };\n        this.keyUp = function (evt) {\n            _this.keyDownMap[evt.code] = false;\n            _this.handleEvent(evt, Events.KEY_UP);\n        };\n        this.handleMouseUp = function (evt) {\n            _this.eventDown = false;\n            _this.timeStamp = evt.timeStamp;\n            _this.eventDownX = evt.offsetX;\n            _this.eventDownY = evt.offsetY;\n            _this.handleEvent(evt, Events.UP);\n            _this.prevEvent = Events.UP;\n            _this.prevTimeStamp = evt.timeStamp;\n        };\n        this.handleEventDown = function (evt) {\n            _this.eventDown = true;\n            _this.eventDownX = evt.offsetX;\n            _this.eventDownY = evt.offsetY;\n            _this.timeStamp = evt.timeStamp;\n            _this.handleEvent(evt, Events.DOWN);\n            _this.prevEvent = Events.DOWN;\n            _this.prevTimeStamp = evt.timeStamp;\n        };\n        this.handleEventMove = function (evt) {\n            if (_this.eventDown && evt.timeStamp - _this.timeStamp > _this.throttle) {\n                var xUp = evt.offsetX;\n                var yUp = evt.offsetY;\n                _this.eventDownDx = _this.eventDownX - xUp;\n                _this.eventDownDy = _this.eventDownY - yUp;\n                _this.eventDownX = xUp;\n                _this.eventDownY = yUp;\n                _this.timeStamp = evt.timeStamp;\n                _this.handleEvent(evt, Events.DRAG);\n                _this.prevEvent = Events.DRAG;\n                _this.prevTimeStamp = evt.timeStamp;\n            }\n        };\n        this.handleTouchEnd = function (evt) {\n            _this.touchDown = false;\n            _this.timeStamp = evt.timeStamp;\n            _this.handleEvent(evt, Events.UP);\n            _this.prevEvent = Events.UP;\n            _this.prevTimeStamp = evt.timeStamp;\n        };\n        this.handleTouchStart = function (evt) {\n            _this.touchDown = true;\n            _this.timeStamp = evt.timeStamp;\n            if (evt.target instanceof HTMLElement) {\n                var rect = evt.target.getBoundingClientRect();\n                _this.eventDownX = evt.touches[0].clientX - rect.left;\n                _this.eventDownY = evt.touches[0].clientY - rect.top;\n            }\n            _this.handleEvent(evt, Events.DOWN);\n            _this.prevEvent = Events.DOWN;\n            _this.prevTimeStamp = evt.timeStamp;\n            if (evt.cancelable) {\n                evt.preventDefault();\n            }\n        };\n        this.handleTouchMove = function (evt) {\n            if (_this.touchDown &&\n                evt.timeStamp - _this.timeStamp > _this.throttle &&\n                evt.target instanceof HTMLElement) {\n                var rect = evt.target.getBoundingClientRect();\n                var xUp = evt.touches[0].clientX - rect.left;\n                var yUp = evt.touches[0].clientY - rect.top;\n                _this.eventDownDx = (_this.eventDownX - xUp) / 2.0;\n                _this.eventDownDy = (_this.eventDownY - yUp) / 2.0;\n                _this.eventDownX = xUp;\n                _this.eventDownY = yUp;\n                _this.timeStamp = evt.timeStamp;\n                _this.handleEvent(evt, Events.DRAG);\n                _this.prevEvent = Events.DRAG;\n                _this.prevTimeStamp = evt.timeStamp;\n            }\n            // prevent device scrolling\n            if (evt.cancelable) {\n                evt.preventDefault();\n            }\n        };\n        this.handleEvent = function (evt, event) {\n            var targetEvent = _this.buildEvent(evt, event);\n            for (var i = 0; i < _this.callback.length; i++) {\n                var callbackPropagate = _this.callback[i](targetEvent);\n                if (callbackPropagate === false) {\n                    break;\n                }\n            }\n        };\n    }\n    Events.prototype.delete = function (cb) {\n        this.callback = this.callback.filter(function (c) { return c !== cb; });\n    };\n    Events.prototype.bindWindow = function () {\n        if (this.boundedWindow) {\n            return;\n        }\n        window.addEventListener(\"mouseup\", this.isBodyFocus(this.handleMouseUp), true);\n        window.addEventListener(\"touchend\", this.isBodyFocus(this.handleTouchEnd), true);\n        window.addEventListener(\"resize\", this.resize, true);\n        window.addEventListener(\"keydown\", this.isBodyFocus(this.keyDown), true);\n        window.addEventListener(\"keyup\", this.isBodyFocus(this.keyUp), true);\n        if (window.hasOwnProperty(\"DeviceMotionEvent\")) {\n            window.addEventListener(\"devicemotion\", this.handleMotion, true);\n        }\n        if (window.hasOwnProperty(\"DeviceOrientationEvent\")) {\n            window.addEventListener(\"orientationchange\", this.handleOrientationChange, true);\n        }\n        this.boundedWindow = true;\n    };\n    Events.prototype.bindCanvas = function () {\n        this.webGLContainer.canvas.addEventListener(\"mousedown\", this.handleEventDown, true);\n        this.webGLContainer.canvas.addEventListener(\"mousemove\", this.handleEventMove, true);\n        this.webGLContainer.canvas.addEventListener(\"touchstart\", this.handleTouchStart, true);\n        this.webGLContainer.canvas.addEventListener(\"touchmove\", this.handleTouchMove, true);\n    };\n    Events.prototype.isBodyFocus = function (callback) {\n        return function (_event) {\n            if (window.document.activeElement === window.document.body) {\n                callback(_event);\n            }\n            else {\n                // console.trace('body is not focused when event triggered', event);\n            }\n        };\n    };\n    Events.prototype.getQuaternion = function (alpha, beta, gamma) {\n        var degtorad = Math.PI / 180.0;\n        var radtodeg = 180.0 / Math.PI;\n        var _x = beta ? beta * degtorad : 0;\n        var _y = gamma ? gamma * degtorad : 0;\n        var _z = alpha ? alpha * degtorad : 0;\n        var cX = Math.cos(_x / 2);\n        var cY = Math.cos(_y / 2);\n        var cZ = Math.cos(_z / 2);\n        var sX = Math.sin(_x / 2);\n        var sY = Math.sin(_y / 2);\n        var sZ = Math.sin(_z / 2);\n        var w = cX * cY * cZ - sX * sY * sZ;\n        var x = sX * cY * cZ - cX * sY * sZ;\n        var y = cX * sY * cZ + sX * cY * sZ;\n        var z = cX * cY * sZ + sX * sY * cZ;\n        var screenAccData = new Coordinate_1.default(0, 0, 0);\n        switch (this.orientation) {\n            case 90:\n                screenAccData.x = -x;\n                screenAccData.y = z;\n                break;\n            case 180:\n                screenAccData.x = -z;\n                screenAccData.y = -x;\n                break;\n            case 270:\n            case -90:\n                screenAccData.x = x;\n                screenAccData.y = -z;\n                break;\n            default:\n                screenAccData.x = z;\n                screenAccData.y = x;\n                break;\n        }\n        // convert to engine coords\n        return [\n            (screenAccData.x * radtodeg) / w,\n            (-1 * screenAccData.y * radtodeg) / w,\n            (y * radtodeg) / w,\n            1.0,\n        ];\n    };\n    Events.DOWN = 1;\n    Events.DRAG = 2;\n    Events.UP = 3;\n    Events.RESIZE = 4;\n    Events.ORIENTATION = 5;\n    Events.KEY_DOWN = 6;\n    Events.KEY_UP = 7;\n    Events.SYSTEM_EVENTS = 8;\n    return Events;\n}());\nexports.default = Events;\nexports.event = new Events();\n//# sourceMappingURL=Events.js.map","export default \"\\nprecision mediump float;\\nprecision mediump int;\\n\\nvarying vec2 v_texture_coords;\\nvarying vec3 v_position;\\nvarying vec3 v_normal;\\nvarying mat4 v_model;\\n\\nvarying vec3 v_light1_pos;\\nvarying vec3 v_light1_intensities;\\nvarying float v_light1_attenuation;\\nvarying float v_light1_ambient_coefficient;\\nvarying float v_diffuseCoefficient;\\nvarying float v_attenuation;\\nvarying vec4 v_shadow_pos;\\n\\nuniform sampler2D texture;\\nuniform sampler2D shadowMap;\\nuniform float numLights;\\n\\nstruct Light {\\n  vec3 position;\\n  vec3 intensities;\\n  float ambientCoefficient;\\n  float attenuation;\\n};\\n\\nfloat decodeFloat(vec4 color) {\\n  const vec4 bitShift = vec4(\\n    1.0 / (256.0 * 256.0 * 256.0),\\n    1.0 / (256.0 * 256.0),\\n    1.0 / 256.0,\\n    1\\n  );\\n  return dot(color, bitShift);\\n}\\n\\nfloat random(vec3 seed, int i) {\\n  vec4 seed4 = vec4(seed, i);\\n  float dot_product = dot(seed4, vec4(12.9898, 78.233, 45.164, 94.673));\\n  return fract(sin(dot_product) * 43758.5453);\\n}\\n\\nvec2 poisson(int index) {\\n  if (index == 0)\\n    return vec2(-0.94201624, -0.39906216);\\n  if (index == 1)\\n    return vec2(0.94558609, -0.76890725);\\n  if (index == 2)\\n    return vec2(-0.094184101, -0.92938870);\\n  if (index == 3)\\n    return vec2(0.34495938, 0.29387760);\\n  if (index == 4)\\n    return vec2(-0.91588581, 0.45771432);\\n  if (index == 5)\\n    return vec2(-0.81544232, -0.87912464);\\n  if (index == 6)\\n    return vec2(-0.38277543, 0.27676845);\\n  if (index == 7)\\n    return vec2(0.97484398, 0.75648379);\\n  if (index == 8)\\n    return vec2(0.44323325, -0.97511554);\\n  if (index == 9)\\n    return vec2(0.53742981, -0.47373420);\\n  if (index == 10)\\n    return vec2(-0.26496911, -0.41893023);\\n  if (index == 11)\\n    return vec2(0.79197514, 0.19090188);\\n  if (index == 12)\\n    return vec2(-0.24188840, 0.99706507);\\n  if (index == 13)\\n    return vec2(-0.81409955, 0.91437590);\\n  if (index == 14)\\n    return vec2(0.19984126, 0.78641367);\\n  if (index == 15)\\n    return vec2(0.14383161, -0.14100790);\\n  return vec2(0, 0);\\n}\\n\\nfloat unpackRGBAToDepth(const vec4 v) {\\n  const float UnpackDownscale = 255. / 256.;\\n  const vec3 PackFactors = vec3(256. * 256. * 256., 256. * 256., 256.);\\n  const vec4 UnpackFactors = UnpackDownscale / vec4(PackFactors, 1.);\\n  return dot(v, UnpackFactors);\\n}\\n\\nvoid main(void) {\\n  Light light1;\\n  light1.intensities = v_light1_intensities;\\n  light1.position = v_light1_pos;\\n  light1.attenuation = v_light1_attenuation;\\n  light1.ambientCoefficient = v_light1_ambient_coefficient;\\n\\n  vec4 surfaceColor = texture2D(texture, v_texture_coords);\\n  vec3 diffuse = v_diffuseCoefficient * surfaceColor.rgb * light1.intensities;\\n  vec3 ambient = light1.ambientCoefficient * surfaceColor.rgb * light1.intensities;\\n  vec3 n = normalize(v_normal);\\n  vec3 l = normalize(v_light1_pos);\\n  float cosTheta = clamp(dot(n, l), 0.0, 1.0);\\n\\n  const float texelSize = 1.0 / 1024.0;\\n\\n  float amountInLight = 0.0;\\n\\n  vec3 fragmentDepth = v_shadow_pos.xyz / v_shadow_pos.w;\\n  const float shadowAcneRemover = 0.001;\\n  fragmentDepth.z -= shadowAcneRemover;\\n\\n  float soften = 0.0;\\n  for (int x = -1; x <= 1; x++) {\\n    for (int y = -1; y <= 1; y++) {\\n      float texelDepth = unpackRGBAToDepth(texture2D(shadowMap, fragmentDepth.xy + vec2(x, y) * texelSize));\\n      soften += 1.0;\\n      if (fragmentDepth.z < texelDepth) {\\n        amountInLight += 1.0;\\n      }\\n    }\\n  }\\n\\n  amountInLight /= soften;\\n\\n  vec3 linearColor = ambient + amountInLight * v_attenuation * diffuse * cosTheta;\\n  vec3 gamma = vec3(1.0 / 2.2);\\n  gl_FragColor = vec4(pow(linearColor, gamma), surfaceColor.a);\\n}\\n\";","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelPosition_1 = require(\"./ModelPosition\");\nvar IdGenerator_1 = require(\"../Common/IdGenerator\");\nvar EngineObject = /** @class */ (function (_super) {\n    __extends(EngineObject, _super);\n    function EngineObject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.$hidden = false;\n        _this.$id = (0, IdGenerator_1.generateId)();\n        _this.clone = false;\n        _this.isTop = false;\n        _this.isLastEvent = false;\n        return _this;\n    }\n    EngineObject.prototype.copyTexture = function (obj) {\n        this.shaderEntity.rendererTextureRef = obj.shaderEntity.rendererTextureRef;\n        this.shaderEntity.vertexModel = obj.shaderEntity.vertexModel;\n        this.shaderEntity.rendererBufferId = obj.shaderEntity.rendererBufferId;\n    };\n    Object.defineProperty(EngineObject.prototype, \"shaderEntity\", {\n        get: function () {\n            if (this._shaderEntity !== undefined &&\n                this._shaderEntity.hidden !== this.$hidden) {\n                this._shaderEntity.hidden = this.$hidden;\n            }\n            return this._shaderEntity;\n        },\n        set: function (shaderEntity) {\n            this._shaderEntity = shaderEntity;\n            this._shaderEntity.isTop = this.isTop;\n            this._shaderEntity.clone = this.clone;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EngineObject.prototype, \"hidden\", {\n        get: function () {\n            return this.$hidden;\n        },\n        set: function (value) {\n            this.setHidden(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EngineObject.prototype.setHidden = function (value) {\n        this.$hidden = value;\n        if (this.shaderEntity) {\n            this.shaderEntity.hidden = value;\n        }\n    };\n    EngineObject.prototype.setTop = function (isTop) {\n        this.isTop = isTop;\n        if (!this.shaderEntity)\n            return;\n        this.shaderEntity.isTop = isTop;\n    };\n    EngineObject.prototype.setClone = function (clone) {\n        this.clone = clone;\n        if (!this.shaderEntity)\n            return;\n        this.shaderEntity.clone = clone;\n    };\n    EngineObject.prototype.update = function (engineHelper) { };\n    EngineObject.prototype.render = function (engineHelper) { };\n    EngineObject.prototype.event = function (event, engineHelper) {\n        return;\n    };\n    EngineObject.prototype.init = function (engineHelper) { };\n    return EngineObject;\n}(ModelPosition_1.default));\nexports.default = EngineObject;\n//# sourceMappingURL=EngineObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FontCharacter = exports.FontMeta = void 0;\nvar FontMeta = /** @class */ (function () {\n    function FontMeta() {\n        this.fonts = {};\n    }\n    return FontMeta;\n}());\nexports.FontMeta = FontMeta;\nvar FontCharacter = /** @class */ (function () {\n    function FontCharacter() {\n    }\n    return FontCharacter;\n}());\nexports.FontCharacter = FontCharacter;\nvar FontMetaData = /** @class */ (function () {\n    function FontMetaData() {\n    }\n    return FontMetaData;\n}());\nexports.default = FontMetaData;\n//# sourceMappingURL=FontMetaData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderUnit_1 = require(\"./RenderUnit\");\nvar VertexModel_1 = require(\"./VertexModel\");\nvar ModelData_1 = require(\"./ModelData\");\nvar EngineObjectHelper_1 = require(\"../EngineEntity/EngineObjectHelper\");\nvar TextureVertexModel = /** @class */ (function (_super) {\n    __extends(TextureVertexModel, _super);\n    function TextureVertexModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextureVertexModel.prototype.createRenderUnits = function (count) {\n        this.renderUnits = [];\n        for (var index = 0; index < count; index++) {\n            this.renderUnits.push(new RenderUnit_1.TextureRenderUnit());\n        }\n        return this;\n    };\n    TextureVertexModel.prototype.fillRenderUnits = function (values) {\n        this.renderUnits = [];\n        for (var index = 0; index < values.length; index += 8) {\n            var renderUnit = new RenderUnit_1.TextureRenderUnit();\n            renderUnit.vertex.x = values[index];\n            renderUnit.vertex.y = values[index + 1];\n            renderUnit.vertex.z = values[index + 2];\n            renderUnit.normal.x = values[index + 3];\n            renderUnit.normal.y = values[index + 4];\n            renderUnit.normal.z = values[index + 5];\n            renderUnit.texture.u = values[index + 6];\n            renderUnit.texture.v = values[index + 7];\n            this.renderUnits.push(renderUnit);\n        }\n        return this;\n    };\n    TextureVertexModel.prototype.createModel = function () {\n        var model = new ModelData_1.default();\n        model.vertices = EngineObjectHelper_1.default.vertex.toTextureArray(this.renderUnits);\n        return model;\n    };\n    return TextureVertexModel;\n}(VertexModel_1.default));\nexports.default = TextureVertexModel;\n//# sourceMappingURL=TextureVertexModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Colour = /** @class */ (function () {\n    function Colour(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n    return Colour;\n}());\nexports.default = Colour;\n//# sourceMappingURL=Colour.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelData = /** @class */ (function () {\n    function ModelData() {\n        this.$id = ModelData._$ID++;\n    }\n    ModelData._$ID = 1;\n    return ModelData;\n}());\nexports.default = ModelData;\n//# sourceMappingURL=ModelData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderUnit_1 = require(\"./RenderUnit\");\nvar VertexModel_1 = require(\"./VertexModel\");\nvar ModelData_1 = require(\"./ModelData\");\nvar EngineObjectHelper_1 = require(\"../EngineEntity/EngineObjectHelper\");\nvar ColourVertexModel = /** @class */ (function (_super) {\n    __extends(ColourVertexModel, _super);\n    function ColourVertexModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColourVertexModel.prototype.createRenderUnits = function (count) {\n        this.renderUnits = [];\n        for (var index = 0; index < count; index++) {\n            this.renderUnits.push(new RenderUnit_1.ColourRenderUnit());\n        }\n        return this;\n    };\n    ColourVertexModel.prototype.fillRenderUnits = function (values) {\n        this.renderUnits = [];\n        for (var index = 0; index < values.length; index += 7) {\n            var renderUnit = new RenderUnit_1.ColourRenderUnit();\n            renderUnit.vertex.x = values[index];\n            renderUnit.vertex.y = values[index + 1];\n            renderUnit.vertex.z = values[index + 2];\n            renderUnit.colour.r = values[index + 3];\n            renderUnit.colour.g = values[index + 4];\n            renderUnit.colour.b = values[index + 5];\n            renderUnit.colour.a = values[index + 6];\n            this.renderUnits.push(renderUnit);\n        }\n        return this;\n    };\n    ColourVertexModel.prototype.createModel = function () {\n        var model = new ModelData_1.default();\n        model.vertices = EngineObjectHelper_1.default.vertex.toColourArray(this.renderUnits);\n        return model;\n    };\n    return ColourVertexModel;\n}(VertexModel_1.default));\nexports.default = ColourVertexModel;\n//# sourceMappingURL=ColourVertexModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntity_1 = require(\"../EngineEntity/ShaderEntity\");\nvar ShaderEntityBuilder = /** @class */ (function () {\n    function ShaderEntityBuilder(engineHelper) {\n        this.engineHelper = engineHelper;\n    }\n    ShaderEntityBuilder.prototype.createTexture = function (textureSource) {\n        this.textureSource = textureSource;\n        this.hasTexture = true;\n        return this;\n    };\n    ShaderEntityBuilder.prototype.addBuffer = function (vertexModel) {\n        this.vertexModel = vertexModel;\n        return this;\n    };\n    ShaderEntityBuilder.prototype.build = function (engineObject, opt) {\n        if (!this.vertexModel) {\n            console.error(\"VertexModel is undefined\", this);\n        }\n        var entity = new ShaderEntity_1.ShaderEntity();\n        var entityOption = entity.getOpt();\n        entityOption.renderType = opt.renderType;\n        entityOption.shaderType = opt.shaderType;\n        entity.model = engineObject.getModel;\n        entity.modelPosition = function () { return engineObject.position; };\n        entity.vertexModel = this.vertexModel;\n        entity.vertexModel.registerModel(this.engineHelper);\n        this.engineHelper.registerEntity(entity);\n        if (this.hasTexture) {\n            entity.src = this.textureSource;\n            this.engineHelper.createTexture(entity);\n        }\n        return entity;\n    };\n    ShaderEntityBuilder.clone = function (shaderEntity) {\n        return Object.assign(new ShaderEntity_1.ShaderEntity(), shaderEntity);\n    };\n    return ShaderEntityBuilder;\n}());\nexports.default = ShaderEntityBuilder;\n//# sourceMappingURL=ShaderEntityBuilder.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelPosition_1 = require(\"../Core/EngineEntity/ModelPosition\");\nvar Physics_1 = require(\"../Core/Physics/Physics\");\nvar EntityManager_1 = require(\"../Manager/EntityManager\");\nvar Coordinate_1 = require(\"../Core/Data/Coordinate\");\nvar EngineMath_1 = require(\"../Core/Physics/EngineMath\");\nvar Rect2d_1 = require(\"../Core/Data/Rect2d\");\nvar Moveable = /** @class */ (function (_super) {\n    __extends(Moveable, _super);\n    function Moveable() {\n        var _this = _super.call(this) || this;\n        _this.dampenReduction = 0.0;\n        _this.completeSimulation = function () {\n            _this.resetPhysics();\n        };\n        _this.resetPhysics = function () {\n            _this.physics.t.x = _this.position.x;\n            _this.physics.t.y = _this.position.y;\n            _this.physics.t.z = _this.position.z;\n            _this.physics.d.x = 0;\n            _this.physics.d.y = 0;\n            _this.physics.d.z = 0;\n            _this.physics.isMoving = false;\n            _this.physics.collisionIteration = 0;\n        };\n        _this.physicSimulation = function (simulationId, time, _) {\n            var physics = _this.physics;\n            physics.isMoving = true;\n            var dx = physics.v.x * time;\n            var dy = physics.v.y * time;\n            var model = _this;\n            if (physics.collisionSize) {\n                physics.modelPos.setRect(physics.collisionSize);\n                physics.modelPos.$physicsId = _this.$physicsId;\n                model = physics.modelPos;\n            }\n            var _a = _this.resolveCollision(model, dx, dy), _dx = _a[0], _dy = _a[1], collision = _a[2];\n            if (_this.shouldTranslate(collision)) {\n                physics.collisionIteration = 0;\n            }\n            else {\n                _this.addDampener(time);\n                dx = _dx;\n                dy = _dy;\n                physics.collisionIteration++;\n                if (physics.collisionIteration > physics.collisionStopItThres) {\n                    _this.cancelSimulation(simulationId);\n                }\n            }\n            _this.movementRotation(physics.v.x);\n            _this.translate(dx, dy, 0);\n            if (physics.collisionSize) {\n                physics.modelPos.translate(dx, dy, 0);\n                physics.collisionSize.x += dx;\n                physics.collisionSize.y += dy;\n            }\n            if (_this.isBounded) {\n                _this.updateLocBoundToBoundary();\n            }\n            _this.completePhysicsIteration(time);\n        };\n        _this.physics = {\n            t: new Coordinate_1.default(0, 0, 0),\n            d: new Coordinate_1.default(0, 0, 0),\n            v: new Coordinate_1.default(0, 0, 0),\n            a: new Coordinate_1.default(0, 0, 0),\n            modelPos: new ModelPosition_1.default(),\n            isMoving: false,\n            collisionSize: undefined,\n            bound: new Rect2d_1.default(0, 0, 1.0, 1.0),\n            simulationId: undefined,\n            jumpSimulationId: undefined,\n            gravitySimulationId: undefined,\n            collisionIteration: 0,\n            collisionStopItThres: 5,\n        };\n        _this.isMoveable = true;\n        _this.isBounded = true;\n        _this.hasCollision = true;\n        return _this;\n    }\n    Moveable.prototype.updatePhysicsPosition = function () {\n        this.physics.t.x = this.position.x;\n        this.physics.t.y = this.position.y;\n        this.physics.t.z = this.position.z;\n    };\n    Moveable.prototype.updateDeltaDistance = function (x, y, z) {\n        if (x !== undefined) {\n            this.physics.d.x = x - this.position.x;\n            this.physics.t.x = x;\n        }\n        else {\n            this.physics.d.x = this.physics.t.x - this.position.x;\n        }\n        if (y !== undefined) {\n            this.physics.d.y = y - this.position.y;\n            this.physics.t.y = y;\n        }\n        else {\n            this.physics.d.y = this.physics.t.y - this.position.y;\n        }\n        if (z !== undefined) {\n            this.physics.d.z = z - this.position.z;\n            this.physics.t.z = z;\n        }\n        else {\n            this.physics.d.z = this.physics.t.z - this.position.z;\n        }\n    };\n    Moveable.prototype.updateLocBoundToBoundary = function () {\n        var _a;\n        var pos = this.physics.collisionSize\n            ? this.physics.modelPos.position\n            : this.position;\n        var boundRect = (_a = this.physics.bound) !== null && _a !== void 0 ? _a : new Rect2d_1.default(0, 0, 1, 1, 0);\n        var coordinate = EngineMath_1.default.boundRect(boundRect, this.physics.collisionSize\n            ? this.physics.modelPos.position\n            : this.position);\n        var dx = 0;\n        var dy = 0;\n        if (pos.x !== coordinate.x) {\n            this.physics.v.x = 0;\n            dx = coordinate.x - pos.x;\n        }\n        if (pos.y !== coordinate.y) {\n            this.physics.v.y = 0;\n            dy = coordinate.y - pos.y;\n        }\n        this.center(this.position.x + dx, this.position.y + dy, this.position.z);\n    };\n    Moveable.prototype.calcTotalDeltaDistance = function () {\n        return Math.sqrt(this.physics.d.x * this.physics.d.x +\n            this.physics.d.y * this.physics.d.y +\n            this.physics.d.z * this.physics.d.z);\n    };\n    Moveable.prototype.translateTo = function (velocity, dx, dy, dz, complete) {\n        var directionalModifier = dx !== 0 ? 10e-6 * (this.physics.d.x < 0 ? -1 : 1) : 0;\n        this.physics.t.x += (dx || 0) + directionalModifier;\n        this.physics.t.y += dy || 0;\n        this.physics.t.z += dz || 0;\n        this.moveTo(velocity, this.physics.t.x, this.physics.t.y, this.physics.t.z, complete);\n    };\n    Moveable.prototype.shouldTranslate = function (colliding) {\n        return colliding.length === 0;\n    };\n    Moveable.prototype.moveToTime = function (time, x, y, z, complete) {\n        var _this = this;\n        var _a;\n        Physics_1.default.cancelSimulation((_a = this.physics.simulationId) !== null && _a !== void 0 ? _a : 0, true);\n        if (!this.isMoveable) {\n            return;\n        }\n        var physics = this.physics;\n        this.updateDeltaDistance(x, y, z);\n        var totalTime = Math.max(time, 10e-6);\n        this.movementRotation(physics.d.x);\n        var completeSim = this.completeSimulation;\n        if (complete) {\n            completeSim = function () {\n                _this.completeSimulation();\n                complete();\n            };\n        }\n        physics.simulationId = Physics_1.default.runSimulation(totalTime, this.moveSimulation.bind(this), completeSim, physics.simulationId);\n    };\n    Moveable.prototype.movementRotation = function (dx) {\n        if (this.isRotateMove) {\n            if (dx > 0) {\n                this.rotateY(0);\n            }\n            else if (dx < 0) {\n                this.rotateY(180);\n            }\n        }\n    };\n    Moveable.prototype.moveTo = function (velocity, x, y, z, complete) {\n        var _this = this;\n        var _a;\n        Physics_1.default.cancelSimulation((_a = this.physics.simulationId) !== null && _a !== void 0 ? _a : 0, true);\n        if (!this.isMoveable) {\n            return;\n        }\n        var physics = this.physics;\n        this.updateDeltaDistance(x, y, z);\n        var distance = this.calcTotalDeltaDistance();\n        var totalTime = distance / velocity;\n        this.movementRotation(physics.d.x);\n        var completeSim = this.completeSimulation;\n        if (complete) {\n            completeSim = function () {\n                _this.completeSimulation();\n                complete();\n            };\n        }\n        physics.simulationId = Physics_1.default.runSimulation(totalTime, this.moveSimulation.bind(this), completeSim, physics.simulationId);\n    };\n    Moveable.prototype.addDampener = function (time) {\n        var dampeningProp = time / 1000.0;\n        var xSign = Math.sign(this.physics.v.x);\n        this.physics.v.x -= xSign * this.dampenReduction * dampeningProp;\n        if (xSign !== Math.sign(this.physics.v.x)) {\n            this.physics.v.x = 0;\n        }\n        var ySign = Math.sign(this.physics.v.y);\n        this.physics.v.y -= ySign * this.dampenReduction * dampeningProp;\n        if (ySign !== Math.sign(this.physics.v.y)) {\n            this.physics.v.y = 0;\n        }\n        if (Math.abs(this.physics.v.x) < 10e-6) {\n            this.physics.v.x = 0;\n        }\n        if (Math.abs(this.physics.v.y) < 10e-6) {\n            this.physics.v.y = 0;\n        }\n    };\n    Moveable.prototype.addImpulse = function (acceleration, contactTime) {\n        this.physics.v.x += acceleration.x * contactTime;\n        this.physics.v.y += acceleration.y * contactTime;\n    };\n    Moveable.prototype.setVelocity = function (velocity) {\n        this.physics.v.x = velocity.x;\n        this.physics.v.y = velocity.y;\n    };\n    Moveable.prototype.runPhysicsSimulation = function (simulationId, totalTime) {\n        if (totalTime === void 0) { totalTime = Physics_1.default.TIME_STEP_MILLIS * 2.0; }\n        Physics_1.default.runSimulation(totalTime, this.physicSimulation, this.completeSimulation, simulationId);\n    };\n    Moveable.prototype.completePhysicsIteration = function (_) { };\n    Moveable.prototype.resolveCollision = function (model, dx, dy) {\n        if (this.hasCollision) {\n            return Physics_1.default.isCollidingResolve(model, dx, dy);\n        }\n        else {\n            return [dx, dy, []];\n        }\n    };\n    Moveable.prototype.cancelSimulation = function (simulationId) {\n        var simulation = Physics_1.default.simulations[simulationId];\n        if (simulation === null || simulation === void 0 ? void 0 : simulation.completeSimulation) {\n            simulation.completeSimulation();\n        }\n        Physics_1.default.cancelSimulation(simulationId);\n    };\n    Moveable.prototype.moveSimulation = function (simulationId, time, totalRunTime) {\n        if (Math.abs(totalRunTime) < 10e-6) {\n            return;\n        }\n        var physics = this.physics;\n        physics.isMoving = true;\n        var propTime = Math.min(1.0, time / totalRunTime);\n        var dx = physics.d.x * propTime;\n        var dy = physics.d.y * propTime;\n        var dz = physics.d.z * propTime;\n        this.translateCollision(simulationId, dx, dy, dz);\n        this.completePhysicsIteration(time);\n    };\n    Moveable.prototype.translateCollision = function (simulationId, dx, dy, dz) {\n        var physics = this.physics;\n        var model = this;\n        if (physics.collisionSize) {\n            physics.modelPos.setRect(physics.collisionSize);\n            physics.modelPos.$physicsId = this.$physicsId;\n            model = physics.modelPos;\n        }\n        var colliding = Physics_1.default.isCollidingOffset2d(model, dx, dy);\n        if (this.shouldTranslate(colliding)) {\n            this.translate(dx, dy, dz);\n            if (physics.collisionSize) {\n                physics.modelPos.translate(dx, dy, 0);\n                physics.collisionSize.x += dx;\n                physics.collisionSize.y += dy;\n            }\n            if (this.isBounded) {\n                this.updateLocBoundToBoundary();\n            }\n            this.physics.collisionIteration = 0;\n        }\n        else {\n            this.physics.collisionIteration++;\n            if (this.physics.collisionIteration > this.physics.collisionStopItThres) {\n                this.cancelSimulation(simulationId);\n            }\n        }\n    };\n    Moveable.prototype.setMoveable = function (isMoving) {\n        this.isMoveable = isMoving;\n    };\n    Moveable.prototype.copyTexture = function (obj) {\n        this.shaderEntity ? _super.prototype.copyTexture.call(this, obj) : undefined;\n        this.entities.forEach(function (entity) { return entity.copyTexture(obj); });\n    };\n    return Moveable;\n}(EntityManager_1.default));\nexports.default = Moveable;\n//# sourceMappingURL=Moveable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WorldDelegate = /** @class */ (function () {\n    function WorldDelegate() {\n    }\n    WorldDelegate.prototype.setEngineHelper = function (engineHelper) {\n        this.engineHelper = engineHelper;\n    };\n    WorldDelegate.prototype.loadResources = function (resources) {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.update = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.render = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.event = function (event) {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.pause = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.resume = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.init = function (engineHelper) {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.destroy = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.reset = function () { };\n    return WorldDelegate;\n}());\nexports.default = WorldDelegate;\n//# sourceMappingURL=WorldDelegate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar App_1 = require(\"./App\");\nvar PlaneType_1 = require(\"./Data/PlaneType\");\nvar RenderOption_1 = require(\"./Data/RenderOption\");\nvar TextureVertexModel_1 = require(\"./Data/TextureVertexModel\");\nvar EngineObjectHelper_1 = require(\"./EngineEntity/EngineObjectHelper\");\nvar Font_1 = require(\"./Font/Font\");\nvar Renderer_1 = require(\"./Renderer\");\nvar CollisionDetection_1 = require(\"./Physics/CollisionDetection\");\nvar EngineHelper = /** @class */ (function () {\n    function EngineHelper(notificationQueue, subscriberPool, camera) {\n        var _this = this;\n        this.resourcesLoading = [];\n        this.bufferCache = {};\n        this.fontCache = {};\n        this.fontNameKeyReverse = {};\n        this.uvCache = {};\n        this.vertexUVCache = {};\n        this.cacheId = 0;\n        this.camera = camera;\n        this.notificationQueue = notificationQueue;\n        this.subscriberPool = subscriberPool;\n        subscriberPool.listen(App_1.AppSubscription.GET_FPS, function (fps) { return (_this.fps = fps); });\n    }\n    EngineHelper.prototype.startIteration = function () {\n        this.subscriberPool.publish(App_1.AppSubscription.START_ITERATION);\n    };\n    EngineHelper.prototype.render = function (entity) {\n        var shaderProgram = entity.opt.shaderType;\n        if ((shaderProgram === RenderOption_1.ShaderType.TWO_DIMENSION ||\n            shaderProgram === RenderOption_1.ShaderType.COLOUR) &&\n            this.camera.camera3d.isOutOfBound(entity.modelPosition())) {\n            return;\n        }\n        var model = entity.getModel();\n        if (entity.clone) {\n            model = model.slice(0);\n        }\n        this.notificationQueue.pushPayload(Renderer_1.RendererNotification.renderEntity(entity, model));\n    };\n    EngineHelper.prototype.renderCopy = function (entity, pos) {\n        this.render(entity.shaderEntity.renderCopy(pos));\n    };\n    EngineHelper.prototype.setLighting = function (light) {\n        this.notificationQueue.pushPayload(Renderer_1.RendererNotification.setLighting(light));\n    };\n    EngineHelper.prototype.createTexture = function (object) {\n        this.subscriberPool.publish(Renderer_1.RendererSubscription.CREATE_TEXTURE, Renderer_1.RendererSubscription.createTexturePayload(object, this.resourcesLoading));\n    };\n    EngineHelper.prototype.getFPS = function () {\n        return this.fps;\n    };\n    EngineHelper.prototype.getTotalPixelHeight = function () {\n        return window.screen.height;\n    };\n    EngineHelper.prototype.getTotalPixelWidth = function () {\n        return window.screen.width;\n    };\n    EngineHelper.prototype.getScreenHeight = function () {\n        return this.camera.height;\n    };\n    EngineHelper.prototype.getScreenWidth = function () {\n        return this.camera.width;\n    };\n    EngineHelper.prototype.setTime = function (time) {\n        if (time) {\n            this.time = time;\n        }\n    };\n    EngineHelper.prototype.getTime = function () {\n        return this.time;\n    };\n    EngineHelper.prototype.getVerticesById = function (id) {\n        if (this.bufferCache[id]) {\n            return this.bufferCache[id].vertices;\n        }\n        else {\n            console.error(\"Unable to find src in cache\", id, this);\n            throw new Error(\"unable to find src in cache\");\n        }\n    };\n    EngineHelper.prototype.updateBufferCache = function (buffer, verticesCacheId) {\n        buffer.cacheId = verticesCacheId;\n        this.bufferCache[verticesCacheId] = buffer;\n        return verticesCacheId;\n    };\n    EngineHelper.prototype.addBufferCache = function (buffer) {\n        var cacheId = this.cacheId++;\n        this.bufferCache[cacheId] = buffer;\n        buffer.cacheId = cacheId;\n        return cacheId;\n    };\n    EngineHelper.prototype.getResource = function (src) {\n        var _this = this;\n        var promise = new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            console.log(\"Loading resource \".concat(src));\n            xhr.open(\"GET\", src);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === XMLHttpRequest.DONE) {\n                    // handle file:// loading with status 0\n                    if (xhr.status === 200 || xhr.status === 0) {\n                        var cacheId_1 = _this.cacheId++;\n                        resolve({\n                            data: xhr.responseText,\n                            engineHelper: _this,\n                            cacheId: cacheId_1,\n                            registerBuffer: function (obj) {\n                                _this.bufferCache[cacheId_1] = obj;\n                            },\n                            registerFont: function (meta) {\n                                var font = new Font_1.default(meta);\n                                _this.fontCache[cacheId_1] = {\n                                    meta: meta,\n                                    font: font,\n                                };\n                                _this.fontNameKeyReverse[src] = cacheId_1;\n                            },\n                        });\n                    }\n                    else {\n                        reject(xhr.responseText);\n                    }\n                }\n            };\n            xhr.send();\n        });\n        this.resourcesLoading.push(promise);\n        return promise;\n    };\n    EngineHelper.prototype.getAllResourcesLoading = function () {\n        return Promise.all(this.resourcesLoading);\n    };\n    EngineHelper.prototype.updateBuffer = function (object) {\n        this.updateBufferCache(object.vertexModel.createModel(), object.vertexModel.vertexBufferId);\n        var notification = Renderer_1.RendererNotification.updateBuffer(object, this.getBuffer(object));\n        this.notificationQueue.pushPayload(notification);\n    };\n    EngineHelper.prototype.getBufferModelData = function (object) {\n        return this.bufferCache[object.getVertexBufferId()];\n    };\n    EngineHelper.prototype.getBuffer = function (object) {\n        var buffer = this.getBufferModelData(object).vertices;\n        if (!buffer) {\n            throw new Error(\"No buffer was found for this entity\");\n        }\n        return buffer;\n    };\n    EngineHelper.prototype.registerEntity = function (object) {\n        this.subscriberPool.publish(Renderer_1.RendererSubscription.REGISTER_ENTITY, Renderer_1.RendererSubscription.registerEntityPayload(object, this.getBufferModelData(object)));\n    };\n    EngineHelper.prototype.initFont = function () {\n        for (var fontType in this.fontCache) {\n            if (!this.fontCache.hasOwnProperty(fontType)) {\n                continue;\n            }\n            var font = this.fontCache[fontType].font;\n            font.init(this);\n        }\n    };\n    EngineHelper.prototype.renderFont = function () {\n        for (var fontType in this.fontCache) {\n            if (!this.fontCache.hasOwnProperty(fontType)) {\n                continue;\n            }\n            var font = this.fontCache[fontType].font;\n            font.render(this);\n        }\n    };\n    EngineHelper.prototype.updateFont = function () {\n        for (var fontType in this.fontCache) {\n            if (!this.fontCache.hasOwnProperty(fontType)) {\n                continue;\n            }\n            var font = this.fontCache[fontType].font;\n            font.update(this);\n        }\n    };\n    EngineHelper.prototype.newVertexModel2d = function (cacheId) {\n        return this.newVertexModel(cacheId, PlaneType_1.default.YX);\n    };\n    EngineHelper.prototype.newVertexModelUv3d = function (cacheId) {\n        var cache = this.vertexUVCache[cacheId];\n        var vertexModel = new TextureVertexModel_1.default().fillRenderUnits(cache.uv);\n        vertexModel.textureSource = cache.source;\n        return vertexModel;\n    };\n    EngineHelper.prototype.createPlaneVertexModel = function (src, uv, plane) {\n        var vertexModel = new TextureVertexModel_1.default().createRenderUnits(4);\n        vertexModel.textureSource = src;\n        EngineObjectHelper_1.default.vertex.plane(vertexModel.renderUnits, plane);\n        EngineObjectHelper_1.default.vertex.planeUV(vertexModel.renderUnits, uv);\n        return vertexModel;\n    };\n    EngineHelper.prototype.getUVCache = function (name) {\n        return this.uvCache[name].uv;\n    };\n    EngineHelper.prototype.addUVCache = function (source, name, uv) {\n        this.uvCache[name] = { source: source, uv: uv };\n    };\n    EngineHelper.prototype.getVertexUvCache = function (name) {\n        return this.vertexUVCache[name].uv;\n    };\n    EngineHelper.prototype.newVertexModel = function (cacheId, plane) {\n        var cache = this.uvCache[cacheId];\n        if (!cache) {\n            var cache_1 = this.uvCache[\"missing\"];\n            console.warn(\"texture \".concat(cacheId, \" has not been loaded - loading default texture\"));\n            return this.createPlaneVertexModel(cache_1.source, cache_1.uv, plane);\n        }\n        return this.createPlaneVertexModel(cache.source, cache.uv, plane);\n    };\n    EngineHelper.prototype.addVertexUvCache = function (textureSource, name, vertexUv) {\n        this.vertexUVCache[name] = { source: textureSource, uv: vertexUv };\n    };\n    EngineHelper.prototype.writeFont = function (fontRef) {\n        var fontCacheId = undefined;\n        if (typeof fontRef.$cacheId === \"string\") {\n            fontCacheId = this.fontNameKeyReverse[fontRef.$cacheId];\n        }\n        else if (typeof fontRef.$cacheId === \"number\") {\n            fontCacheId = fontRef.$cacheId;\n        }\n        else if (fontRef.$cacheId !== undefined) {\n            throw new Error(\"fontId is not a number or string\");\n        }\n        var font;\n        if (fontCacheId === undefined) {\n            font = Font_1.default.DefaultFont;\n        }\n        else {\n            font = this.fontCache[fontCacheId].font;\n        }\n        return font.writeRef(fontRef);\n    };\n    EngineHelper.prototype.isClickedObject = function (event, object) {\n        return this.isClicked(event, object.getRect2());\n    };\n    EngineHelper.prototype.isClicked = function (event, rect) {\n        var distance = this.camera.camera3d.distanceEvent(event);\n        return CollisionDetection_1.CollisionDetection.isPointInRect(rect, distance);\n    };\n    EngineHelper.prototype.rotate = function (event, rect) {\n        var _a = this.camera.camera3d.position, x = _a.x, y = _a.y;\n        return CollisionDetection_1.CollisionDetection.rotate(x + event.x, y + event.y, rect);\n    };\n    EngineHelper.prototype.updateProjectionMatrix = function () {\n        this.notificationQueue.pushPayload(Renderer_1.RendererNotification.UPDATE_PROJECTION_MATRIX);\n    };\n    return EngineHelper;\n}());\nexports.default = EngineHelper;\n//# sourceMappingURL=EngineHelper.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Rect3d_1 = require(\"./Rect3d\");\nvar Rect2d = /** @class */ (function (_super) {\n    __extends(Rect2d, _super);\n    function Rect2d(x, y, width, height, layer) {\n        return _super.call(this, x, y, layer || 0, width, height, 1) || this;\n    }\n    Rect2d.create = function () {\n        return new Rect2d(0, 0, 0, 0, 0);\n    };\n    Rect2d.prototype.newCenter = function () {\n        return new Rect2d(this.x + this.width / 2.0, this.y + this.height / 2.0, this.width, this.height, this.z);\n    };\n    return Rect2d;\n}(Rect3d_1.default));\nexports.default = Rect2d;\n//# sourceMappingURL=Rect2d.js.map","export default \"\\nprecision mediump float;\\nvarying vec4 v_color;\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\\n\";","export default \"\\nprecision mediump int;\\nprecision mediump float;\\n\\nattribute vec3 a_position;\\nattribute vec2 a_texture_coords;\\nattribute vec3 a_normal;\\n\\nuniform mat4 u_projection;\\nuniform mat4 u_view;\\nuniform mat4 u_model;\\n\\nuniform vec3 u_light1_pos;\\nuniform vec3 u_light1_intensities;\\nuniform float u_light1_attenuation;\\nuniform float u_light1_ambient_coefficient;\\nuniform mat4 u_light1_view;\\nuniform mat4 u_light1_projection;\\n\\nvarying vec2 v_texture_coords;\\nvarying vec3 v_position;\\nvarying vec3 v_normal;\\nvarying mat4 v_model;\\n\\nvarying vec3 v_light1_pos;\\nvarying vec3 v_light1_intensities;\\nvarying float v_light1_attenuation;\\nvarying float v_light1_ambient_coefficient;\\n\\nvarying float v_diffuseCoefficient;\\nvarying float v_attenuation;\\nvarying vec4 v_shadow_pos;\\n\\nstruct Light {\\n  vec3 position;\\n  vec3 intensities;\\n  float ambientCoefficient;\\n  float attenuation;\\n};\\n\\nfloat transpose(float m) {\\n  return m;\\n}\\n\\nmat2 transpose(mat2 m) {\\n  return mat2(m[0][0], m[1][0],\\n    m[0][1], m[1][1]);\\n}\\n\\nmat3 transpose(mat3 m) {\\n  return mat3(m[0][0], m[1][0], m[2][0],\\n    m[0][1], m[1][1], m[2][1],\\n    m[0][2], m[1][2], m[2][2]);\\n}\\n\\nmat4 transpose(mat4 m) {\\n  return mat4(m[0][0], m[1][0], m[2][0], m[3][0],\\n    m[0][1], m[1][1], m[2][1], m[3][1],\\n    m[0][2], m[1][2], m[2][2], m[3][2],\\n    m[0][3], m[1][3], m[2][3], m[3][3]);\\n}\\n\\nfloat inverse(float m) {\\n  return 1.0 / m;\\n}\\n\\nmat2 inverse(mat2 m) {\\n  return mat2(m[1][1], -m[0][1],\\n    -m[1][0], m[0][0]) / (m[0][0] * m[1][1] - m[0][1] * m[1][0]);\\n}\\n\\nmat3 inverse(mat3 m) {\\n  float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\\n  float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\\n  float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\\n\\n  float b01 = a22 * a11 - a12 * a21;\\n  float b11 = -a22 * a10 + a12 * a20;\\n  float b21 = a21 * a10 - a11 * a20;\\n\\n  float det = a00 * b01 + a01 * b11 + a02 * b21;\\n\\n  return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\\n    b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\\n    b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\\n}\\n\\nmat4 inverse(mat4 m) {\\n  float\\n  a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\\n    a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\\n    a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\\n    a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\\n\\n    b00 = a00 * a11 - a01 * a10,\\n    b01 = a00 * a12 - a02 * a10,\\n    b02 = a00 * a13 - a03 * a10,\\n    b03 = a01 * a12 - a02 * a11,\\n    b04 = a01 * a13 - a03 * a11,\\n    b05 = a02 * a13 - a03 * a12,\\n    b06 = a20 * a31 - a21 * a30,\\n    b07 = a20 * a32 - a22 * a30,\\n    b08 = a20 * a33 - a23 * a30,\\n    b09 = a21 * a32 - a22 * a31,\\n    b10 = a21 * a33 - a23 * a31,\\n    b11 = a22 * a33 - a23 * a32,\\n\\n    det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\\n\\n  return mat4(\\n    a11 * b11 - a12 * b10 + a13 * b09,\\n    a02 * b10 - a01 * b11 - a03 * b09,\\n    a31 * b05 - a32 * b04 + a33 * b03,\\n    a22 * b04 - a21 * b05 - a23 * b03,\\n    a12 * b08 - a10 * b11 - a13 * b07,\\n    a00 * b11 - a02 * b08 + a03 * b07,\\n    a32 * b02 - a30 * b05 - a33 * b01,\\n    a20 * b05 - a22 * b02 + a23 * b01,\\n    a10 * b10 - a11 * b08 + a13 * b06,\\n    a01 * b08 - a00 * b10 - a03 * b06,\\n    a30 * b04 - a31 * b02 + a33 * b00,\\n    a21 * b02 - a20 * b04 - a23 * b00,\\n    a11 * b07 - a10 * b09 - a12 * b06,\\n    a00 * b09 - a01 * b07 + a02 * b06,\\n    a31 * b01 - a30 * b03 - a32 * b00,\\n    a20 * b03 - a21 * b01 + a22 * b00) / det;\\n}\\n\\nconst mat4 norm_shadow_coords = mat4(0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.5, 0.5, 0.5, 1.0);\\n\\nvoid main(void) {\\n\\n  v_texture_coords = a_texture_coords;\\n  v_position = a_position;\\n  v_normal = a_normal;\\n  v_model = u_model;\\n\\n  v_light1_pos = u_light1_pos;\\n  v_light1_intensities = u_light1_intensities;\\n  v_light1_attenuation = u_light1_attenuation;\\n  v_light1_ambient_coefficient = u_light1_ambient_coefficient;\\n\\n  Light light1;\\n  light1.intensities = v_light1_intensities;\\n  light1.position = v_light1_pos;\\n  light1.attenuation = v_light1_attenuation;\\n  light1.ambientCoefficient = v_light1_ambient_coefficient;\\n\\n  vec3 surfacePos = vec3(v_model * vec4(v_position, 1));\\n\\n  mat3 normalMatrix = transpose(inverse(mat3(v_model)));\\n  vec3 normal = normalize(normalMatrix * v_normal);\\n\\n  vec3 fragPosition = vec3(v_model * vec4(v_position, 1));\\n\\n  vec3 surfaceToLight = light1.position - fragPosition;\\n\\n  float brightness = dot(normal, surfaceToLight) / (length(surfaceToLight) * length(normal));\\n  if (brightness > 1.0) {\\n    brightness = 1.0;\\n  } else if (brightness < 0.0) {\\n    brightness = 0.0;\\n  }\\n\\n  float distanceToLight = length(light1.position - surfacePos);\\n\\n  v_diffuseCoefficient = max(0.0, dot(normal, surfaceToLight));\\n  v_attenuation = 1.0 / (1.0 + light1.attenuation * pow(distanceToLight, 2.0));\\n  v_shadow_pos = norm_shadow_coords * u_light1_projection * u_light1_view * u_model * vec4(a_position, 1.0);\\n  gl_Position = u_projection * u_view * u_model * vec4(a_position, 1.0);\\n}\\n\\n\";","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Plane2d_1 = require(\"./Plane2d\");\nvar Timer_1 = require(\"../Core/Common/Timer\");\nvar EntityManager2d_1 = require(\"../Manager/EntityManager2d\");\nvar SpriteModel = /** @class */ (function (_super) {\n    __extends(SpriteModel, _super);\n    function SpriteModel(rect, ticks, textures) {\n        var _this = _super.call(this) || this;\n        _this.spriteIdx = 0;\n        _this.timer = new Timer_1.default();\n        _this.setRect(rect);\n        _this.ticks = ticks;\n        _this.textures = textures;\n        return _this;\n    }\n    SpriteModel.prototype.update = function (_) { };\n    SpriteModel.prototype.render = function (engineHelper) {\n        var _a;\n        (_a = this.entities[this.spriteIdx]) === null || _a === void 0 ? void 0 : _a.render(engineHelper);\n        this.calcSpriteIdx();\n    };\n    SpriteModel.prototype.calcSpriteIdx = function () {\n        if (this.timer.peak() > this.ticks) {\n            var spriteLength = this.entities.length;\n            this.spriteIdx += Math.round(this.timer.peak() / this.ticks);\n            if (this.spriteIdx >= spriteLength) {\n                var idxFactor = this.spriteIdx / spriteLength;\n                this.spriteIdx = Math.round((idxFactor - Math.floor(idxFactor)) * spriteLength);\n                if (this.spriteIdx >= spriteLength) {\n                    console.error(\"index out of bound after shaping\", this.spriteIdx);\n                    this.spriteIdx = 0;\n                }\n            }\n            this.timer.start();\n        }\n    };\n    SpriteModel.prototype.init = function (engineHelper) {\n        var _this = this;\n        if (!this.textures) {\n            return;\n        }\n        for (var index = 0; index < this.textures.length; index++) {\n            this.entities.push(new Plane2d_1.default(this.getRect(), this.textures[index]));\n        }\n        this.entities.forEach(function (e) {\n            e.setTop(_this.isTop);\n            e.hidden = _this.hidden;\n        });\n        this.center(this.position.x, this.position.y, this.position.z);\n        this.rotateOrigin(this.position.x, this.position.y, this.position.z);\n        this.rotateZ(180);\n        _super.prototype.init.call(this, engineHelper);\n        this.timer.start();\n    };\n    return SpriteModel;\n}(EntityManager2d_1.default));\nexports.default = SpriteModel;\n//# sourceMappingURL=SpriteModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AppSubscription = exports.WebGLContainer = void 0;\nvar Camera_1 = require(\"./Camera\");\nvar Updater_1 = require(\"./Updater\");\nvar Renderer_1 = require(\"./Renderer\");\nvar EngineHelper_1 = require(\"./EngineHelper\");\nvar Events_1 = require(\"./Events\");\nvar Timer_1 = require(\"./Common/Timer\");\nvar NotificationQueue_1 = require(\"./Common/NotificationQueue\");\nvar SubscriberPool_1 = require(\"./Common/SubscriberPool\");\nvar EngineDebugger_1 = require(\"./EngineDebugger\");\nvar WebGLContainer = /** @class */ (function () {\n    function WebGLContainer(elementId, parentElement, aspectRatio, isFullScreen, restoreContentFn) {\n        this.isFullScreen = isFullScreen;\n        this.aspectRatio = aspectRatio;\n        this.canvas = document.createElement(\"canvas\");\n        if (elementId) {\n            this.canvas.id = elementId;\n        }\n        else {\n            this.canvas.id = \"app\";\n        }\n        this.canvas.addEventListener(\"webglcontextlost\", function (event) { return event.preventDefault(); }, false);\n        this.canvas.addEventListener(\"webglcontextrestored\", restoreContentFn, false);\n        parentElement.appendChild(this.canvas);\n    }\n    WebGLContainer.prototype.delete = function () {\n        this.canvas.style.display = \"none\";\n        if (this.canvas.parentElement) {\n            this.canvas.parentElement.removeChild(this.canvas);\n        }\n    };\n    WebGLContainer.prototype.resize = function (measureElement) {\n        var width = measureElement.offsetWidth;\n        var height = width / this.getAspectRatio();\n        if (this.isFullScreen) {\n            width = window.innerWidth;\n            height = window.innerHeight;\n        }\n        this.canvas.width = width * window.devicePixelRatio;\n        this.canvas.height = height * window.devicePixelRatio;\n        this.canvas.style.height = \"\".concat(height, \"px\");\n        this.canvas.style.width = \"\".concat(width, \"px\");\n    };\n    WebGLContainer.prototype.getAspectRatio = function () {\n        var aspectRatio = this.aspectRatio;\n        if (!aspectRatio) {\n            var width = window.innerWidth ||\n                document.documentElement.clientWidth ||\n                document.body.clientWidth;\n            var height = window.innerHeight ||\n                document.documentElement.clientHeight ||\n                document.body.clientHeight;\n            aspectRatio = width / height;\n        }\n        return aspectRatio;\n    };\n    WebGLContainer.prototype.getCtx = function () {\n        var ctx = this.canvas.getContext(\"webgl\") ||\n            this.canvas.getContext(\"experimental-webgl\");\n        if (!ctx) {\n            throw new Error(\"WebGL not avaliable\");\n        }\n        return ctx;\n    };\n    return WebGLContainer;\n}());\nexports.WebGLContainer = WebGLContainer;\nvar AppSubscription = /** @class */ (function () {\n    function AppSubscription() {\n    }\n    AppSubscription.START_ITERATION = new SubscriberPool_1.Subscription(\"App#StartIteration\");\n    AppSubscription.GET_FPS = new SubscriberPool_1.Subscription(\"App#GetFPS\");\n    return AppSubscription;\n}());\nexports.AppSubscription = AppSubscription;\nvar App = /** @class */ (function () {\n    function App(args) {\n        var _this = this;\n        this.ready = false;\n        this.isPaused = true;\n        this.frameTime = 0.0;\n        this.framesElapsed = 0;\n        this.setup = function () {\n            var args = _this.args;\n            _this.timer = new Timer_1.default();\n            _this.camera = new Camera_1.default();\n            _this.updater = new Updater_1.default(args);\n            _this.renderer = new Renderer_1.default(args, _this.webGLContainer, _this.camera, _this.notificationQueue, _this.subscriberPool);\n            _this.camera.setupCamera(args.camera, args.aspectRatio, _this.webGLContainer.canvas);\n            _this.engineHelper = new EngineHelper_1.default(_this.notificationQueue, _this.subscriberPool, _this.camera);\n            // Initialize debugger\n            _this.debugger = new EngineDebugger_1.default(_this.webGLContainer.canvas);\n            _this.setupKeyboardControls();\n            _this.world = _this.args.world;\n            _this.world.setEngineHelper(_this.engineHelper);\n            // Set debugger references after world and renderer are available\n            if (_this.debugger) {\n                _this.debugger.setReferences(_this.world, _this.renderer);\n                _this.debugger.setEngineHelper(_this.engineHelper);\n            }\n        };\n        this.setupKeyboardControls = function () {\n            document.addEventListener('keydown', _this.handleKeyDown);\n        };\n        this.handleKeyDown = function (event) {\n            switch (event.key.toLowerCase()) {\n                case 'd':\n                    if (_this.debugger) {\n                        _this.debugger.toggle();\n                    }\n                    event.preventDefault();\n                    break;\n                case 'r':\n                    // Reset camera position\n                    if (_this.camera && _this.args.camera) {\n                        _this.camera.setupCamera(_this.args.camera, _this.args.aspectRatio, _this.webGLContainer.canvas);\n                        console.log('Camera reset to initial position');\n                    }\n                    event.preventDefault();\n                    break;\n                case 'p':\n                    // Toggle pause\n                    _this.togglePause();\n                    console.log(\"Engine \".concat(_this.isPaused ? 'paused' : 'unpaused'));\n                    event.preventDefault();\n                    break;\n            }\n        };\n        this.onEvent = function (event) {\n            if (event.eventType === Events_1.default.RESIZE) {\n                _this.resizeScreen();\n            }\n            if (_this.world) {\n                _this.world.event(event);\n            }\n            return true;\n        };\n        this.destroy = function () {\n            clearInterval(_this.interval);\n            _this.renderer.delete();\n            Events_1.event.delete(_this.onEvent);\n            // Remove keyboard listener\n            document.removeEventListener('keydown', _this.handleKeyDown);\n            // Cleanup debugger\n            if (_this.debugger) {\n                _this.debugger.destroy();\n                _this.debugger = undefined;\n            }\n            _this.webGLContainer.delete();\n            console.log(\"destroying\", _this);\n        };\n        this.animationFrame = function () {\n            if (!_this.ready) {\n                return;\n            }\n            try {\n                _this.updater.update(_this.timer.peak(), _this.engineHelper);\n                _this.renderer.render(_this.timer.peak(), _this.engineHelper);\n                // Update debugger with engine state\n                if (_this.debugger) {\n                    _this.debugger.resetRenderCalls();\n                    _this.debugger.updateDebugInfo(_this.engineHelper);\n                }\n                _this.notifyFrames();\n                _this.timer.start();\n            }\n            catch (error) {\n                console.error(error);\n                if (_this.debugger) {\n                    _this.debugger.logError(error.toString());\n                }\n                clearInterval(_this.interval);\n                if (_this.errorCallback) {\n                    _this.errorCallback(error);\n                }\n            }\n        };\n        this.startIteration = function () { return requestAnimationFrame(_this.animationFrame); };\n        this.notifyFrames = function () {\n            _this.frameTime += _this.timer.peak();\n            _this.framesElapsed++;\n            if (_this.framesElapsed === 60) {\n                if (_this.args.subscribe) {\n                    _this.args.subscribe({\n                        fps: (1000.0 / _this.frameTime) * _this.framesElapsed,\n                    });\n                }\n                _this.framesElapsed = 0;\n                _this.frameTime = 0;\n            }\n        };\n        this.startRunLoop = function () {\n            _this.timer.start();\n            var fps = _this.fps;\n            _this.interval = setInterval(function () {\n                if (!_this.isPaused) {\n                    _this.animationFrame();\n                }\n                if (_this.isStepRender) {\n                    clearInterval(_this.interval);\n                    _this.interval = undefined;\n                }\n                if (_this.fps !== fps) {\n                    clearInterval(_this.interval);\n                    _this.interval = undefined;\n                    _this.startRunLoop();\n                }\n            }, fps);\n        };\n        this.initSystem = function () {\n            _this.initFont();\n            _this.world.init(_this.engineHelper);\n            _this.renderer.init();\n            return _this.engineHelper.getAllResourcesLoading();\n        };\n        this.loadResources = function (resources) {\n            _this.world.loadResources(resources);\n            return _this.engineHelper.getAllResourcesLoading();\n        };\n        this.runApp = function () {\n            _this.ready = true;\n            if (!_this.isStepRender) {\n                _this.startRunLoop();\n            }\n            else {\n                _this.animationFrame();\n            }\n        };\n        this.onRunError = function (error) {\n            clearInterval(_this.interval);\n            console.error(error);\n            throw error;\n        };\n        this.run = function () {\n            console.log(\"Running\", _this);\n            var startTime = new Date();\n            return _this.loadResources(_this.args.resources)\n                .then(_this.initSystem)\n                .then(_this.renderer.bindBuffer)\n                .then(_this.runApp)\n                .then(function () {\n                return console.log(\"startup time: \".concat(new Date().getTime() - startTime.getTime()));\n            })\n                .then(function () {\n                return new Promise(function (resolve) {\n                    setTimeout(resolve, 1);\n                });\n            })\n                .catch(_this.onRunError);\n        };\n        this.resizeCanvas = function (measureElement) {\n            _this.webGLContainer.resize(measureElement);\n        };\n        this.resizeScreen = function () {\n            var measureElement = document.getElementById(_this.args.elementId);\n            _this.resizeCanvas(measureElement);\n            _this.camera.setupCamera(_this.args.camera, _this.args.aspectRatio, _this.webGLContainer.canvas);\n            _this.notificationQueue.push(Renderer_1.RendererNotification.RESIZE_SCREEN);\n            if (_this.isStepRender && _this.ready) {\n                _this.animationFrame();\n            }\n        };\n        this.buildCanvas = function (args) {\n            if (_this.webGLContainer) {\n                return;\n            }\n            var appElement = document.body;\n            if (args.elementId) {\n                appElement = document.getElementById(args.elementId);\n            }\n            _this.webGLContainer = new WebGLContainer(args.canvasId, appElement, args.aspectRatio, args.isFullScreen, _this.setup);\n            _this.resizeCanvas(appElement);\n        };\n        this.reset = function () {\n            if (_this.world) {\n                _this.world.reset();\n            }\n            else {\n                console.error(\"Game Delegate not ready to call reset\");\n            }\n        };\n        this.toggleShow = function () {\n            if (_this.isVisible) {\n                _this.hide();\n            }\n            else {\n                _this.show();\n            }\n        };\n        this.show = function () {\n            _this.webGLContainer.canvas.style.display = \"initial\";\n            _this.resizeScreen();\n            _this.isVisible = true;\n        };\n        this.hide = function () {\n            _this.webGLContainer.canvas.style.display = \"none\";\n            _this.isVisible = false;\n        };\n        this.togglePause = function () {\n            _this.isPaused = !_this.isPaused;\n        };\n        this.pause = function () {\n            _this.isPaused = true;\n        };\n        this.unpause = function () {\n            _this.isPaused = false;\n        };\n        if (!args) {\n            throw new Error(\"no args passed into App\");\n        }\n        this.notificationQueue = new NotificationQueue_1.default();\n        this.subscriberPool = new SubscriberPool_1.default();\n        this.subscriberPool.listen(AppSubscription.START_ITERATION, this.startIteration);\n        this.args = args;\n        this.buildCanvas(args);\n        this.isStepRender = args.isStepRender || false;\n        Events_1.event.bind(this.onEvent, this.webGLContainer);\n        Events_1.event.setThrottle(args.eventThrottle || 1000.0 / 25.0);\n        this.errorCallback = args.error;\n        this.setup();\n        if (args.clearColour) {\n            this.renderer.glContext.setClearColor(args.clearColour);\n        }\n        this.setFPS(args.fps);\n    }\n    App.prototype.setFPS = function (fps) {\n        this.fps = 1000.0 / fps || 1000.0 / 30.0;\n        this.subscriberPool.publish(AppSubscription.GET_FPS, this.fps);\n    };\n    App.prototype.toggleStepRender = function (run) {\n        if (run === void 0) { run = !this.isStepRender; }\n        this.isStepRender = run;\n        if (!this.isStepRender && !this.interval) {\n            this.startRunLoop();\n        }\n    };\n    App.prototype.initFont = function () {\n        this.engineHelper.initFont();\n    };\n    return App;\n}());\nexports.default = App;\n//# sourceMappingURL=App.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotificationPayload = exports.Notification = void 0;\nvar Notification = /** @class */ (function () {\n    function Notification(key, action) {\n        this.key = key;\n        this.action = action;\n    }\n    return Notification;\n}());\nexports.Notification = Notification;\nvar NotificationPayload = /** @class */ (function (_super) {\n    __extends(NotificationPayload, _super);\n    function NotificationPayload(key, action, data) {\n        var _this = _super.call(this, key, action) || this;\n        _this.data = data;\n        return _this;\n    }\n    NotificationPayload.from = function (notification, data) {\n        return new NotificationPayload(notification.key, notification.action, data);\n    };\n    return NotificationPayload;\n}(Notification));\nexports.NotificationPayload = NotificationPayload;\nvar LinkedList = /** @class */ (function () {\n    function LinkedList(data) {\n        this.data = data;\n    }\n    return LinkedList;\n}());\nvar NotificationQueue = /** @class */ (function () {\n    function NotificationQueue() {\n        this.queueMap = {};\n    }\n    NotificationQueue.prototype.clearQueue = function () {\n        this.queueMap = {};\n    };\n    NotificationQueue.prototype.pushPayload = function (notification) {\n        var key = notification.key;\n        var nodes = this.queueMap[key];\n        if (!nodes) {\n            this.queueMap[key] = { bottom: undefined, top: undefined };\n            nodes = this.queueMap[key];\n        }\n        if (!nodes.bottom) {\n            nodes.bottom = new LinkedList(notification);\n            nodes.top = nodes.bottom;\n        }\n        else if (nodes.top) {\n            nodes.top.next = new LinkedList(notification);\n            nodes.top = nodes.top.next;\n        }\n        else {\n            throw new Error(\"Unexpected state for notification push payload\");\n        }\n    };\n    NotificationQueue.prototype.push = function (notification, data) {\n        if (notification instanceof NotificationPayload) {\n            console.error(\"Please use pushPayload\");\n        }\n        this.pushPayload(new NotificationPayload(notification.key, notification.action, data));\n    };\n    NotificationQueue.prototype.pushNotification = function (key, action) {\n        this.push(new Notification(key, action));\n    };\n    NotificationQueue.prototype.take = function (key) {\n        var bottom = this.getBottom(key);\n        if (!bottom) {\n            return undefined;\n        }\n        var data = this.peak(key);\n        if (!data) {\n            throw new Error(\"Expected data to appear when reading data from notification\");\n        }\n        this.shiftQueue(key);\n        return data;\n    };\n    NotificationQueue.prototype.shiftQueue = function (key) {\n        var nodes = this.queueMap[key];\n        var bottom = nodes.bottom;\n        if (bottom) {\n            nodes.bottom = bottom.next;\n            if (!nodes.bottom) {\n                nodes.top = undefined;\n            }\n        }\n        else {\n            throw new Error(\"Trying to shift queue with bottom undefined\");\n        }\n    };\n    NotificationQueue.prototype.getBottom = function (key) {\n        return this.queueMap[key] ? this.queueMap[key].bottom : undefined;\n    };\n    NotificationQueue.prototype.peak = function (key) {\n        var bottom = this.getBottom(key);\n        return (bottom && bottom.data) || undefined;\n    };\n    return NotificationQueue;\n}());\nexports.default = NotificationQueue;\n//# sourceMappingURL=NotificationQueue.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Colour_1 = require(\"../../Data/Colour\");\nvar WebGLContext = /** @class */ (function () {\n    function WebGLContext(ctx) {\n        this.clearColour = new Colour_1.default(1.0, 1.0, 1.0, 1.0);\n        this.ctx = ctx;\n    }\n    WebGLContext.prototype.setClearColor = function (colour) {\n        this.clearColour = colour;\n        this.ctx.clearColor(colour.r, colour.g, colour.b, colour.a);\n    };\n    WebGLContext.prototype.setupDefault = function () {\n        this.setClearColor(this.clearColour);\n        this.ctx.enable(this.ctx.BLEND);\n        this.ctx.blendFunc(this.ctx.SRC_ALPHA, this.ctx.ONE_MINUS_SRC_ALPHA);\n        this.ctx.enable(this.ctx.CULL_FACE);\n        this.ctx.frontFace(this.ctx.CCW);\n        this.ctx.cullFace(this.ctx.BACK);\n        this.ctx.clearDepth(1);\n        this.ctx.enable(this.ctx.DEPTH_TEST);\n        this.ctx.depthFunc(this.ctx.LEQUAL);\n    };\n    WebGLContext.prototype.clear = function () {\n        this.ctx.clear(this.ctx.COLOR_BUFFER_BIT | this.ctx.DEPTH_BUFFER_BIT);\n    };\n    WebGLContext.prototype.deleteTexture = function (texture) {\n        this.ctx.deleteTexture(texture);\n    };\n    WebGLContext.prototype.resizeViewPort = function (canvas) {\n        this.ctx.viewport(0, 0, canvas.width, canvas.height);\n    };\n    WebGLContext.prototype.getWebGL2RenderingContext = function () {\n        return this.ctx;\n    };\n    WebGLContext.prototype.destroyWebGL = function () {\n        var ctx = this.ctx;\n        var ctx2 = this.getWebGL2RenderingContext();\n        var isWebGL2RenderingContext = !!ctx2.createTransformFeedback;\n        if (isWebGL2RenderingContext) {\n            ctx2.bindVertexArray(null);\n        }\n        var numAttribs = ctx.getParameter(ctx.MAX_VERTEX_ATTRIBS);\n        var tmp = ctx.createBuffer();\n        ctx.bindBuffer(ctx.ARRAY_BUFFER, tmp);\n        for (var ii = 0; ii < numAttribs; ++ii) {\n            ctx.disableVertexAttribArray(ii);\n            ctx.vertexAttribPointer(ii, 4, ctx.FLOAT, false, 0, 0);\n            ctx.vertexAttrib1f(ii, 0);\n            if (isWebGL2RenderingContext) {\n                ctx2.vertexAttribDivisor(ii, 0);\n            }\n        }\n        ctx.deleteBuffer(tmp);\n        var numTextureUnits = ctx.getParameter(ctx.MAX_TEXTURE_IMAGE_UNITS);\n        for (var ii = 0; ii < numTextureUnits; ++ii) {\n            ctx.activeTexture(ctx.TEXTURE0 + ii);\n            ctx.bindTexture(ctx.TEXTURE_CUBE_MAP, null);\n            ctx.bindTexture(ctx.TEXTURE_2D, null);\n            if (isWebGL2RenderingContext) {\n                ctx2.bindTexture(ctx2.TEXTURE_2D_ARRAY, null);\n                ctx2.bindTexture(ctx2.TEXTURE_3D, null);\n                ctx2.bindSampler(ii, null);\n            }\n        }\n        ctx.activeTexture(ctx.TEXTURE0);\n        ctx.useProgram(null);\n        ctx.bindBuffer(ctx.ARRAY_BUFFER, null);\n        ctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, null);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        ctx.disable(ctx.BLEND);\n        ctx.disable(ctx.CULL_FACE);\n        ctx.disable(ctx.DEPTH_TEST);\n        ctx.disable(ctx.DITHER);\n        ctx.disable(ctx.SCISSOR_TEST);\n        ctx.blendColor(0, 0, 0, 0);\n        ctx.blendEquation(ctx.FUNC_ADD);\n        ctx.blendFunc(ctx.ONE, ctx.ZERO);\n        ctx.clearColor(0, 0, 0, 0);\n        ctx.clearDepth(1);\n        ctx.clearStencil(-1);\n        ctx.colorMask(true, true, true, true);\n        ctx.cullFace(ctx.BACK);\n        ctx.depthFunc(ctx.LESS);\n        ctx.depthMask(true);\n        ctx.depthRange(0, 1);\n        ctx.frontFace(ctx.CCW);\n        ctx.hint(ctx.GENERATE_MIPMAP_HINT, ctx.DONT_CARE);\n        ctx.lineWidth(1);\n        ctx.pixelStorei(ctx.PACK_ALIGNMENT, 4);\n        ctx.pixelStorei(ctx.UNPACK_ALIGNMENT, 4);\n        ctx.pixelStorei(ctx.UNPACK_FLIP_Y_WEBGL, 0);\n        ctx.pixelStorei(ctx.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0);\n        if (ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL) {\n            ctx.pixelStorei(ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL, ctx.BROWSER_DEFAULT_WEBGL);\n        }\n        ctx.polygonOffset(0, 0);\n        ctx.sampleCoverage(1, false);\n        ctx.scissor(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.stencilFunc(ctx.ALWAYS, 0, 0xffffffff);\n        ctx.stencilMask(0xffffffff);\n        ctx.stencilOp(ctx.KEEP, ctx.KEEP, ctx.KEEP);\n        ctx.viewport(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.clear(ctx.COLOR_BUFFER_BIT | ctx.DEPTH_BUFFER_BIT | ctx.STENCIL_BUFFER_BIT);\n        if (isWebGL2RenderingContext) {\n            ctx2.drawBuffers([ctx2.BACK]);\n            ctx2.readBuffer(ctx2.BACK);\n            ctx2.bindBuffer(ctx2.COPY_READ_BUFFER, null);\n            ctx2.bindBuffer(ctx2.COPY_WRITE_BUFFER, null);\n            ctx2.bindBuffer(ctx2.PIXEL_PACK_BUFFER, null);\n            ctx2.bindBuffer(ctx2.PIXEL_UNPACK_BUFFER, null);\n            var numTransformFeedbacks = ctx.getParameter(ctx2.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS);\n            for (var ii = 0; ii < numTransformFeedbacks; ++ii) {\n                ctx2.bindBufferBase(ctx2.TRANSFORM_FEEDBACK_BUFFER, ii, null);\n            }\n            var numUBOs = ctx.getParameter(ctx2.MAX_UNIFORM_BUFFER_BINDINGS);\n            for (var ii = 0; ii < numUBOs; ++ii) {\n                ctx2.bindBufferBase(ctx2.UNIFORM_BUFFER, ii, null);\n            }\n            ctx2.disable(ctx2.RASTERIZER_DISCARD);\n            ctx2.pixelStorei(ctx2.UNPACK_IMAGE_HEIGHT, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_SKIP_IMAGES, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_ROW_LENGTH, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_SKIP_ROWS, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_SKIP_PIXELS, 0);\n            ctx2.pixelStorei(ctx2.PACK_ROW_LENGTH, 0);\n            ctx2.pixelStorei(ctx2.PACK_SKIP_ROWS, 0);\n            ctx2.pixelStorei(ctx2.PACK_SKIP_PIXELS, 0);\n            ctx2.hint(ctx2.FRAGMENT_SHADER_DERIVATIVE_HINT, ctx2.DONT_CARE);\n        }\n    };\n    WebGLContext.prototype.programInfo = function (program) {\n        var numAttribs = this.ctx.getProgramParameter(program, this.ctx.ACTIVE_ATTRIBUTES);\n        for (var ii = 0; ii < numAttribs; ++ii) {\n            var attribInfo = this.ctx.getActiveAttrib(program, ii);\n            if (!attribInfo) {\n                break;\n            }\n            console.log(this.ctx.getAttribLocation(program, attribInfo.name), attribInfo.name);\n        }\n    };\n    return WebGLContext;\n}());\nexports.default = WebGLContext;\n//# sourceMappingURL=WebGLContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VertexModel = /** @class */ (function () {\n    function VertexModel() {\n    }\n    VertexModel.prototype.registerModel = function (engineHelper) {\n        if (!this.vertexBufferId) {\n            this.vertexBufferId = engineHelper.addBufferCache(this.createModel());\n        }\n    };\n    return VertexModel;\n}());\nexports.default = VertexModel;\n//# sourceMappingURL=VertexModel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseCamera = void 0;\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar ModelPosition_1 = require(\"./EngineEntity/ModelPosition\");\nvar Coordinate_1 = require(\"./Data/Coordinate\");\nvar Timer_1 = require(\"./Common/Timer\");\nvar Rect2d_1 = require(\"./Data/Rect2d\");\nvar CollisionDetection_1 = require(\"./Physics/CollisionDetection\");\nvar BaseCamera = /** @class */ (function (_super) {\n    __extends(BaseCamera, _super);\n    function BaseCamera() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.zoomScale = { x: 2, y: 2, z: 2 };\n        _this.baseTranslate = { x: -1, y: -1, z: 0 };\n        _this._isUpdateView = true;\n        _this.timer = new Timer_1.default();\n        _this.updateProjectionView = function () {\n            _this._isUpdateView = true;\n        };\n        _this.commitProjectionView = function () {\n            _this._isUpdateView = false;\n            var quatRotationxyz = gl_matrix_1.quat.create();\n            quatRotationxyz = gl_matrix_1.quat.rotateX(quatRotationxyz, quatRotationxyz, _this.degreesToRadians(_this.position.ax));\n            quatRotationxyz = gl_matrix_1.quat.rotateY(quatRotationxyz, quatRotationxyz, _this.degreesToRadians(_this.position.ay));\n            quatRotationxyz = gl_matrix_1.quat.rotateZ(quatRotationxyz, quatRotationxyz, _this.degreesToRadians(_this.position.az));\n            quatRotationxyz = gl_matrix_1.quat.normalize(quatRotationxyz, quatRotationxyz);\n            var dest = gl_matrix_1.mat4.create();\n            var quatMat = gl_matrix_1.mat4.create();\n            gl_matrix_1.mat4.fromQuat(quatMat, quatRotationxyz);\n            gl_matrix_1.mat4.multiply(dest, dest, quatMat);\n            var pos = gl_matrix_1.vec3.fromValues(-_this.position.x, -_this.position.y, -_this.position.z);\n            gl_matrix_1.mat4.translate(dest, dest, pos);\n            _this.viewMatrix = dest;\n        };\n        _this.frustumMatrix = function () {\n            var _a, _b, _c, _d, _e, _f;\n            // Ensure we have proper defaults for frustum parameters\n            var left = (_b = (_a = _this.cameraOptions.left) !== null && _a !== void 0 ? _a : -_this.aspect) !== null && _b !== void 0 ? _b : -1;\n            var right = (_d = (_c = _this.cameraOptions.right) !== null && _c !== void 0 ? _c : _this.aspect) !== null && _d !== void 0 ? _d : 1;\n            var bottom = (_e = _this.cameraOptions.bottom) !== null && _e !== void 0 ? _e : -1;\n            var top = (_f = _this.cameraOptions.top) !== null && _f !== void 0 ? _f : 1;\n            return gl_matrix_1.mat4.frustum(gl_matrix_1.mat4.create(), left, right, bottom, top, _this.near, _this.far);\n        };\n        _this.updateProjectionMatrix = function () {\n            var _a;\n            if (((_a = _this.cameraOptions) === null || _a === void 0 ? void 0 : _a.projection) === 'frustum') {\n                _this.frustum = _this.frustumMatrix();\n            }\n            else {\n                console.log(\"panda2\", {\n                    fov: _this.degreesToRadians(_this.fov),\n                    aspect: _this.aspect,\n                    near: _this.near,\n                    far: _this.far\n                });\n                _this.frustum = _this.perspective();\n            }\n        };\n        return _this;\n    }\n    BaseCamera.prototype.clearPan = function () {\n        if (this.interval) {\n            clearInterval(this.interval);\n            this.interval = undefined;\n        }\n    };\n    BaseCamera.prototype.pan = function (time, speed, x, y, z) {\n        var _this = this;\n        if (this.interval) {\n            clearInterval(this.interval);\n            this.interval = undefined;\n        }\n        this.steps = time;\n        this._moveTime = time;\n        if (x !== undefined) {\n            this.dx = x - this.position.x;\n            this.tx = x;\n        }\n        else {\n            this.dx = 0;\n            this.tx = this.position.x;\n        }\n        if (y !== undefined) {\n            this.dy = y - this.position.y;\n            this.ty = y;\n        }\n        else {\n            this.dy = 0;\n            this.ty = this.position.y;\n        }\n        if (z !== undefined) {\n            this.dz = z - this.position.z;\n            this.tz = z;\n        }\n        else {\n            this.dz = 0;\n            this.tz = this.position.z;\n        }\n        this.timer.start();\n        this.interval = setInterval(function () {\n            var time = _this.timer.peak();\n            if (_this.steps > 0) {\n                _this.steps -= time;\n                if (_this.steps <= 0) {\n                    _this.position.x = _this.tx;\n                    _this.position.y = _this.ty;\n                    _this.position.z = _this.tz;\n                    if (_this.interval) {\n                        clearInterval(_this.interval);\n                        _this.interval = undefined;\n                    }\n                }\n                else {\n                    _this.position.x += (_this.dx * time) / _this._moveTime;\n                    _this.position.y += (_this.dy * time) / _this._moveTime;\n                    _this.position.z += (_this.dz * time) / _this._moveTime;\n                }\n                _this.updateProjectionView();\n            }\n            else {\n                _this.position.x = _this.tx;\n                _this.position.y = _this.ty;\n                _this.position.z = _this.tz;\n                if (_this.interval) {\n                    clearInterval(_this.interval);\n                    _this.interval = undefined;\n                }\n                _this.updateProjectionView();\n            }\n            _this.timer.start();\n        }, speed);\n    };\n    BaseCamera.prototype.isOutOfBound = function (bound, pos) {\n        return false;\n    };\n    BaseCamera.prototype.isUpdateView = function () {\n        return this._isUpdateView;\n    };\n    BaseCamera.prototype.perspective = function () {\n        console.log(\"panda\", {\n            fov: this.degreesToRadians(this.fov),\n            aspect: this.aspect,\n            near: this.near,\n            far: this.far\n        });\n        return gl_matrix_1.mat4.perspective(gl_matrix_1.mat4.create(), this.degreesToRadians(this.fov), this.aspect, this.near, this.far);\n    };\n    ;\n    BaseCamera.prototype.angleX = function (dx) {\n        this.position.ax -= dx;\n        if (this.position.ax > 90) {\n            var diff = 90;\n            this.position.ax = diff;\n        }\n        else if (this.position.ax < -90) {\n            var diff = -90;\n            this.position.ax = diff;\n        }\n        this.updateProjectionView();\n    };\n    BaseCamera.prototype.angleZ = function (dz) {\n        this.position.az += dz;\n        if (this.position.az > 360) {\n            var diff = this.position.az - 360;\n            this.position.az = diff;\n        }\n        else if (this.position.az < 0) {\n            var diff = this.position.az + 360;\n            this.position.az = diff;\n        }\n        this.updateProjectionView();\n    };\n    BaseCamera.prototype.angleY = function (dy) {\n        var _a, _b;\n        if ((_b = (_a = this.cameraOptions) === null || _a === void 0 ? void 0 : _a.experimental) === null || _b === void 0 ? void 0 : _b.inverseAngleY) {\n            if (dy) {\n                dy *= -1;\n            }\n        }\n        this.position.ay += dy;\n        if (this.position.ay > 360) {\n            var diff = this.position.ay - 360;\n            this.position.ay = diff;\n        }\n        else if (this.position.ay < 0) {\n            var diff = this.position.ay + 360;\n            this.position.ay = diff;\n        }\n        this.updateProjectionView();\n    };\n    BaseCamera.prototype.zoomIn = function (delta) {\n        this.fov -= delta;\n        this.fov = Math.max(delta, this.fov);\n        this.updateProjectionMatrix();\n    };\n    BaseCamera.prototype.zoomOut = function (delta) {\n        var maxFovAspect = (Math.atan(1.0 / this.aspect) * 360.0) / Math.PI;\n        this.fov += delta;\n        this.fov = Math.min(Math.min(this.cameraOptions.maxFov || maxFovAspect, maxFovAspect), this.fov);\n        this.updateProjectionMatrix();\n    };\n    BaseCamera.prototype.setupCamera = function (cameraOptions, aspectRatio, canvas) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        this.cameraOptions = cameraOptions || {};\n        var aspect = cameraOptions.aspect || canvas.width / canvas.height;\n        // Always update camera parameters from options\n        this.near = (_a = cameraOptions.near) !== null && _a !== void 0 ? _a : 0.01;\n        this.far = (_b = cameraOptions.far) !== null && _b !== void 0 ? _b : 1000.0;\n        this.aspect = aspect;\n        // Set frustum projection parameters if provided\n        if (cameraOptions.projection === 'frustum') {\n            // Ensure frustum values are properly set based on aspect ratio if not provided\n            if (!this.cameraOptions.left) {\n                this.cameraOptions.left = (_c = cameraOptions.left) !== null && _c !== void 0 ? _c : -aspect;\n            }\n            if (!this.cameraOptions.right) {\n                this.cameraOptions.right = (_d = cameraOptions.right) !== null && _d !== void 0 ? _d : aspect;\n            }\n            if (!this.cameraOptions.bottom) {\n                this.cameraOptions.bottom = (_e = cameraOptions.bottom) !== null && _e !== void 0 ? _e : -1;\n            }\n            if (!this.cameraOptions.top) {\n                this.cameraOptions.top = (_f = cameraOptions.top) !== null && _f !== void 0 ? _f : 1;\n            }\n        }\n        if ((_g = this.cameraOptions.experimental) === null || _g === void 0 ? void 0 : _g.enabled) {\n            var width = canvas.offsetWidth;\n            var height = canvas.offsetHeight;\n            var zoom = {\n                x: width <= height ? 2 : (2 * aspectRatio) / (width / height),\n                y: height <= width ? 2 : (2 * aspectRatio) / (width / height),\n                z: 1,\n            };\n            this.setZoom(zoom);\n            this.setBaseTranslate({\n                x: -1 + (2 - zoom.x) / 2,\n                y: -1 + (2 - zoom.y) / 2,\n                z: 0,\n            });\n        }\n        if (cameraOptions.projection !== 'frustum') {\n            var fov = (_h = cameraOptions.fov) !== null && _h !== void 0 ? _h : 45.0;\n            if (cameraOptions.isFovMax) {\n                var maxFovAspect = (Math.atan(1.0 / aspect) * 360.0) / Math.PI;\n                fov = maxFovAspect;\n            }\n            this.fov = fov;\n        }\n        this.updateProjectionMatrix();\n        this.updateProjectionView();\n    };\n    BaseCamera.prototype.setZoom = function (zoom) {\n        this.zoomScale = zoom;\n    };\n    BaseCamera.prototype.setBaseTranslate = function (baseTranslate) {\n        this.baseTranslate = baseTranslate;\n    };\n    /**\n     * Orients the camera to look at a target point in world space.\n     * @param targetX X coordinate of the target\n     * @param targetY Y coordinate of the target\n     * @param targetZ Z coordinate of the target\n     */\n    BaseCamera.prototype.lookAt = function (targetX, targetY, targetZ) {\n        var dx = targetX - this.position.x;\n        var dy = targetY - this.position.y;\n        var dz = targetZ - this.position.z;\n        // Calculate yaw (ay) - rotation around Y axis\n        this.position.ay = Math.atan2(-dx, -dz) * 180 / Math.PI;\n        // Calculate pitch (ax) - rotation around X axis\n        var horizontalDistance = Math.sqrt(dx * dx + dz * dz);\n        this.position.ax = Math.atan2(-dy, horizontalDistance) * 180 / Math.PI;\n        // Reset roll (az) to 0\n        this.position.az = 0;\n        this.updateProjectionView();\n    };\n    return BaseCamera;\n}(ModelPosition_1.default));\nexports.BaseCamera = BaseCamera;\nvar Camera2d = /** @class */ (function (_super) {\n    __extends(Camera2d, _super);\n    function Camera2d() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.INTERVAL_TIME = 10;\n        _this.bound = new Rect2d_1.default(0, 0, 1, 1);\n        return _this;\n    }\n    Camera2d.prototype.distanceEvent = function (event) {\n        return new Coordinate_1.default(event.x + this.position.x, this.position.y + event.y);\n    };\n    Camera2d.prototype.perspective = function () {\n        var translateSpace = gl_matrix_1.mat4.create();\n        gl_matrix_1.mat4.translate(translateSpace, translateSpace, gl_matrix_1.vec3.fromValues(this.baseTranslate.x, this.baseTranslate.y, this.baseTranslate.z));\n        gl_matrix_1.mat4.scale(translateSpace, translateSpace, gl_matrix_1.vec3.fromValues(this.zoomScale.x, this.zoomScale.y, 1.0));\n        return translateSpace;\n    };\n    ;\n    Camera2d.prototype.zoomIn = function (delta) {\n        this.zoomScale.x += delta;\n        this.zoomScale.y += delta;\n        this.updateProjectionMatrix();\n    };\n    Camera2d.prototype.zoomOut = function (delta) {\n        this.zoomScale.x = Math.max(0.1, this.zoomScale.x - delta);\n        this.zoomScale.y = Math.max(0.1, this.zoomScale.y - delta);\n        this.updateProjectionMatrix();\n    };\n    Camera2d.prototype.isOutOfBound = function (pos) {\n        this.bound.x = this.position.x + this.bound.width / 2.0;\n        this.bound.y = this.position.y + this.bound.height / 2.0;\n        return !CollisionDetection_1.CollisionDetection.isRectInRect(this.bound, pos);\n    };\n    Camera2d.prototype.pan2d = function (time, x, y) {\n        _super.prototype.pan.call(this, time, this.INTERVAL_TIME, x, y);\n    };\n    Camera2d.prototype.pan2dDif = function (time, dx, dy) {\n        var _a = this.position, x = _a.x, y = _a.y;\n        _super.prototype.pan.call(this, time, this.INTERVAL_TIME, x + (dx !== null && dx !== void 0 ? dx : 0), y + (dy !== null && dy !== void 0 ? dy : 0));\n    };\n    return Camera2d;\n}(BaseCamera));\nvar Camera3d = /** @class */ (function (_super) {\n    __extends(Camera3d, _super);\n    function Camera3d() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.INTERVAL_TIME = 10;\n        return _this;\n    }\n    Camera3d.prototype.pan3d = function (time, x, y, z) {\n        _super.prototype.pan.call(this, time, this.INTERVAL_TIME, x, y, z);\n    };\n    return Camera3d;\n}(BaseCamera));\nvar Camera = /** @class */ (function () {\n    function Camera() {\n        this.camera3d = new Camera3d();\n    }\n    Camera.prototype.setupCamera = function (cameraOptions, aspectRatio, canvas) {\n        this.camera3d.setupCamera(cameraOptions, aspectRatio || 1, canvas);\n        this.height = canvas.height;\n        this.width = canvas.width;\n    };\n    Camera.prototype.commitProjectionView = function () {\n        if (this.camera3d.isUpdateView()) {\n            this.camera3d.commitProjectionView();\n        }\n    };\n    return Camera;\n}());\nexports.default = Camera;\n//# sourceMappingURL=Camera.js.map","import {\n  ModelObject3d,\n  Rect3d,\n  TextureVertexModel,\n  EngineHelper\n} from \"../dist/index\";\n\nexport default class Sphere extends ModelObject3d {\n  vertexUvCacheId: string;\n  constructor(rect: Rect3d, vertexUvCacheId: string) {\n    super(rect, new TextureVertexModel());\n    this.vertexUvCacheId = vertexUvCacheId;\n  }\n  render(engineHelper: EngineHelper) {\n    engineHelper.render(this.shaderEntity);\n  }\n  init(engineHelper: EngineHelper) {\n    this.vertexModel = engineHelper.newVertexModelUv3d(this.vertexUvCacheId);\n    super.init(engineHelper);\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Rect2d_1 = require(\"../Data/Rect2d\");\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        var _this = _super.call(this, 0, 0, 0, 0, 0) || this;\n        _this.x = 0;\n        _this.y = 0;\n        _this.z = 0;\n        _this.ax = 0;\n        _this.ay = 0;\n        _this.az = 0;\n        _this.nx = 0;\n        _this.ny = 0;\n        _this.nz = 0;\n        _this.width = 0;\n        _this.height = 0;\n        _this.length = 0;\n        _this.scaleX = 1;\n        _this.scaleY = 1;\n        _this.scaleZ = 1;\n        _this.originX = 0;\n        _this.originY = 0;\n        _this.originZ = 0;\n        _this.maxHeight = 0;\n        _this.maxWidth = 0;\n        return _this;\n    }\n    return Position;\n}(Rect2d_1.default));\nexports.default = Position;\n//# sourceMappingURL=Position.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextureVertexModel = exports.RenderType = exports.Object3d = exports.ModelObject3d = exports.BitmapConfigParser = exports.Plane3d = exports.Coordinate = exports.Camera = exports.Polygon = exports.CollisionDetection = exports.Collision = exports.Events = exports.ConfigEntity = exports.generateId = exports.Timer = exports.Position = exports.Physics = exports.ModelPosition = exports.Rect2d = exports.Rect3d = exports.Moveable = exports.Colour = exports.PlaneType = exports.Light = exports.Resource = exports.ResourceResolver = exports.LineColour = exports.FontReference = exports.Font = exports.EntityManager2d = exports.EntityManager = exports.ObjectManager = exports.EngineMap = exports.EngineHelper = exports.EngineObject = exports.App = void 0;\nvar App_1 = require(\"./Core/App\");\nexports.App = App_1.default;\nvar EngineObject_1 = require(\"./Core/EngineEntity/EngineObject\");\nObject.defineProperty(exports, \"EngineObject\", { enumerable: true, get: function () { return EngineObject_1.default; } });\nvar EngineHelper_1 = require(\"./Core/EngineHelper\");\nObject.defineProperty(exports, \"EngineHelper\", { enumerable: true, get: function () { return EngineHelper_1.default; } });\nvar EngineMap_1 = require(\"./Core/EngineEntity/EngineMap\");\nObject.defineProperty(exports, \"EngineMap\", { enumerable: true, get: function () { return EngineMap_1.default; } });\nvar ObjectManager_1 = require(\"./Manager/ObjectManager\");\nObject.defineProperty(exports, \"ObjectManager\", { enumerable: true, get: function () { return ObjectManager_1.default; } });\nvar EntityManager_1 = require(\"./Manager/EntityManager\");\nObject.defineProperty(exports, \"EntityManager\", { enumerable: true, get: function () { return EntityManager_1.default; } });\nvar EntityManager2d_1 = require(\"./Manager/EntityManager2d\");\nObject.defineProperty(exports, \"EntityManager2d\", { enumerable: true, get: function () { return EntityManager2d_1.default; } });\nvar Font_1 = require(\"./Core/Font/Font\");\nObject.defineProperty(exports, \"Font\", { enumerable: true, get: function () { return Font_1.default; } });\nvar Font_2 = require(\"./Core/Font/Font\");\nObject.defineProperty(exports, \"FontReference\", { enumerable: true, get: function () { return Font_2.FontReference; } });\nvar LineColour_1 = require(\"./Entity/LineColour\");\nObject.defineProperty(exports, \"LineColour\", { enumerable: true, get: function () { return LineColour_1.default; } });\nvar ResourceResolver_1 = require(\"./AssetLoader/ResourceResolver\");\nObject.defineProperty(exports, \"ResourceResolver\", { enumerable: true, get: function () { return ResourceResolver_1.default; } });\nvar Resource_1 = require(\"./Core/Data/Resource\");\nObject.defineProperty(exports, \"Resource\", { enumerable: true, get: function () { return Resource_1.default; } });\nvar Light_1 = require(\"./Core/Data/Light\");\nObject.defineProperty(exports, \"Light\", { enumerable: true, get: function () { return Light_1.default; } });\nvar PlaneType_1 = require(\"./Core/Data/PlaneType\");\nObject.defineProperty(exports, \"PlaneType\", { enumerable: true, get: function () { return PlaneType_1.default; } });\nvar Colour_1 = require(\"./Core/Data/Colour\");\nObject.defineProperty(exports, \"Colour\", { enumerable: true, get: function () { return Colour_1.default; } });\nvar Moveable_1 = require(\"./Entity/Moveable\");\nObject.defineProperty(exports, \"Moveable\", { enumerable: true, get: function () { return Moveable_1.default; } });\nvar Rect3d_1 = require(\"./Core/Data/Rect3d\");\nObject.defineProperty(exports, \"Rect3d\", { enumerable: true, get: function () { return Rect3d_1.default; } });\nvar Rect2d_1 = require(\"./Core/Data/Rect2d\");\nObject.defineProperty(exports, \"Rect2d\", { enumerable: true, get: function () { return Rect2d_1.default; } });\nvar ModelPosition_1 = require(\"./Core/EngineEntity/ModelPosition\");\nObject.defineProperty(exports, \"ModelPosition\", { enumerable: true, get: function () { return ModelPosition_1.default; } });\nvar Physics_1 = require(\"./Core/Physics/Physics\");\nObject.defineProperty(exports, \"Physics\", { enumerable: true, get: function () { return Physics_1.default; } });\nvar Position_1 = require(\"./Core/EngineEntity/Position\");\nObject.defineProperty(exports, \"Position\", { enumerable: true, get: function () { return Position_1.default; } });\nvar Timer_1 = require(\"./Core/Common/Timer\");\nObject.defineProperty(exports, \"Timer\", { enumerable: true, get: function () { return Timer_1.default; } });\nvar IdGenerator_1 = require(\"./Core/Common/IdGenerator\");\nObject.defineProperty(exports, \"generateId\", { enumerable: true, get: function () { return IdGenerator_1.generateId; } });\nvar ConfigMapBuilder_1 = require(\"./Core/Builder/ConfigMapBuilder\");\nObject.defineProperty(exports, \"ConfigEntity\", { enumerable: true, get: function () { return ConfigMapBuilder_1.ConfigEntity; } });\nvar Events_1 = require(\"./Core/Events\");\nObject.defineProperty(exports, \"Events\", { enumerable: true, get: function () { return Events_1.default; } });\nvar CollisionDetection_1 = require(\"./Core/Physics/CollisionDetection\");\nObject.defineProperty(exports, \"Collision\", { enumerable: true, get: function () { return CollisionDetection_1.Collision; } });\nObject.defineProperty(exports, \"CollisionDetection\", { enumerable: true, get: function () { return CollisionDetection_1.CollisionDetection; } });\nObject.defineProperty(exports, \"Polygon\", { enumerable: true, get: function () { return CollisionDetection_1.Polygon; } });\nvar Camera_1 = require(\"./Core/Camera\");\nObject.defineProperty(exports, \"Camera\", { enumerable: true, get: function () { return Camera_1.default; } });\nvar Coordinate_1 = require(\"./Core/Data/Coordinate\");\nObject.defineProperty(exports, \"Coordinate\", { enumerable: true, get: function () { return Coordinate_1.default; } });\nvar Plane3d_1 = require(\"./Entity/Plane3d\");\nObject.defineProperty(exports, \"Plane3d\", { enumerable: true, get: function () { return Plane3d_1.default; } });\nvar BitmapConfigParser_1 = require(\"./AssetLoader/BitmapConfigParser\");\nObject.defineProperty(exports, \"BitmapConfigParser\", { enumerable: true, get: function () { return BitmapConfigParser_1.default; } });\nvar ModelObject3d_1 = require(\"./Core/EngineEntity/ModelObject3d\");\nObject.defineProperty(exports, \"ModelObject3d\", { enumerable: true, get: function () { return ModelObject3d_1.default; } });\nvar Object3d_1 = require(\"./Entity/Object3d\");\nObject.defineProperty(exports, \"Object3d\", { enumerable: true, get: function () { return Object3d_1.default; } });\nvar RenderOption_1 = require(\"./Core/Data/RenderOption\");\nObject.defineProperty(exports, \"RenderType\", { enumerable: true, get: function () { return RenderOption_1.RenderType; } });\nvar TextureVertexModel_1 = require(\"./Core/Data/TextureVertexModel\");\nObject.defineProperty(exports, \"TextureVertexModel\", { enumerable: true, get: function () { return TextureVertexModel_1.default; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Resource = /** @class */ (function () {\n    function Resource() {\n    }\n    return Resource;\n}());\nexports.default = Resource;\n//# sourceMappingURL=Resource.js.map","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Moveable_1 = require(\"./Moveable\");\nvar BasicSprite = /** @class */ (function (_super) {\n    __extends(BasicSprite, _super);\n    function BasicSprite(rect, spriteModel) {\n        var _this = _super.call(this) || this;\n        _this.spriteModel = spriteModel;\n        _this.spriteModel.setRect(rect);\n        _this.entities.push(_this.spriteModel);\n        return _this;\n    }\n    BasicSprite.prototype.render = function (engineHelper) {\n        this.spriteModel.render(engineHelper);\n    };\n    BasicSprite.prototype.update = function (engineHelper) {\n        this.spriteModel.update(engineHelper);\n    };\n    BasicSprite.prototype.init = function (engineHelper) {\n        _super.prototype.init.call(this, engineHelper);\n        this.setRect(this.spriteModel.getRect());\n        this.updatePhysicsPosition();\n    };\n    return BasicSprite;\n}(Moveable_1.default));\nexports.default = BasicSprite;\n//# sourceMappingURL=BasicSprite.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RendererNotification = exports.RendererSubscription = void 0;\nvar RenderOption_1 = require(\"./Data/RenderOption\");\nvar Entity3DProgram_1 = require(\"./WebGL/EntityProgram/Entity3DProgram\");\nvar EntityColorProgram_1 = require(\"./WebGL/EntityProgram/EntityColorProgram\");\nvar WebGLContext_1 = require(\"./WebGL/Base/WebGLContext\");\nvar Texture_1 = require(\"./Buffer/Texture\");\nvar NotificationQueue_1 = require(\"./Common/NotificationQueue\");\nvar SubscriberPool_1 = require(\"./Common/SubscriberPool\");\nvar RendererSubscription = /** @class */ (function () {\n    function RendererSubscription() {\n    }\n    RendererSubscription.CREATE_TEXTURE = new SubscriberPool_1.Subscription(\"Renderer#CreateTexture\");\n    RendererSubscription.REGISTER_ENTITY = new SubscriberPool_1.Subscription(\"Renderer#RegisterEntity\");\n    RendererSubscription.createTexturePayload = function (object, resourcesLoading) { return [object, resourcesLoading]; };\n    RendererSubscription.registerEntityPayload = function (entity, buffer) { return [\n        entity,\n        buffer,\n    ]; };\n    return RendererSubscription;\n}());\nexports.RendererSubscription = RendererSubscription;\nvar RendererNotification = /** @class */ (function () {\n    function RendererNotification() {\n    }\n    RendererNotification.NOTIFICATION_PRE_RENDER_KEY = \"Renderer#Prerender\";\n    RendererNotification.NOTIFICATION_RENDER_KEY = \"Renderer#Render\";\n    RendererNotification.NOTIFICATION_INIT_KEY = \"Renderer#Init\";\n    RendererNotification.UPDATE_PROJECTION_MATRIX = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"UPDATE_PROJECTION_MATRIX\");\n    RendererNotification.RESIZE_SCREEN = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"RESIZE_SCREEN\");\n    RendererNotification.CREATE_TEXTURE = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_INIT_KEY, \"CREATE_TEXTURE\");\n    RendererNotification.REGISTER_ENTITY = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_INIT_KEY, \"REGISTER_ENTITY\");\n    RendererNotification.registerEntity = function (entity, modelData) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.REGISTER_ENTITY, [\n            entity,\n            modelData,\n        ]);\n    };\n    RendererNotification.UPDATE_BUFFER = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"UPDATE_BUFFER\");\n    RendererNotification.updateBuffer = function (entity, buffer) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.UPDATE_BUFFER, [\n            entity,\n            buffer,\n        ]);\n    };\n    RendererNotification.createTexture = function (object, resourcesLoading) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.CREATE_TEXTURE, [\n            object,\n            resourcesLoading,\n        ]);\n    };\n    RendererNotification.SET_LIGHTING = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"SET_LIGHTING\");\n    RendererNotification.setLighting = function (light) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.SET_LIGHTING, [light]);\n    };\n    RendererNotification.RENDER_ENTITY = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_RENDER_KEY, \"RENDER_ENTITY\");\n    RendererNotification.renderEntity = function (entity, model) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.RENDER_ENTITY, [\n            entity,\n            model,\n        ]);\n    };\n    return RendererNotification;\n}());\nexports.RendererNotification = RendererNotification;\nvar Renderer = /** @class */ (function () {\n    function Renderer(args, webGLContainer, camera, notificationQueue, subscriberPool) {\n        var _this = this;\n        this.textureReg = {};\n        this._renderEntities = {};\n        this.cachedModelData = {};\n        this.resizeViewPort = function () {\n            _this.glContext.resizeViewPort(_this.webGLContainer.canvas);\n        };\n        this.updatePerspective = function () {\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.updatePerspective(_this.camera.camera3d.frustum);\n            }\n            if (_this.shaderColourProgram) {\n                _this.shaderColourProgram.updatePerspective(_this.camera.camera3d.frustum);\n            }\n        };\n        this.delete = function () {\n            Object.values(_this.textureReg).forEach(function (texReg) {\n                var texture = texReg.texture;\n                if (texture.texture) {\n                    _this.glContext.deleteTexture(texture.texture);\n                }\n                texture.texture = undefined;\n                texture.texUnit = undefined;\n            });\n            Texture_1.default.textureCount = 0;\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.delete();\n            }\n            if (_this.shaderColourProgram) {\n                _this.shaderColourProgram.delete();\n            }\n            _this.glContext.destroyWebGL();\n        };\n        this.setLighting = function (light) {\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.setLight(light, _this.camera.camera3d);\n            }\n            else {\n                throw new Error(\"Lighting is set without any 3D entities\");\n            }\n        };\n        this.updateBuffer = function (entity, buffer) {\n            var opt = entity.getOpt();\n            var program = _this._getProgramOpt(opt);\n            program.updateBuffer(entity, buffer);\n        };\n        this._getProgram3D = function (opt) {\n            var program;\n            if (_this._isPlain(opt)) {\n                throw new Error(\"Plain no longer supported\");\n            }\n            else {\n                program = _this.shader3DProgram;\n            }\n            return program;\n        };\n        this._getProgramOpt = function (opt) {\n            var program;\n            if (RenderOption_1.ShaderType.COLOUR === opt.shaderType) {\n                program = _this.shaderColourProgram;\n            }\n            else if (RenderOption_1.ShaderType.THREE_DIMENSION === opt.shaderType ||\n                RenderOption_1.ShaderType.TWO_DIMENSION === opt.shaderType) {\n                program = _this._getProgram3D(opt);\n            }\n            else {\n                throw new Error(\"unsupported opt shader type\");\n            }\n            return program;\n        };\n        this._defRender = function () {\n            _this._defRenderTop(false);\n            _this._defRenderTop(true);\n        };\n        this._render = function (entity, model) {\n            if (entity.hidden) {\n                return;\n            }\n            var opt = entity.getOpt();\n            var payload = [entity, model];\n            if (RenderOption_1.ShaderType.COLOUR === opt.shaderType) {\n                _this._renderEntities[RenderOption_1.ShaderType.COLOUR].push(payload);\n            }\n            else if (RenderOption_1.ShaderType.THREE_DIMENSION === opt.shaderType) {\n                _this._renderEntities[RenderOption_1.ShaderType.THREE_DIMENSION].push(payload);\n            }\n            else if (RenderOption_1.ShaderType.TWO_DIMENSION === opt.shaderType) {\n                _this._renderEntities[RenderOption_1.ShaderType.TWO_DIMENSION].push(payload);\n            }\n        };\n        this.bindBuffer = function () {\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.bindBuffer();\n            }\n            if (_this.shaderColourProgram) {\n                _this.shaderColourProgram.bindBuffer();\n            }\n        };\n        this._resetDefferred = function () {\n            var _a;\n            _this._renderEntities = (_a = {},\n                _a[RenderOption_1.ShaderType.COLOUR] = [],\n                _a[RenderOption_1.ShaderType.THREE_DIMENSION] = [],\n                _a[RenderOption_1.ShaderType.TWO_DIMENSION] = [],\n                _a);\n        };\n        this.handleNotification = function (notification) {\n            var updatePerspective = false;\n            switch (notification.action) {\n                case RendererNotification.RENDER_ENTITY.action:\n                    _this._render(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.UPDATE_PROJECTION_MATRIX.action:\n                    updatePerspective = true;\n                    break;\n                case RendererNotification.RESIZE_SCREEN.action:\n                    _this.resizeViewPort();\n                    updatePerspective = true;\n                    break;\n                case RendererNotification.CREATE_TEXTURE.action:\n                    _this.createTexture(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.UPDATE_BUFFER.action:\n                    _this.updateBuffer(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.REGISTER_ENTITY.action:\n                    _this.registerEntity(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.SET_LIGHTING.action:\n                    _this.setLighting(notification.data[0]);\n                    break;\n                default:\n                    console.error(\"unhandled notification: \", notification);\n                    break;\n            }\n            if (updatePerspective) {\n                _this.updatePerspective();\n            }\n        };\n        if (!args.world) {\n            throw new Error(\"world not defined\");\n        }\n        this.notificationQueue = notificationQueue;\n        this.subscriberPool = subscriberPool;\n        this.camera = camera;\n        this.world = args.world;\n        this.webGLContainer = webGLContainer;\n        this.ctx = this.webGLContainer.getCtx();\n        this.glContext = new WebGLContext_1.default(this.ctx);\n        this.glContext.setupDefault();\n        this.subscriberPool.listen(RendererSubscription.CREATE_TEXTURE, function (data) {\n            var object = data[0], resourcesLoading = data[1];\n            _this.createTexture(object, resourcesLoading);\n        });\n        this.subscriberPool.listen(RendererSubscription.REGISTER_ENTITY, function (data) {\n            var entity = data[0], buffer = data[1];\n            _this.registerEntity(entity, buffer);\n        });\n    }\n    Renderer.prototype._isPlain = function (opt) {\n        return opt.renderType === RenderOption_1.RenderType.PLAIN;\n    };\n    Renderer.prototype._defRenderTop = function (isTop) {\n        // render colour\n        var colourModel = this._renderEntities[RenderOption_1.ShaderType.COLOUR].filter(function (e) { return !!e[0].isTop === isTop; });\n        if (colourModel.length > 0) {\n            this.shaderColourProgram.render(colourModel, this.camera.camera3d);\n        }\n        var model3d = this._renderEntities[RenderOption_1.ShaderType.THREE_DIMENSION].filter(function (e) { return !!e[0].isTop === isTop; });\n        if (model3d.length > 0) {\n            this.shader3DProgram.render3DShadowMap(model3d, this.resizeViewPort);\n            this.shader3DProgram.render(model3d, this.camera.camera3d, this.textureReg, false);\n        }\n        var model2d = this._renderEntities[RenderOption_1.ShaderType.TWO_DIMENSION].filter(function (e) { return !!e[0].isTop === isTop; });\n        if (model2d.length > 0) {\n            this.shader3DProgram.render(model2d, this.camera.camera3d, this.textureReg, true);\n        }\n    };\n    Renderer.prototype.init = function () {\n        this.readMessages(RendererNotification.NOTIFICATION_INIT_KEY);\n    };\n    Renderer.prototype.readMessages = function (key, isUniqueAction) {\n        if (isUniqueAction === void 0) { isUniqueAction = false; }\n        var message;\n        var unique = {};\n        while ((message = this.notificationQueue.take(key))) {\n            if (!isUniqueAction || unique[message.action] === undefined) {\n                this.handleNotification(message);\n                if (isUniqueAction) {\n                    unique[message.action] = true;\n                }\n            }\n        }\n    };\n    Renderer.prototype._lazyLoadProgram = function (opt) {\n        if (RenderOption_1.ShaderType.COLOUR === opt.shaderType) {\n            if (!this.shaderColourProgram) {\n                this.shaderColourProgram = new EntityColorProgram_1.default(this.ctx);\n            }\n        }\n        else if (RenderOption_1.ShaderType.THREE_DIMENSION === opt.shaderType ||\n            RenderOption_1.ShaderType.TWO_DIMENSION === opt.shaderType) {\n            if (!this.shader3DProgram) {\n                this.shader3DProgram = new Entity3DProgram_1.default(this.ctx);\n            }\n        }\n        else {\n            console.error(this, opt);\n            throw new Error(\"unsupported opt shader type\");\n        }\n        this.updatePerspective();\n    };\n    Renderer.prototype.registerEntity = function (object, modelData) {\n        var opt = object.getOpt();\n        this._lazyLoadProgram(opt);\n        var program = this._getProgramOpt(opt);\n        if (!this.cachedModelData[modelData.$id]) {\n            program.registerEntity(object, modelData.vertices);\n            this.cachedModelData[modelData.$id] = object.rendererBufferId;\n        }\n        else {\n            object.rendererBufferId = this.cachedModelData[modelData.$id];\n        }\n    };\n    Renderer.prototype.render = function (time, engineHelper) {\n        this.glContext.clear();\n        this.readMessages(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, true);\n        this.camera.commitProjectionView();\n        engineHelper.setTime(time);\n        // reinitialse next cycle\n        this._resetDefferred();\n        this.world.render();\n        engineHelper.renderFont();\n        this.readMessages(RendererNotification.NOTIFICATION_RENDER_KEY);\n        this._defRender();\n    };\n    Renderer.prototype.createTexture = function (object, resourcesLoading) {\n        var src = object.getTextureSource();\n        if (src === undefined) {\n            console.error(\"src is undefined when trying to create texture\", object);\n            throw new Error(\"src is undefined when trying to create texture\");\n        }\n        object.rendererTextureRef = src;\n        var textureReg = this.textureReg[src];\n        if (!textureReg) {\n            var texture = new Texture_1.default(src, this.ctx);\n            this.textureReg[src] = {\n                texture: texture,\n            };\n            resourcesLoading.push(texture.load);\n        }\n        else if (textureReg.texture && textureReg.texture.error) {\n            console.error(\"there was an error while trying to load texture\", textureReg);\n            throw new Error(\"there was an error while trying to load texture\");\n        }\n    };\n    return Renderer;\n}());\nexports.default = Renderer;\n//# sourceMappingURL=Renderer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Core/Builder/ShaderEntityBuilder\");\nvar Colour_1 = require(\"../Core/Data/Colour\");\nvar ColourVertexModel_1 = require(\"../Core/Data/ColourVertexModel\");\nvar RenderOption_1 = require(\"../Core/Data/RenderOption\");\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar EngineObjectHelper_1 = require(\"../Core/EngineEntity/EngineObjectHelper\");\nvar LineColour = /** @class */ (function (_super) {\n    __extends(LineColour, _super);\n    function LineColour(point1, point2, thickness, rgba) {\n        var _this = _super.call(this) || this;\n        _this.point1 = point1;\n        _this.point2 = point2;\n        _this.thickness = thickness;\n        _this.rgba = rgba;\n        return _this;\n    }\n    LineColour.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    LineColour.prototype.updatePosition = function (point1, point2) {\n        this.point1 = point1;\n        this.point2 = point2;\n        var lX = point2.x - point1.x;\n        var lY = point2.y - point1.y;\n        var length = Math.sqrt(lX * lX + lY * lY);\n        var angle = Math.atan2(lY, lX) * (180 / Math.PI);\n        var mX = (point1.x + point2.x) / 2;\n        var mY = (point1.y + point2.y) / 2;\n        this.center(mX, mY, 0);\n        this.rotateOrigin(mX, mY, 0);\n        this.angleZ(angle);\n        this.scale(length, this.thickness, 1.0);\n    };\n    LineColour.prototype.init = function (engineHelper) {\n        this.vertexModel = new ColourVertexModel_1.default().fillRenderUnits(EngineObjectHelper_1.default.vertex.planeXYColour(this.rgba || new Colour_1.default(0, 0, 0, 0)));\n        this.updatePosition(this.point1, this.point2);\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.TRIANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.COLOUR;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .build(this, renderOpt);\n    };\n    return LineColour;\n}(EngineObject_1.default));\nexports.default = LineColour;\n//# sourceMappingURL=LineColour.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Core/Builder/ShaderEntityBuilder\");\nvar ColourVertexModel_1 = require(\"../Core/Data/ColourVertexModel\");\nvar RenderOption_1 = require(\"../Core/Data/RenderOption\");\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar EngineObjectHelper_1 = require(\"../Core/EngineEntity/EngineObjectHelper\");\nvar TriangleColour2d = /** @class */ (function (_super) {\n    __extends(TriangleColour2d, _super);\n    function TriangleColour2d(rect, rgba) {\n        var _this = _super.call(this) || this;\n        _this.vertexModel = new ColourVertexModel_1.default().fillRenderUnits(EngineObjectHelper_1.default.vertex.triangleXYColour(rgba));\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    TriangleColour2d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    TriangleColour2d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.TRIANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.COLOUR;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .build(this, renderOpt);\n    };\n    return TriangleColour2d;\n}(EngineObject_1.default));\nexports.default = TriangleColour2d;\n//# sourceMappingURL=TriangleColour2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Builder/ShaderEntityBuilder\");\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar EngineObject_1 = require(\"./EngineObject\");\nvar ModelObject2d = /** @class */ (function (_super) {\n    __extends(ModelObject2d, _super);\n    function ModelObject2d(rect, vertexModel) {\n        var _this = _super.call(this) || this;\n        _this.vertexModel = vertexModel;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    ModelObject2d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.RECTANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.TWO_DIMENSION;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .createTexture(this.vertexModel.textureSource)\n            .build(this, renderOpt);\n    };\n    return ModelObject2d;\n}(EngineObject_1.default));\nexports.default = ModelObject2d;\n//# sourceMappingURL=ModelObject2d.js.map","export default \"precision mediump int;\\nprecision mediump float;\\n\\nattribute vec3 a_position;\\nattribute vec2 a_texture_coords;\\nattribute vec3 a_normal;\\n\\nuniform mat4 u_projection;\\nuniform mat4 u_view;\\nuniform mat4 u_model;\\n\\nuniform vec3 u_light1_pos;\\nuniform vec3 u_light1_intensities;\\nuniform float u_light1_attenuation;\\nuniform float u_light1_ambient_coefficient;\\n\\nvarying vec2 v_texture_coords;\\nvarying vec3 v_position;\\nvarying vec3 v_normal;\\nvarying mat4 v_model;\\n\\nvarying vec3 v_light1_pos;\\nvarying vec3 v_light1_intensities;\\nvarying float v_light1_attenuation;\\nvarying float v_light1_ambient_coefficient;\\nvarying float v_diffuseCoefficient;\\nvarying float v_attenuation;\\n\\nstruct Light {\\n  vec3 position;\\n  vec3 intensities;\\n  float ambientCoefficient;\\n  float attenuation;\\n};\\n\\nfloat transpose(float m) {\\n  return m;\\n}\\n\\nmat2 transpose(mat2 m) {\\n  return mat2(m[0][0], m[1][0],\\n    m[0][1], m[1][1]);\\n}\\n\\nmat3 transpose(mat3 m) {\\n  return mat3(m[0][0], m[1][0], m[2][0],\\n    m[0][1], m[1][1], m[2][1],\\n    m[0][2], m[1][2], m[2][2]);\\n}\\n\\nmat4 transpose(mat4 m) {\\n  return mat4(m[0][0], m[1][0], m[2][0], m[3][0],\\n    m[0][1], m[1][1], m[2][1], m[3][1],\\n    m[0][2], m[1][2], m[2][2], m[3][2],\\n    m[0][3], m[1][3], m[2][3], m[3][3]);\\n}\\n\\nfloat inverse(float m) {\\n  return 1.0 / m;\\n}\\n\\nmat2 inverse(mat2 m) {\\n  return mat2(m[1][1], -m[0][1],\\n    -m[1][0], m[0][0]) / (m[0][0] * m[1][1] - m[0][1] * m[1][0]);\\n}\\n\\nmat3 inverse(mat3 m) {\\n  float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\\n  float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\\n  float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\\n\\n  float b01 = a22 * a11 - a12 * a21;\\n  float b11 = -a22 * a10 + a12 * a20;\\n  float b21 = a21 * a10 - a11 * a20;\\n\\n  float det = a00 * b01 + a01 * b11 + a02 * b21;\\n\\n  return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\\n    b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\\n    b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\\n}\\n\\nmat4 inverse(mat4 m) {\\n  float\\n  a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\\n    a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\\n    a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\\n    a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\\n\\n    b00 = a00 * a11 - a01 * a10,\\n    b01 = a00 * a12 - a02 * a10,\\n    b02 = a00 * a13 - a03 * a10,\\n    b03 = a01 * a12 - a02 * a11,\\n    b04 = a01 * a13 - a03 * a11,\\n    b05 = a02 * a13 - a03 * a12,\\n    b06 = a20 * a31 - a21 * a30,\\n    b07 = a20 * a32 - a22 * a30,\\n    b08 = a20 * a33 - a23 * a30,\\n    b09 = a21 * a32 - a22 * a31,\\n    b10 = a21 * a33 - a23 * a31,\\n    b11 = a22 * a33 - a23 * a32,\\n\\n    det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\\n\\n  return mat4(\\n    a11 * b11 - a12 * b10 + a13 * b09,\\n    a02 * b10 - a01 * b11 - a03 * b09,\\n    a31 * b05 - a32 * b04 + a33 * b03,\\n    a22 * b04 - a21 * b05 - a23 * b03,\\n    a12 * b08 - a10 * b11 - a13 * b07,\\n    a00 * b11 - a02 * b08 + a03 * b07,\\n    a32 * b02 - a30 * b05 - a33 * b01,\\n    a20 * b05 - a22 * b02 + a23 * b01,\\n    a10 * b10 - a11 * b08 + a13 * b06,\\n    a01 * b08 - a00 * b10 - a03 * b06,\\n    a30 * b04 - a31 * b02 + a33 * b00,\\n    a21 * b02 - a20 * b04 - a23 * b00,\\n    a11 * b07 - a10 * b09 - a12 * b06,\\n    a00 * b09 - a01 * b07 + a02 * b06,\\n    a31 * b01 - a30 * b03 - a32 * b00,\\n    a20 * b03 - a21 * b01 + a22 * b00) / det;\\n}\\n\\nfloat pow3(float x, float y) {\\n  return exp2(y * log2(x));\\n}\\n\\nvec3 pow2(vec3 x, vec3 y) {\\n  return vec3(pow3(x.x, y.x), pow3(x.y, y.y), pow3(x.z, y.z));\\n}\\n\\nvoid main(void) {\\n\\n  v_texture_coords = a_texture_coords;\\n  v_position = a_position;\\n  v_normal = a_normal;\\n  v_model = u_model;\\n\\n  v_light1_pos = u_light1_pos;\\n  v_light1_intensities = u_light1_intensities;\\n  v_light1_attenuation = u_light1_attenuation;\\n  v_light1_ambient_coefficient = u_light1_ambient_coefficient;\\n\\n  Light light1;\\n  light1.intensities = v_light1_intensities;\\n  light1.position = v_light1_pos;\\n  light1.attenuation = v_light1_attenuation;\\n  light1.ambientCoefficient = v_light1_ambient_coefficient;\\n\\n  vec3 surfacePos = vec3(v_model * vec4(v_position, 1));\\n\\n  mat3 normalMatrix = transpose(inverse(mat3(v_model)));\\n  vec3 normal = normalize(normalMatrix * v_normal);\\n\\n  vec3 fragPosition = vec3(v_model * vec4(v_position, 1));\\n\\n  vec3 surfaceToLight = light1.position - fragPosition;\\n\\n  float brightness = dot(normal, surfaceToLight) / (length(surfaceToLight) * length(normal));\\n  if (brightness > 1.0) {\\n    brightness = 1.0;\\n  } else if (brightness < 0.0) {\\n    brightness = 0.0;\\n  }\\n\\n  float distanceToLight = length(light1.position - surfacePos);\\n\\n  v_diffuseCoefficient = max(0.0, dot(normal, surfaceToLight));\\n  v_attenuation = 1.0 / (1.0 + light1.attenuation * pow3(distanceToLight, 2.0));\\n  gl_Position = u_projection * u_view * u_model * vec4(a_position, 1.0);\\n}\";","import {\n  Camera,\n  EntityManager,\n  Rect3d,\n  EngineHelper,\n  Coordinate,\n  Plane3d,\n  CollisionDetection,\n  PlaneType\n} from \"../dist/index\";\n\nexport default class Ground3d extends EntityManager {\n  cacheId: string;\n  textureSource: string;\n  camera: Camera;\n\n  constructor(rect: Rect3d, cacheId: string) {\n    super();\n    this.cacheId = cacheId;\n    this.setRect(rect);\n  }\n\n  render(engineHelper: EngineHelper) {\n    this.entities.forEach(element => element.render(engineHelper));\n  }\n\n  isPointInGround(coordinate: Coordinate): Plane3d | null {\n    let insideElement: Plane3d | null = null;\n    for (const key in this.entities) {\n      if (this.entities.hasOwnProperty(key)) {\n        const element = this.entities[key];\n        const isInside = CollisionDetection.isPointInPlane3d(\n          this.camera.camera3d,\n          element as Plane3d,\n          coordinate.x,\n          coordinate.y\n        );\n        if (isInside) {\n          insideElement = element as Plane3d;\n          break;\n        }\n      }\n    }\n    return insideElement;\n  }\n\n  init(engineHelper: EngineHelper) {\n    this.camera = engineHelper.camera;\n    this.createEntities(engineHelper);\n    this.rotateOriginRect(this.getRect());\n    this.angleX(this.position.ax);\n    this.angleY(this.position.ay);\n    this.angleZ(this.position.az);\n    super.init(engineHelper);\n  }\n\n  createEntities(engineHelper: EngineHelper) {\n    const width = this.position.width;\n    const length = this.position.length;\n    const x = this.position.x;\n    const y = this.position.y;\n    const z = this.position.z;\n    const vertexModel = engineHelper.newVertexModel(this.cacheId, PlaneType.XZ);\n    for (let index = 0; index < width; index++) {\n      for (let index2 = 0; index2 < length; index2++) {\n        const rect = new Rect3d(\n          x + index - width / 2.0,\n          y,\n          z + index2 - length / 2.0,\n          1,\n          1,\n          1\n        );\n        const plane = new Plane3d(rect, vertexModel);\n        this.entities.push(plane);\n      }\n    }\n  }\n\n  center(x: number, y: number, z: number) {\n    const originX = this.position.x;\n    const originZ = this.position.z;\n    if (Math.abs(originX - x) > 10e-6 || Math.abs(originZ - z) > 10e-6) {\n      for (let index = 0; index < this.entities.length; index++) {\n        const element = this.entities[index];\n        element.translate(x - originX, 0, z - originZ);\n      }\n      this.position.x = x;\n      this.position.z = z;\n    }\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EntityManager_1 = require(\"./EntityManager\");\nvar Plane2d_1 = require(\"../Entity/Plane2d\");\nvar EntityManager2d = /** @class */ (function (_super) {\n    __extends(EntityManager2d, _super);\n    function EntityManager2d() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EntityManager2d.prototype.setLayer = function (priority) {\n        this.entities.forEach(function (entity) {\n            if (entity instanceof Plane2d_1.default) {\n                entity.setLayer(priority);\n            }\n        });\n        this.position.z = -1 * priority;\n        return this;\n    };\n    EntityManager2d.prototype.init = function (engineHelper) {\n        _super.prototype.init.call(this, engineHelper);\n        this.setLayer(-this.position.z);\n    };\n    return EntityManager2d;\n}(EntityManager_1.default));\nexports.default = EntityManager2d;\n//# sourceMappingURL=EntityManager2d.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VertexParser = /** @class */ (function () {\n    function VertexParser(raw) {\n        if (typeof raw === \"string\") {\n            this.vertices = raw.split(\",\").map(parseFloat);\n        }\n        else if (raw instanceof Array) {\n            this.vertices = raw;\n        }\n        else {\n            console.error(\"Unexpected obj type\");\n        }\n    }\n    return VertexParser;\n}());\nexports.default = VertexParser;\n//# sourceMappingURL=VertexParser.js.map","export default \"\\nprecision mediump float;\\n\\nvec4 packDepthToRGBA(const float v) {\\n  const float PackUpscale = 256. / 255.;\\n  const vec3 PackFactors = vec3(256. * 256. * 256., 256. * 256., 256.);\\n  const float ShiftRight8 = 1. / 256.;\\n\\n  vec4 r = vec4(fract(v * PackFactors), v);\\n  r.yzw -= r.xyz * ShiftRight8; // tidy overflow\\n  return r * PackUpscale;\\n}\\n\\nvoid main(void) {\\n  gl_FragColor = packDepthToRGBA(gl_FragCoord.z);\\n}\\n\\n\";","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseProgram = /** @class */ (function () {\n    function BaseProgram(ctx) {\n        this.ctx = ctx;\n    }\n    BaseProgram.prototype.compileShaders = function (vertexShaderContent, fragmentShaderContent) {\n        var ctx = this.ctx;\n        var vertexShader = ctx.createShader(ctx.VERTEX_SHADER);\n        var fragmentShader = ctx.createShader(ctx.FRAGMENT_SHADER);\n        if (!vertexShader || !fragmentShader) {\n            throw new Error(\"Unable to create vertex or fragment shader\");\n        }\n        var fragmentChar = fragmentShaderContent;\n        var vertexChar = vertexShaderContent;\n        ctx.shaderSource(vertexShader, vertexChar);\n        ctx.compileShader(vertexShader);\n        ctx.shaderSource(fragmentShader, fragmentChar);\n        ctx.compileShader(fragmentShader);\n        if (!ctx.getShaderParameter(vertexShader, ctx.COMPILE_STATUS)) {\n            var error = \"could not compile vertex shader:\" + ctx.getShaderInfoLog(vertexShader);\n            console.error(error);\n            throw new Error(error);\n        }\n        if (!ctx.getShaderParameter(fragmentShader, ctx.COMPILE_STATUS)) {\n            var error = \"could not compile fragment shader:\" + ctx.getShaderInfoLog(fragmentShader);\n            console.error(error);\n            throw new Error(error);\n        }\n        var program = ctx.createProgram();\n        ctx.attachShader(program, vertexShader);\n        ctx.attachShader(program, fragmentShader);\n        ctx.linkProgram(program);\n        ctx.validateProgram(program);\n        if (!ctx.getProgramParameter(program, ctx.LINK_STATUS)) {\n            var error = \"Link failed: \" + ctx.getProgramInfoLog(program);\n            console.error(error);\n            throw new Error(error);\n        }\n        console.log('Shader program compiled successfully');\n        return program;\n    };\n    BaseProgram.prototype.delete = function () {\n        this.ctx.deleteProgram(this.program);\n    };\n    BaseProgram.prototype._bindProgram = function (program) {\n        this.ctx.useProgram(program);\n    };\n    BaseProgram.prototype._unbindProgram = function () { };\n    return BaseProgram;\n}());\nexports.default = BaseProgram;\n//# sourceMappingURL=BaseProgram.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FntFontReader_1 = require(\"./FntFontReader\");\nvar BitmapConfigParser_1 = require(\"./BitmapConfigParser\");\nvar VertexParser_1 = require(\"./VertexParser\");\nvar ResourceResolver = /** @class */ (function () {\n    function ResourceResolver() {\n    }\n    ResourceResolver.bmFontResolver = function (_) {\n        return function (result) {\n            result.registerFont(new FntFontReader_1.default(result.data));\n            return result;\n        };\n    };\n    ResourceResolver.bitmapResolver = function (engineHelper, bitmapWidth, bitmapHeight, precision) {\n        return function (result) {\n            var bitmapLoader = new BitmapConfigParser_1.default(result.data, bitmapWidth, bitmapHeight, precision);\n            var textureSource = bitmapLoader.getTextureSource();\n            for (var key in bitmapLoader.getMap()) {\n                if (bitmapLoader.map.hasOwnProperty(key)) {\n                    var uv = bitmapLoader.map[key];\n                    engineHelper.addUVCache(textureSource, key, uv);\n                }\n            }\n            return result;\n        };\n    };\n    ResourceResolver.objResolverMultiple = function (engineHelper, sources) {\n        return function (result) {\n            sources.map(function (_a) {\n                var textureSource = _a.textureSource, name = _a.name;\n                return engineHelper.addVertexUvCache(textureSource, name, new VertexParser_1.default(result.data).vertices);\n            });\n        };\n    };\n    ResourceResolver.objResolver = function (engineHelper, textureSource, name) {\n        return function (result) {\n            engineHelper.addVertexUvCache(textureSource, name, new VertexParser_1.default(result.data).vertices);\n        };\n    };\n    return ResourceResolver;\n}());\nexports.default = ResourceResolver;\n//# sourceMappingURL=ResourceResolver.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FontMetaData_1 = require(\"../Core/Data/FontMetaData\");\nvar FntFontReader = /** @class */ (function (_super) {\n    __extends(FntFontReader, _super);\n    function FntFontReader(raw) {\n        var _this = _super.call(this) || this;\n        var lines = raw.split(\"\\n\");\n        _this.context = new FontMetaData_1.FontMeta();\n        for (var lineIdx in lines) {\n            if (!lines.hasOwnProperty(lineIdx)) {\n                continue;\n            }\n            var line = lines[lineIdx];\n            _this.parseWidth(_this.context, line);\n            _this.parseHeight(_this.context, line);\n            _this.parseFilename(_this.context, line);\n            _this.parseLineHeight(_this.context, line);\n            _this.parseChar(_this.context, line);\n        }\n        return _this;\n    }\n    FntFontReader.prototype.parseChar = function (context, line) {\n        var match = line.match(FntFontReader.FONT_CHAR);\n        if (match) {\n            var font = new FontMetaData_1.FontCharacter();\n            font.charCode = parseFloat(match[1]);\n            font.x = parseFloat(match[2]);\n            font.y = parseFloat(match[3]);\n            font.width = parseFloat(match[4]);\n            font.height = parseFloat(match[5]);\n            font.xOffset = parseFloat(match[6]) / context.width;\n            font.yOffset = parseFloat(match[7]) / context.height;\n            font.char = String.fromCharCode(font.charCode);\n            context.fonts[font.char] = font;\n        }\n    };\n    FntFontReader.prototype.parseHeight = function (context, line) {\n        if (!context.height) {\n            var match = line.match(FntFontReader.HEIGHT);\n            if (match) {\n                context.height = parseFloat(match[1]);\n            }\n        }\n    };\n    FntFontReader.prototype.parseLineHeight = function (context, line) {\n        if (!context.lineHeight) {\n            var match = line.match(FntFontReader.LINE_HEIGHT);\n            if (match) {\n                context.lineHeight = parseFloat(match[1]);\n            }\n        }\n    };\n    FntFontReader.prototype.parseWidth = function (context, line) {\n        if (!context.width) {\n            var match = line.match(FntFontReader.WIDTH);\n            if (match) {\n                context.width = parseFloat(match[1]);\n            }\n        }\n    };\n    FntFontReader.prototype.parseFilename = function (context, line) {\n        if (!context.filename) {\n            var match = line.match(FntFontReader.FILENAME);\n            if (match) {\n                context.filename = match[1];\n            }\n        }\n    };\n    FntFontReader.FILENAME = /file=\"([\\w\\d\\W\\D]+)\"/;\n    FntFontReader.WIDTH = /scaleW=([\\d]+)/;\n    FntFontReader.HEIGHT = /scaleH=([\\d]+)/;\n    FntFontReader.LINE_HEIGHT = /lineHeight=([\\d]+)/;\n    FntFontReader.FONT_CHAR = new RegExp(\"char[\\\\s]+\" +\n        [\"id\", \"x\", \"y\", \"width\", \"height\", \"xoffset\", \"yoffset\"]\n            .map(function (column) { return \"\".concat(column, \"=([-\\\\d]+)[\\\\s]+\"); })\n            .reduce(function (sum, str) { return sum + str; }));\n    return FntFontReader;\n}(FontMetaData_1.default));\nexports.default = FntFontReader;\n//# sourceMappingURL=FntFontReader.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColourRenderUnit = exports.TextureRenderUnit = exports.RenderUnit = exports.Colour = exports.TextureUnit = void 0;\nvar Coordinate_1 = require(\"./Coordinate\");\nvar TextureUnit = /** @class */ (function () {\n    function TextureUnit() {\n        this.u = 0.0;\n        this.v = 0.0;\n    }\n    return TextureUnit;\n}());\nexports.TextureUnit = TextureUnit;\nvar Colour = /** @class */ (function () {\n    function Colour() {\n        this.r = 0.0;\n        this.g = 0.0;\n        this.b = 0.0;\n        this.a = 0.0;\n    }\n    return Colour;\n}());\nexports.Colour = Colour;\nvar RenderUnit = /** @class */ (function () {\n    function RenderUnit() {\n        this.vertex = new Coordinate_1.default(0, 0, 0);\n    }\n    return RenderUnit;\n}());\nexports.RenderUnit = RenderUnit;\nvar TextureRenderUnit = /** @class */ (function (_super) {\n    __extends(TextureRenderUnit, _super);\n    function TextureRenderUnit() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.texture = new TextureUnit();\n        _this.normal = new Coordinate_1.default(0, 0, 0);\n        return _this;\n    }\n    return TextureRenderUnit;\n}(RenderUnit));\nexports.TextureRenderUnit = TextureRenderUnit;\nvar ColourRenderUnit = /** @class */ (function (_super) {\n    __extends(ColourRenderUnit, _super);\n    function ColourRenderUnit() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.colour = new Colour();\n        return _this;\n    }\n    return ColourRenderUnit;\n}(RenderUnit));\nexports.ColourRenderUnit = ColourRenderUnit;\n//# sourceMappingURL=RenderUnit.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextureVertexModel_1 = require(\"../Core/Data/TextureVertexModel\");\nvar ModelObject3d_1 = require(\"../Core/EngineEntity/ModelObject3d\");\nvar Object3d = /** @class */ (function (_super) {\n    __extends(Object3d, _super);\n    function Object3d(rect, vertexUvCacheId) {\n        var _this = _super.call(this, rect, new TextureVertexModel_1.default()) || this;\n        _this.vertexUvCacheId = vertexUvCacheId;\n        return _this;\n    }\n    Object3d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    Object3d.prototype.init = function (engineHelper) {\n        this.vertexModel = engineHelper.newVertexModelUv3d(this.vertexUvCacheId);\n        _super.prototype.init.call(this, engineHelper);\n    };\n    return Object3d;\n}(ModelObject3d_1.default));\nexports.default = Object3d;\n//# sourceMappingURL=Object3d.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CollisionDetection_1 = require(\"../Physics/CollisionDetection\");\nvar VertexBuilder_1 = require(\"../Builder/VertexBuilder\");\nvar EngineObjectHelper = /** @class */ (function () {\n    function EngineObjectHelper() {\n    }\n    EngineObjectHelper.vertex = new VertexBuilder_1.VertexBuilder();\n    EngineObjectHelper.collision = new CollisionDetection_1.CollisionDetection();\n    return EngineObjectHelper;\n}());\nexports.default = EngineObjectHelper;\n//# sourceMappingURL=EngineObjectHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PlaneType = /** @class */ (function () {\n    function PlaneType(name, width, height, length, normalDirection) {\n        this.name = name;\n        this.width = width;\n        this.height = height;\n        this.length = length;\n        this.normalDirection = normalDirection;\n    }\n    PlaneType.XY = new PlaneType(\"XY\", 0, 0, 0, 0);\n    PlaneType.YX = new PlaneType(\"YX\", 0, 0, 0, 0);\n    PlaneType.XZ = new PlaneType(\"XZ\", 0, 0, 0, 0);\n    PlaneType.ZX = new PlaneType(\"ZX\", 0, 0, 0, 0);\n    PlaneType.YZ = new PlaneType(\"YZ\", 0, 0, 0, 0);\n    PlaneType.ZY = new PlaneType(\"ZY\", 0, 0, 0, 0);\n    PlaneType.BACKWARDS = -1;\n    PlaneType.FORWARD = 1;\n    return PlaneType;\n}());\nexports.default = PlaneType;\n//# sourceMappingURL=PlaneType.js.map","export default \"\\nattribute vec3 a_position;\\nattribute vec4 a_color;\\nvarying vec4 v_color;\\nuniform mat4 u_model;\\nuniform mat4 u_view;\\nuniform mat4 u_projection;\\n\\nvoid main(void) {\\n  v_color = a_color;\\n  gl_Position = u_projection * u_view * u_model * vec4(a_position, 1);\\n}\\n\\n\";","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VertexBuilder = void 0;\nvar PlaneType_1 = require(\"../Data/PlaneType\");\nvar VertexBuilder = /** @class */ (function () {\n    function VertexBuilder() {\n    }\n    VertexBuilder.prototype.toArray2D = function (vertexes) {\n        var vertexConstruct = [];\n        for (var key in vertexes) {\n            if (vertexes.hasOwnProperty(key)) {\n                var _vertex = vertexes[key];\n                vertexConstruct.push(_vertex.vertex.x);\n                vertexConstruct.push(_vertex.vertex.y);\n                vertexConstruct.push(_vertex.vertex.z);\n                vertexConstruct.push(_vertex.normal.x);\n                vertexConstruct.push(_vertex.normal.y);\n                vertexConstruct.push(_vertex.normal.z);\n                vertexConstruct.push(_vertex.texture.u);\n                vertexConstruct.push(_vertex.texture.v);\n            }\n        }\n        return vertexConstruct;\n    };\n    VertexBuilder.prototype.toTextureArray = function (vertexes) {\n        var vertexConstruct = [];\n        for (var key in vertexes) {\n            if (vertexes.hasOwnProperty(key)) {\n                var _vertex = vertexes[key];\n                vertexConstruct.push(_vertex.vertex.x);\n                vertexConstruct.push(_vertex.vertex.y);\n                vertexConstruct.push(_vertex.vertex.z);\n                vertexConstruct.push(_vertex.normal.x);\n                vertexConstruct.push(_vertex.normal.y);\n                vertexConstruct.push(_vertex.normal.z);\n                vertexConstruct.push(_vertex.texture.u);\n                vertexConstruct.push(_vertex.texture.v);\n            }\n        }\n        return vertexConstruct;\n    };\n    VertexBuilder.prototype.toColourArray = function (vertexes) {\n        var vertexConstruct = [];\n        for (var key in vertexes) {\n            if (vertexes.hasOwnProperty(key)) {\n                var _vertex = vertexes[key];\n                vertexConstruct.push(_vertex.vertex.x);\n                vertexConstruct.push(_vertex.vertex.y);\n                vertexConstruct.push(_vertex.vertex.z);\n                vertexConstruct.push(_vertex.colour.r);\n                vertexConstruct.push(_vertex.colour.g);\n                vertexConstruct.push(_vertex.colour.b);\n                vertexConstruct.push(_vertex.colour.a);\n            }\n        }\n        return vertexConstruct;\n    };\n    VertexBuilder.prototype.triangleXYColour = function (colour) {\n        var r = colour.r / 255.0;\n        var g = colour.g / 255.0;\n        var b = colour.b / 255.0;\n        var a = colour.a / 255.0;\n        var _colour = [\n            1,\n            1,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0,\n            1,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0,\n            0,\n            0,\n            r,\n            g,\n            b,\n            a,\n        ];\n        return _colour;\n    };\n    VertexBuilder.prototype.planeXYColour = function (colour) {\n        var r = colour.r / 255.0;\n        var g = colour.g / 255.0;\n        var b = colour.b / 255.0;\n        var a = colour.a / 255.0;\n        var _colour = [\n            -0.5,\n            -0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0.5,\n            -0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n            -0.5,\n            0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0.5,\n            0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n        ];\n        return _colour;\n    };\n    VertexBuilder.prototype.planeCCW = function (loc, width, height) {\n        var left = loc[0];\n        var top = loc[1];\n        var right = loc[2];\n        var bottom = loc[3];\n        var uv = [\n            left / width,\n            bottom / height,\n            left / width,\n            top / height,\n            right / width,\n            top / height,\n            right / width,\n            bottom / height,\n        ];\n        return uv;\n    };\n    VertexBuilder.prototype.planeCW = function (loc, width, height) {\n        var left = loc[0];\n        var top = loc[1];\n        var right = loc[2];\n        var bottom = loc[3];\n        var uv = [\n            right / width,\n            bottom / height,\n            right / width,\n            top / height,\n            left / width,\n            top / height,\n            left / width,\n            bottom / height,\n        ];\n        return uv;\n    };\n    VertexBuilder.prototype.planeUV = function (vertices, uv) {\n        vertices[0].texture.u = uv[4];\n        vertices[0].texture.v = uv[1];\n        vertices[2].texture.u = uv[4];\n        vertices[2].texture.v = uv[3];\n        vertices[1].texture.u = uv[0];\n        vertices[1].texture.v = uv[1];\n        vertices[3].texture.u = uv[0];\n        vertices[3].texture.v = uv[3];\n    };\n    VertexBuilder.prototype.planeXY = function (vertices) {\n        this.plane(vertices, PlaneType_1.default.XY);\n    };\n    VertexBuilder.prototype.plane = function (vertices, PLANE) {\n        switch (PLANE) {\n            case PlaneType_1.default.XY: {\n                vertices[0].vertex.x = -1 / 2;\n                vertices[0].vertex.y = -1 / 2;\n                vertices[0].normal.z = -1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.y = 1 / 2;\n                vertices[1].normal.z = -1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.y = -1 / 2;\n                vertices[2].normal.z = -1;\n                vertices[3].vertex.x = 1 / 2;\n                vertices[3].vertex.y = 1 / 2;\n                vertices[3].normal.z = -1;\n                break;\n            }\n            case PlaneType_1.default.YX: {\n                vertices[0].vertex.x = 1 / 2;\n                vertices[0].vertex.y = 1 / 2;\n                vertices[0].normal.z = 1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.y = -1 / 2;\n                vertices[2].normal.z = 1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.y = 1 / 2;\n                vertices[1].normal.z = 1;\n                vertices[3].vertex.x = -1 / 2;\n                vertices[3].vertex.y = -1 / 2;\n                vertices[3].normal.z = 1;\n                break;\n            }\n            case PlaneType_1.default.XZ: {\n                vertices[0].vertex.x = -1 / 2;\n                vertices[0].vertex.z = -1 / 2;\n                vertices[0].normal.y = 1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.y = 1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.y = 1;\n                vertices[3].vertex.x = 1 / 2;\n                vertices[3].vertex.z = 1 / 2;\n                vertices[3].normal.y = 1;\n                break;\n            }\n            case PlaneType_1.default.ZX: {\n                vertices[0].vertex.x = 1 / 2;\n                vertices[0].vertex.z = 1 / 2;\n                vertices[0].normal.y = -1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.y = -1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.y = -1;\n                vertices[3].vertex.x = -1 / 2;\n                vertices[3].vertex.z = -1 / 2;\n                vertices[3].normal.y = -1;\n                break;\n            }\n            case PlaneType_1.default.YZ: {\n                vertices[0].vertex.y = -1 / 2;\n                vertices[0].vertex.z = -1 / 2;\n                vertices[0].normal.x = -1;\n                vertices[1].vertex.y = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.x = -1;\n                vertices[2].vertex.y = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.x = -1;\n                vertices[3].vertex.y = 1 / 2;\n                vertices[3].vertex.z = 1 / 2;\n                vertices[3].normal.x = -1;\n                break;\n            }\n            case PlaneType_1.default.ZY: {\n                vertices[0].vertex.y = 1 / 2;\n                vertices[0].vertex.z = 1 / 2;\n                vertices[0].normal.x = 1;\n                vertices[2].vertex.y = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.x = 1;\n                vertices[1].vertex.y = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.x = 1;\n                vertices[3].vertex.y = -1 / 2;\n                vertices[3].vertex.z = -1 / 2;\n                vertices[3].normal.x = 1;\n                break;\n            }\n            default:\n                break;\n        }\n    };\n    VertexBuilder.prototype.circleXYColour = function (segments, colour) {\n        var r = colour.r / 255.0;\n        var g = colour.g / 255.0;\n        var b = colour.b / 255.0;\n        var a = colour.a / 255.0;\n        var increment = (2 * Math.PI) / segments;\n        var vertices = [];\n        for (var angle = -Math.PI / 2; angle < Math.PI / 2; angle += increment) {\n            var x = Math.sin(angle);\n            var y = Math.cos(angle);\n            vertices.push(x, y, 0);\n            vertices.push(r, g, b, a);\n            vertices.push(x, -y, 0);\n            vertices.push(r, g, b, a);\n        }\n        return vertices;\n    };\n    return VertexBuilder;\n}());\nexports.VertexBuilder = VertexBuilder;\n//# sourceMappingURL=VertexBuilder.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(4724);\n"],"names":["root","factory","exports","module","define","amd","self","Object","defineProperty","value","Shader3DProgram_1","RenderOption_1","Entity3DProgram","ctx","this","program","default","prototype","updatePerspective","projectionMatrix","bindProgram","glSetProjectMatrix","delete","arrayBuffer","setLight","light","camera","updateBuffer","entity","buffer","opt","getOpt","ShaderType","THREE_DIMENSION","shaderType","buffReg","bufferReg","rendererBufferId","length","verticesSize","console","error","bufferSub","offset","DRAW_VERTEX_SIZE","_render3DShadowEntities","entities","index","data","model","glSetShadowModelMatrix","Error","renderType","RenderType","TRIANGLE","drawArrays","TRIANGLES","size","TRIANGLE_STRIP","_setupShadow","bindShadowTexture","render3DShadowMap","setOriginalViewport","isShadowEnabled","disable","CULL_FACE","prepareShadowTexture","revertShadowTexture","enable","cullFace","BACK","render","textureReg","is2d","bind","bindAttributePointers","glSetViewMatrix","viewMatrix","isEnabled","DEPTH_TEST","rendererTextureRef","texReg","bindTexture","texture","glSetModelViewMatrix","unbind","unbindAttributePointers","unbindProgram","bindBuffer","bufferBind","registerEntity","object","objBuffer","bufferRegId","push","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","TypeError","String","__","constructor","create","vec2_1","Vector2d","_super","apply","arguments","get","set","x","enumerable","configurable","y","normalise","normalize","newVector","dot","v","negate","scale","s","subtract","add","vector","Float32Array","EngineObject_1","ShaderEntityBuilder_1","Colour_1","ColourVertexModel_1","EngineObjectHelper_1","PlaneColour","rect","rgba","_this","centerRect","rotateOriginRect","scaleRect","engineHelper","shaderEntity","init","vertexModel","fillRenderUnits","vertex","planeXYColour","renderOpt","COLOUR","addBuffer","build","gl_matrix_1","Rect3d_1","Position_1","ModelPosition","position","dirtyModel","dirtyQuat","dirtyPos","dirtyScale","dirtyOrigin","intermediateModels","mat4","initialMat4Temp","rotateQuatTemp","quat","rotateMat4Temp","getModel","_buildModel","cachedModel","getPosition","setPosition","pos","z","center","rotateOrigin","centerCoord","coord","translate","dx","dy","dz","originX","originY","originZ","angleX","ax","angleY","ay","angleZ","az","rotateX","rotateY","rotateZ","scaleX","width","scaleY","height","scaleZ","_buildQuat","quatMat","createMat4NoAlloc","quatRotationxyz","createQuatNoAlloc","degreesToRadians","fromQuat","getIntermediateModel","point","dest","org","_buildModelIntermediate","out","_dirty","origin_1","multiply","negOrigin","degrees","Math","round","glMatrix","toRadian","setRect","setRect2","getRect2","getRect","Rect3d","centre","equalCenter","newCenter","equal","r","c","clone","a","fromValues","copy","divide","ceil","floor","min","max","scaleAndAdd","distance","hypot","squaredDistance","squaredLength","inverse","len","sqrt","cross","lerp","t","random","PI","cos","sin","transformMat2","m","transformMat2d","transformMat3","transformMat4","rotate","rad","p0","p1","sinC","cosC","angle","x1","y1","x2","y2","mag","cosine","acos","zero","str","exactEquals","equals","a0","a1","b0","b1","abs","vec","sub","mul","div","dist","sqrDist","sqrLen","forEach","stride","count","fn","arg","i","l","EngineDebugger","canvas","isVisible","updateInterval","fpsCounter","lastFrameTime","performance","now","frameTimeHistory","renderCallCount","world","renderer","createDebugUI","startUpdating","debugElement","document","createElement","id","style","cssText","createStaticStructure","parent","parentElement","body","appendChild","innerHTML","toggleButton","textContent","onclick","toggle","setupCameraControlEventListeners","window","setInterval","updateDisplay","calculateFPS","frameTime","shift","avgFrameTime","reduce","updateDebugInfo","debugInfo","gatherDebugInfo","renderDebugInfo","setReferences","setEngineHelper","glContext","getContext","webglInfo","faceCullingEnabled","depthTestEnabled","blendEnabled","BLEND","clearColor","getClearColorString","cameraInfo","camera3d","rotation","origin","map","_a","_b","type","name","hidden","hasShaderEntity","textureRef","bufferId","fps","entityCount","renderCalls","lastError","color","getParameter","COLOR_CLEAR_VALUE","concat","info","perfContent","querySelector","updateCameraControls","webglContent","entityCountEl","toString","updateEntitiesList","updateErrorDisplay","posX","posY","posZ","rotX","rotY","rotZ","activeElement","borderColor","container","scrollTop","entitiesHtml","undefined","join","errorDiv","errorContent","display","show","hide","incrementRenderCalls","resetRenderCalls","logError","destroy","clearInterval","removeChild","addEventListener","e","setCameraPosition","target","setCameraRotation","setCameraOrigin","resetBtn","lookAtBtn","resetOriginBtn","resetCamera","lookAtOrigin","resetCameraOrigin","axis","numValue","parseFloat","isNaN","updateProjectionView","log","lookAt","SubscriptionListeners","Subscription","key","listeners","subscriptionId","listen","callback","unlisten","publish","values","listener","flush","SubscriberPool","subscribers","subscription","getSubscriptionListeners","ModelObject3d","setRenderType","createTexture","textureSource","__assign","assign","n","ConfigEntity","BasicSprite_1","LineColour_1","Moveable_1","Plane2d_1","Plane3d_1","PlaneColour_1","SpriteModel_1","SpriteMoveable_1","TriangleColour2d_1","Coordinate_1","Rect2d_1","Events_1","Font_1","Physics_1","ConfigMapBuilder","objects","ref","anchor","texts","prop","startsWith","initObjectPosition","$ref","$anchor","buildModel","config","obj","createPlane2D","createRect2d","isCentre","hasPhysics","hookCustomHandler","createPlane3D","createRect3d","planeType","createTriangle","createSpriteMoveable","spriteModel","ticks","createMoveable","createSprite","createText","createCoordinate","fontSize","text","createColour","createLineColour","point1","point2","thickness","warn","$id","isLastEvent","FontReference","isTop","setTop","setClone","_renderCustom_1","_render_1","update","_updateCustom_1","_update_1","onClickedDefined","onClick","event","_eventCustom_1","_event_1","shouldPropagate","isClicked","_event_2","eventType","UP","Number","textRef","newFont","setText","setFontSize","colour","location","registerPhysics","physics","setLayer","moveable","updatePhysicsPosition","plane","newVertexModel","identity","m00","m01","m10","m11","transpose","invert","a2","a3","det","adjoint","determinant","b2","b3","v0","v1","fromRotation","fromScaling","frob","LDU","L","D","U","multiplyScalar","multiplyScalarAndAdd","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","b4","b5","fromTranslation","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","fromMat2d","q","w","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","a6","a7","a8","b6","b7","b8","m03","m13","m23","m30","m31","m32","m33","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","aw","magnitude","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","o","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","left","right","bottom","top","near","far","rl","tb","nf","perspectiveNO","fovy","aspect","f","tan","Infinity","perspective","perspectiveZO","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","orthoNO","lr","bt","ortho","orthoZO","eye","up","x0","y0","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","a9","a14","a15","b9","b13","b14","b15","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","et","ln","atan2","pow","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","invDot","conjugate","fromMat3","fRoot","fTrace","j","k","fromEuler","halfToRad","cx","cy","cz","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","rotationTo","sqlerp","setAxes","view","dq","w1","fromRotationTranslationValues","outer","getReal","getDual","setReal","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","BaseProgram_1","ShadowDepthFragmentShader_glsl_1","PassthroughVertexShader_glsl_1","ShadowLightVertexShader_glsl_1","ShadowLightFragmentShader_glsl_1","LightFragmentShader_glsl_1","LightVertexShader_glsl_1","ArrayBuffer_1","Texture_1","ProgramReference_1","Shader3DProgram","shadowDepthTextureSize","compileShaders","shadowMap","light1View","light1Projection","normal","textureCoords","projMtrx","viewMtrx","modelMtrx","tex2DSampler","light1Pos","light1Intensities","light1Attenu","light1AmbCoeff","initShadowProgram","shadowProgram","bindShadowProgram","shadowPos","shadowProjection","shadowView","shadowModel","shadowFramebuffer","createFramebuffer","createDepthTexture","shadowRenderBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","shadowDepthTexture","framebufferRenderbuffer","DEPTH_ATTACHMENT","shadowTextureUnit","textureCount","activeTexture","TEXTURE0","texParameterf","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","_bindProgram","_unbindProgram","unbindShadowProgram","enableAttribPointers","enableVertexAttribArray","vertexAttribPointer","FLOAT","enableShadowAttribPointers","bindShadowAttributePointers","matrixArray","uniformMatrix4fv","unbindShadowAttributePointers","disableVertexAttribArray","uniform3fv","in","uniform1f","ambientCoeff","attenuation","cameraFrustum","vec3","posVec","atVec","viewport","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","uniform1i","EntityManager","setHidden","generateId","replace","SpriteMoveableModel","SpriteMoveable","ArrayBuffer","bufferArray","verticeSize","deleted","isBuffered","bufferid","createBuffer","ARRAY_BUFFER","deleteBuffer","maxSize","fill","bufferData","STATIC_DRAW","vertexSize","bufferSubData","BYTES_PER_ELEMENT","reset","vertices","EntityManager_1","Timer_1","PlaneType_1","ModelObject2d_1","ModelPosition_1","Renderer_1","FontChar","fontChar","RenderFont","font","fontPos","time","repeat","isRepeat","expire","displayTime","isExpired","timer","peak","refresh","start","shallowCopy","modelPosition","modelPos","FontManager","metaData","fonts","renderFontState","renderFontPool","avgWidth","avgHeight","getFont","charCode","createRender","renderFont","pop","refreshExpired","context","defaultRect","totalWidth","totalHeight","totalNo","fontIdx","uvs","planeCW","createPlaneVertexModel","filename","YX","writeFont","cacheId","displayRect","$cacheId","isDirtyPos","isDirtyText","setWidth","_hidden","prevText","Font","warningShown","fontCacheId","expireRenderFont","fontRef","fontCache","writeRef","fontManager","MAX_FONT","calcTotalTextWidth","calculateFontSize","prevPos","createFonts","fontRefCache","dx_1","dy_1","DefaultFont","notificationQueue","RendererNotification","RESIZE_SCREEN","pixelDensity","carryWidth","charIdx","charCodeAt","fontHeight","maxHeight","xOffset","yOffset","ShaderEntity","getVertexModel","getVertexBufferId","vertexBufferId","getTextureSource","src","setTextureSource","renderCopy","newInstance","TWO_DIMENSION","PLAIN","RECTANGLE","isAttribute","getAttribLocation","getUniformLocation","ObjectManager","deferred","isLoaded","ent","addEntity","entityIdx","loadTexture","onLoad","def","Timer","_start","Date","stop","_end","elapsed","EngineMath","boundRect","bound","boundedX","boundedY","getLength","ShaderColourProgram_1","EntityColourProgram","PhysicsData","ParabolicSimulation","CollisionDetection_1","Physics","$physicsId","physicsEntityIdCount","physicsEntities","enabled","deregisterPhysics","setEnabledPhysics","isCollidingOffset2d","px","py","isCollidingPos2d","isCollidingPoint2d","isCollidingResolve","collision","_dx","_dy","physicsEntity","node","collisionSize","CollisionDetection","isCollidingRect","collidingX","collidingY","dxBoundary","dyBoundary","sign","pEntityRoot","generateSimulationId","simulationId","simulationIdCurrent","pauseSimulation","simulations","pause","resumeSimulation","cancelSimulation","force","cancelled","totalIterations","completeSimulation","physicsLoop","runTime","totalRunTime","simulation","runSimulation","existingSimulationId","simulationLoop","TIME_STEP_MILLIS","parabolicSimulation","parabolic","timeStep","vy","vx","Updater","args","setTime","updateFont","ConfigMapBuilder_1","EngineMap","beforeShow","updatePosition","setShow","restore","entityData","configBuilder","_i","_c","parseMap","addEntities","ModelObjectRect3d_1","TextureVertexModel_1","Plane3d","renderUnits","RGBFragmentShader_glsl_1","RGBVertexShader_glsl_1","ShaderProgramColour","positionRef","colorRef","modelViewMatrixRef","BitmapConfigParser","raw","bitmapWidth","bitmapHeight","precision","SOURCE_KEY","split","line","processLine","filter","sum","next","processRawLine","source","substr","indexOf","trim","processTextureLine","seperator","nameindex","temp","leftindex","topindex","widthIndex","getMap","Texture","isError","load","loadImage","then","catch","onError","handleTextureLoaded","image","newTextureUnit","sampler","texUnit","createTextureFromImage","NEAREST","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TextureLoader","Promise","resolve","reject","crossOrigin","onload","onerror","Polygon","Collision","Vector2d_1","vec2","width1","height1","width2","height2","isRectInRect","rect1","rect2","isPointInRect","isPointInPlane3d","mvp","r1","toClipSpace","r2","r3","r4","rectPolygon","pointInPolygon","vec4Trans","vec4","vec4Norm","polygon","inside","xi","yi","xj","yj","subtractCenter","points","area","calculateCentre","centroid","totalSignedArea","vertexCount","nextVertex","polygonProjection","dotProduct","boundaryDistance","minA","maxA","minB","maxB","isCollision","polygonB","velocity","result","isIntersect","willIntersect","edge","edgeCountA","edges","edgeCountB","minIntervalDistance","translationAxis","edgeIndex","velocityProjection","intervalDistance","minDeintersectDistance","ModelObjectRect3d","Plane2d","textureReference","layer","newVertexModel2d","sky","Events","DRAG","dxRaw","dyRaw","loadResources","getResource","ResourceResolver","objResolverMultiple","err","objResolver","bmFontResolver","bitmapResolver","setZoom","setLighting","Light","at","lowPolyGirl","Object3d","racingCar","ground","sun","lowPolyTree","treeCreator","tree","getFrustum","frustumWidth","frustumHeight","innerWidth","innerHeight","World","elementId","canvasId","subscribe","maxFov","isFovMax","aspectRatio","eventThrottle","isStepRender","app","App","run","unpause","onresize","reload","options","vecZero","parellelVec","vec1","perpVec","perp","atCross","posCross","eventDown","touchDown","eventDownX","eventDownY","eventDownDx","eventDownDy","keyDownMap","prevEvent","timeStamp","prevTimeStamp","motionTimeStamp","orientationQuaternion","NULL_EVENT","prevEventType","rawEvent","isDown","isUp","boundedWindow","throttle","setThrottle","webGLContainer","bindCanvas","bindWindow","handleOrientationChange","orientation","handleMotion","incrementQuaternion","tempEventDownX","tempEventDownY","handleEvent","ORIENTATION","accData","rotationRate","beta","gamma","alpha","eventQuaternion","getQuaternion","buildEvent","evt","offsetWidth","offsetHeight","DOWN","resize","RESIZE","buildEventKey","keyCode","code","keyDown","KEY_DOWN","preventDefault","keyUp","KEY_UP","handleMouseUp","offsetX","offsetY","handleEventDown","handleEventMove","xUp","yUp","handleTouchEnd","handleTouchStart","HTMLElement","getBoundingClientRect","touches","clientX","clientY","cancelable","handleTouchMove","targetEvent","cb","isBodyFocus","_event","degtorad","radtodeg","_x","_y","_z","cX","cY","cZ","sX","sY","sZ","screenAccData","SYSTEM_EVENTS","IdGenerator_1","EngineObject","$hidden","copyTexture","_shaderEntity","FontCharacter","FontMeta","RenderUnit_1","VertexModel_1","ModelData_1","TextureVertexModel","createRenderUnits","TextureRenderUnit","renderUnit","createModel","toTextureArray","g","ModelData","_$ID","ColourVertexModel","ColourRenderUnit","toColourArray","ShaderEntity_1","ShaderEntityBuilder","hasTexture","engineObject","entityOption","registerModel","EngineMath_1","Moveable","dampenReduction","resetPhysics","isMoving","collisionIteration","physicSimulation","_","resolveCollision","shouldTranslate","addDampener","collisionStopItThres","movementRotation","isBounded","updateLocBoundToBoundary","completePhysicsIteration","jumpSimulationId","gravitySimulationId","isMoveable","hasCollision","updateDeltaDistance","coordinate","calcTotalDeltaDistance","translateTo","complete","directionalModifier","moveTo","colliding","moveToTime","totalTime","completeSim","moveSimulation","isRotateMove","dampeningProp","xSign","ySign","addImpulse","acceleration","contactTime","setVelocity","runPhysicsSimulation","propTime","translateCollision","setMoveable","WorldDelegate","resources","resume","App_1","EngineHelper","subscriberPool","resourcesLoading","bufferCache","fontNameKeyReverse","uvCache","vertexUVCache","AppSubscription","GET_FPS","startIteration","START_ITERATION","shaderProgram","isOutOfBound","slice","pushPayload","renderEntity","RendererSubscription","CREATE_TEXTURE","createTexturePayload","getFPS","getTotalPixelHeight","screen","getTotalPixelWidth","getScreenHeight","getScreenWidth","getTime","getVerticesById","updateBufferCache","verticesCacheId","addBufferCache","promise","xhr","XMLHttpRequest","open","onreadystatechange","readyState","DONE","status","cacheId_1","responseText","registerBuffer","registerFont","meta","send","getAllResourcesLoading","all","notification","getBuffer","getBufferModelData","REGISTER_ENTITY","registerEntityPayload","initFont","fontType","newVertexModelUv3d","cache","uv","planeUV","getUVCache","addUVCache","getVertexUvCache","cache_1","addVertexUvCache","vertexUv","isClickedObject","distanceEvent","updateProjectionMatrix","UPDATE_PROJECTION_MATRIX","Rect2d","SpriteModel","textures","spriteIdx","calcSpriteIdx","spriteLength","idxFactor","WebGLContainer","Camera_1","Updater_1","EngineHelper_1","NotificationQueue_1","SubscriberPool_1","EngineDebugger_1","isFullScreen","restoreContentFn","measureElement","getAspectRatio","devicePixelRatio","documentElement","clientWidth","clientHeight","getCtx","ready","isPaused","framesElapsed","setup","updater","setupCamera","debugger","setupKeyboardControls","handleKeyDown","toLowerCase","togglePause","onEvent","resizeScreen","interval","removeEventListener","animationFrame","notifyFrames","errorCallback","requestAnimationFrame","startRunLoop","initSystem","runApp","onRunError","startTime","setTimeout","resizeCanvas","getElementById","buildCanvas","appElement","toggleShow","clearColour","setClearColor","setFPS","toggleStepRender","NotificationPayload","Notification","action","from","LinkedList","NotificationQueue","queueMap","clearQueue","nodes","pushNotification","take","getBottom","shiftQueue","WebGLContext","setupDefault","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","frontFace","CCW","clearDepth","depthFunc","LEQUAL","deleteTexture","resizeViewPort","getWebGL2RenderingContext","destroyWebGL","ctx2","isWebGL2RenderingContext","createTransformFeedback","bindVertexArray","numAttribs","MAX_VERTEX_ATTRIBS","tmp","ii","vertexAttrib1f","vertexAttribDivisor","numTextureUnits","MAX_TEXTURE_IMAGE_UNITS","TEXTURE_CUBE_MAP","TEXTURE_2D_ARRAY","TEXTURE_3D","bindSampler","useProgram","ELEMENT_ARRAY_BUFFER","DITHER","SCISSOR_TEST","blendColor","blendEquation","FUNC_ADD","ONE","ZERO","clearStencil","colorMask","LESS","depthMask","depthRange","hint","GENERATE_MIPMAP_HINT","DONT_CARE","lineWidth","pixelStorei","PACK_ALIGNMENT","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","BROWSER_DEFAULT_WEBGL","polygonOffset","sampleCoverage","scissor","stencilFunc","ALWAYS","stencilMask","stencilOp","KEEP","STENCIL_BUFFER_BIT","drawBuffers","readBuffer","COPY_READ_BUFFER","COPY_WRITE_BUFFER","PIXEL_PACK_BUFFER","PIXEL_UNPACK_BUFFER","numTransformFeedbacks","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","bindBufferBase","TRANSFORM_FEEDBACK_BUFFER","numUBOs","MAX_UNIFORM_BUFFER_BINDINGS","UNIFORM_BUFFER","RASTERIZER_DISCARD","UNPACK_IMAGE_HEIGHT","UNPACK_SKIP_IMAGES","UNPACK_ROW_LENGTH","UNPACK_SKIP_ROWS","UNPACK_SKIP_PIXELS","PACK_ROW_LENGTH","PACK_SKIP_ROWS","PACK_SKIP_PIXELS","FRAGMENT_SHADER_DERIVATIVE_HINT","programInfo","getProgramParameter","ACTIVE_ATTRIBUTES","attribInfo","getActiveAttrib","VertexModel","BaseCamera","zoomScale","baseTranslate","_isUpdateView","commitProjectionView","frustumMatrix","_d","_e","_f","cameraOptions","clearPan","pan","speed","steps","_moveTime","tz","isUpdateView","diff","experimental","inverseAngleY","zoomIn","delta","zoomOut","maxFovAspect","atan","_g","_h","zoom","setBaseTranslate","targetX","targetY","targetZ","horizontalDistance","Camera2d","INTERVAL_TIME","translateSpace","pan2d","pan2dDif","Camera3d","pan3d","Camera","vertexUvCacheId","Position","nx","ny","nz","maxWidth","Coordinate","Colour","PlaneType","Resource","LineColour","EntityManager2d","EngineMap_1","ObjectManager_1","EntityManager2d_1","Font_2","ResourceResolver_1","Resource_1","Light_1","BitmapConfigParser_1","ModelObject3d_1","Object3d_1","EPSILON","ARRAY_TYPE","RANDOM","setMatrixArrayType","degree","BasicSprite","Entity3DProgram_1","EntityColorProgram_1","WebGLContext_1","NOTIFICATION_PRE_RENDER_KEY","NOTIFICATION_RENDER_KEY","NOTIFICATION_INIT_KEY","modelData","UPDATE_BUFFER","SET_LIGHTING","RENDER_ENTITY","Renderer","_renderEntities","cachedModelData","shader3DProgram","shaderColourProgram","_getProgramOpt","_getProgram3D","_isPlain","_defRender","_defRenderTop","_render","payload","_resetDefferred","handleNotification","colourModel","model3d","model2d","readMessages","isUniqueAction","message","unique","_lazyLoadProgram","lX","lY","mX","mY","TriangleColour2d","triangleXYColour","ModelObject2d","element","isPointInGround","insideElement","createEntities","XZ","index2","priority","BaseProgram","vertexShaderContent","fragmentShaderContent","vertexShader","createShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","fragmentChar","vertexChar","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","createProgram","attachShader","linkProgram","validateProgram","LINK_STATUS","getProgramInfoLog","deleteProgram","FntFontReader_1","VertexParser_1","bitmapLoader","sources","FontMetaData_1","FntFontReader","lines","lineIdx","parseWidth","parseHeight","parseFilename","parseLineHeight","parseChar","match","FONT_CHAR","char","fromCharCode","HEIGHT","lineHeight","LINE_HEIGHT","WIDTH","FILENAME","RegExp","column","RenderUnit","TextureUnit","VertexBuilder_1","EngineObjectHelper","VertexBuilder","normalDirection","XY","ZX","YZ","ZY","BACKWARDS","FORWARD","toArray2D","vertexes","vertexConstruct","_vertex","planeCCW","loc","planeXY","PLANE","circleXYColour","segments","increment","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","Symbol","toStringTag"],"sourceRoot":""}