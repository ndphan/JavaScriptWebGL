{"version":3,"file":"index.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA,0EAKuB;AAEvB;IAAoC,0BAAa;IAE/C,gBAAY,IAAY,EAAE,eAAuB;QAC/C,kBAAK,YAAC,IAAI,EAAE,IAAI,0BAAkB,EAAE,CAAC,SAAC;QACtC,KAAI,CAAC,eAAe,GAAG,eAAe,CAAC;;IACzC,CAAC;IACD,uBAAM,GAAN,UAAO,YAA0B;QAC/B,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACzC,CAAC;IACD,qBAAI,GAAJ,UAAK,YAA0B;QAC7B,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACzE,gBAAK,CAAC,IAAI,YAAC,YAAY,CAAC,CAAC;IAC3B,CAAC;IACH,aAAC;AAAD,CAAC,CAbmC,qBAAa,GAahD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBD,0EAeuB;AAGvB,6EAA8B;AAG9B;IAAmC,yBAAa;IAa9C;QACE,aAAK,WAAE,SAAC;IACV,CAAC;IAED,sBAAM,GAAN;QAAA,iBAIC;QAHC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,GAAiB;YACtC,IAAI,GAAG;gBAAE,GAAG,CAAC,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sBAAM,GAAN;QAAA,iBAMC;QALC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,GAAiB;YACtC,IAAI,GAAG;gBAAE,GAAG,CAAC,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QACG,SAAc,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAtD,CAAC,SAAE,CAAC,SAAE,CAAC,OAA+C,CAAC;QAC/D,IAAI,IAAI,CAAC,GAAG;YAAE,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACzC,CAAC;IAED,qBAAK,GAAL,UAAM,KAAkB;QACtB,gBAAK,CAAC,KAAK,YAAC,KAAK,CAAC,CAAC;QACnB,IAAI,KAAK,CAAC,SAAS,KAAK,cAAM,CAAC,IAAI,EAAE,CAAC;YACpC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACvD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACtD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,oBAAoB,EAAE,CAAC;QAC3D,CAAC;QACD,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,6BAAa,GAAb;QACE,IAAI,CAAC,YAAY;aACd,WAAW,CAAC,mBAAmB,CAAC;aAChC,IAAI,CACH,wBAAgB,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,EAAE;YACtD,EAAE,aAAa,EAAE,uBAAuB,EAAE,IAAI,EAAE,YAAY,EAAE;YAC9D,EAAE,aAAa,EAAE,gBAAgB,EAAE,IAAI,EAAE,KAAK,EAAE;SACjD,CAAC,CACH,CAAC;QAEJ,IAAI,CAAC,YAAY;aACd,WAAW,CAAC,0BAA0B,CAAC;aACvC,IAAI,CACH,wBAAgB,CAAC,WAAW,CAC1B,IAAI,CAAC,YAAY,EACjB,0BAA0B,EAC1B,eAAe,CAChB,CACF,CAAC;QAEJ,IAAI,CAAC,YAAY;aACd,WAAW,CAAC,0BAA0B,CAAC;aACvC,IAAI,CACH,wBAAgB,CAAC,WAAW,CAC1B,IAAI,CAAC,YAAY,EACjB,0BAA0B,EAC1B,eAAe,CAChB,CACF,CAAC;QAEJ,IAAI,CAAC,YAAY;aACd,WAAW,CAAC,uBAAuB,CAAC;aACpC,IAAI,CACH,wBAAgB,CAAC,WAAW,CAC1B,IAAI,CAAC,YAAY,EACjB,uBAAuB,EACvB,YAAY,CACb,CACF,CAAC;QAEJ,IAAI,CAAC,YAAY;aACd,WAAW,CAAC,oBAAoB,CAAC;aACjC,IAAI,CAAC,wBAAgB,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;QAE5D,IAAI,CAAC,YAAY;aACd,WAAW,CAAC,kBAAkB,CAAC;aAC/B,IAAI,CACH,wBAAgB,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CACtE,CAAC;QAEJ,IAAI,CAAC,YAAY;aACd,WAAW,CAAC,6BAA6B,CAAC;aAC1C,IAAI,CAAC,wBAAgB,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IAC7E,CAAC;IAED,oBAAI,GAAJ;QAAA,iBA2HC;QA1HC,IAAM,MAAM,GAAG,EAAE,CAAC;QAClB,IAAM,KAAK,GAAG,EAAE,CAAC;QAEjB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,oBAAoB,EAAE,CAAC;QAEzD,eAAe;QACf,IAAI,CAAC,GAAG,GAAG,IAAI,gBAAM,CACnB,IAAI,cAAM,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC3C,YAAY,CACb,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;QAC5C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACjC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAEzB,gBAAgB;QAChB,IAAI,CAAC,WAAW,GAAG,IAAI,gBAAQ,CAC7B,IAAI,cAAM,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EACtC,eAAe,CAChB,CAAC;QACF,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;QACpD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAEjC,aAAa;QACb,IAAI,CAAC,SAAS,GAAG,IAAI,gBAAQ,CAC3B,IAAI,cAAM,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EACtC,YAAY,CACb,CAAC;QACF,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;QAClD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACvC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE/B,iBAAiB;QACjB,8BAA8B;QAC9B,iDAAiD;QACjD,aAAa;QACb,KAAK;QACL,uCAAuC;QACvC,+BAA+B;QAE/B,YAAY;QACZ,wBAAwB;QACxB,qCAAqC;QACrC,wBAAwB;QACxB,uDAAuD;QACvD,KAAK;QACL,qCAAqC;QACrC,6BAA6B;QAE7B,YAAY;QACZ,yBAAyB;QACzB,kCAAkC;QAClC,wBAAwB;QACxB,uDAAuD;QACvD,KAAK;QACL,sCAAsC;QACtC,8BAA8B;QAE9B,eAAe;QACf,IAAI,CAAC,GAAG,GAAG,IAAI,gBAAM,CACnB,IAAI,cAAM,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EACvC,KAAK,CACN,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;QAC5C,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACjC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAEzB,iBAAiB;QACjB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAM,WAAW,GAAG,UAAC,CAAS,EAAE,CAAS;YACvC,IAAM,IAAI,GAAG,IAAI,gBAAQ,CACvB,IAAI,cAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAClC,eAAe,CAChB,CAAC;YACF,IAAM,UAAU,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC;YAC7C,IAAM,KAAK,GAAG,GAAG,GAAG,UAAU,CAAC;YAC/B,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;YAChC,IAAI,CAAC,aAAa,CAAC,kBAAU,CAAC,QAAQ,CAAC,CAAC;YACxC,IAAI,CAAC,IAAI,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;YAC7B,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5B,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvB,CAAC,CAAC;QACF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;YACnC,WAAW,CAAC,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;YACxC,WAAW,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;QAC7C,CAAC;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;YACtC,WAAW,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACxC,WAAW,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7C,CAAC;QAED,oBAAoB;QACpB,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,CAClD,MAAM,EACN,iBAAS,CAAC,EAAE,CACb,CAAC;QACF,IAAI,CAAC,IAAI,GAAG,IAAI,eAAO,CACrB,IAAI,cAAM,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACjC,WAAW,CACZ,CAAC;QACF,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE1B,oCAAoC;QACpC,gBAAK,CAAC,IAAI,WAAE,CAAC;QAEb,IAAI,CAAC,YAAY,CAAC,WAAW,CAC3B,IAAI,aAAK,CAAC;YACR,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC;YACnB,EAAE,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;YACnB,WAAW,EAAE,KAAK;YAClB,YAAY,EAAE,GAAG;YACjB,EAAE,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;SACpB,CAAC,CACH,CAAC;IACJ,CAAC;IACH,YAAC;AAAD,CAAC,CA5NkC,qBAAa,GA4N/C;;;;;;;;;;;;ACjPY;AACb;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mCAAmC,aAAa;AAChD,2CAA2C,4BAA4B,iBAAiB;AACxF;AACA;AACA,mCAAmC,oCAAoC;AACvE,mCAAmC,aAAa;AAChD,2CAA2C,4BAA4B,iBAAiB;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,8C;;;;;;;;;;AC1Ga;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,mEAA2B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,+CAA+C;AACpF,0CAA0C,mBAAmB;AAC7D;AACA,CAAC;AACD,kBAAe;AACf,yC;;;;;;;;;;AC/Fa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,4DAAiB;AAC/C,2BAA2B,mBAAO,CAAC,sEAAsB;AACzD,qBAAqB,mBAAO,CAAC,0DAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,4C;;;;;;;;;;AC3Ca;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,wC;;;;;;;;;;ACjBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB,GAAG,sBAAsB;AAChD,eAAe,mBAAO,CAAC,uCAAU;AACjC,gBAAgB,mBAAO,CAAC,yCAAW;AACnC,iBAAiB,mBAAO,CAAC,2CAAY;AACrC,qBAAqB,mBAAO,CAAC,mDAAgB;AAC7C,eAAe,mBAAO,CAAC,uCAAU;AACjC,cAAc,mBAAO,CAAC,mDAAgB;AACtC,0BAA0B,mBAAO,CAAC,2EAA4B;AAC9D,uBAAuB,mBAAO,CAAC,qEAAyB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,gCAAgC;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,+B;;;;;;;;;;ACrSa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,uC;;;;;;;;;;ACzEa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,qDAAqD;AACrD;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,2BAA2B;AAC3D,sCAAsC,8BAA8B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,mC;;;;;;;;;;ACpFa;AACb;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB,oBAAoB,mBAAO,CAAC,8DAA0B;AACtD,mBAAmB,mBAAO,CAAC,4DAAyB;AACpD,iBAAiB,mBAAO,CAAC,wDAAuB;AAChD,gBAAgB,mBAAO,CAAC,sDAAsB;AAC9C,gBAAgB,mBAAO,CAAC,sDAAsB;AAC9C,oBAAoB,mBAAO,CAAC,8DAA0B;AACtD,oBAAoB,mBAAO,CAAC,8DAA0B;AACtD,uBAAuB,mBAAO,CAAC,oEAA6B;AAC5D,yBAAyB,mBAAO,CAAC,wEAA+B;AAChE,mBAAmB,mBAAO,CAAC,0DAAoB;AAC/C,eAAe,mBAAO,CAAC,kDAAgB;AACvC,eAAe,mBAAO,CAAC,kDAAgB;AACvC,qBAAqB,mBAAO,CAAC,8EAA8B;AAC3D,eAAe,mBAAO,CAAC,wCAAW;AAClC,aAAa,mBAAO,CAAC,8CAAc;AACnC,gBAAgB,mBAAO,CAAC,0DAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB,kBAAe;AACf,4C;;;;;;;;;;AC9Ua;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,8EAA8B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,+C;;;;;;;;;;ACzCa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,kBAAkB,mBAAO,CAAC,wDAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qBAAqB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB,yC;;;;;;;;;;AC/Ra;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,kBAAkB,mBAAO,CAAC,wDAAW;AACrC,sBAAsB,mBAAO,CAAC,+EAA8B;AAC5D,mBAAmB,mBAAO,CAAC,yDAAmB;AAC9C,cAAc,mBAAO,CAAC,mDAAgB;AACtC,eAAe,mBAAO,CAAC,iDAAe;AACtC,2BAA2B,mBAAO,CAAC,+EAA8B;AACjE;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,kC;;;;;;;;;;ACxSa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,uC;;;;;;;;;;ACVa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B,GAAG,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,6C;;;;;;;;;;ACnHa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,6BAA6B,GAAG,oBAAoB;AACpD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,wBAAwB;AAC5F;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,0C;;;;;;;;;;ACrEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,iC;;;;;;;;;;ACtBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,kC;;;;;;;;;;ACZa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,oDAAc;AACzC,oBAAoB,mBAAO,CAAC,sDAAe;AAC3C,kBAAkB,mBAAO,CAAC,kDAAa;AACvC,2BAA2B,mBAAO,CAAC,0FAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,6C;;;;;;;;;;ACxDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,sC;;;;;;;;;;ACXa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,GAAG,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gBAAgB;AAChB;AACA;AACA;AACA;AACA,CAAC;AACD,qBAAqB;AACrB;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,wC;;;;;;;;;;ACtBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,mBAAO,CAAC,wDAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,iC;;;;;;;;;;ACtDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,qC;;;;;;;;;;ACVa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,qC;;;;;;;;;;ACrBa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,mBAAO,CAAC,4CAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,kC;;;;;;;;;;AChCa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,oDAAc;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,kC;;;;;;;;;;ACvDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,GAAG,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,wC;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,GAAG,yBAAyB,GAAG,kBAAkB,GAAG,cAAc,GAAG,mBAAmB;AAChH,mBAAmB,mBAAO,CAAC,oDAAc;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,wBAAwB;AACxB,sC;;;;;;;;;;ACjEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,oC;;;;;;;;;;ACRa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,oDAAc;AACzC,oBAAoB,mBAAO,CAAC,sDAAe;AAC3C,kBAAkB,mBAAO,CAAC,kDAAa;AACvC,2BAA2B,mBAAO,CAAC,0FAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,8C;;;;;;;;;;ACzDa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa,mBAAO,CAAC,4DAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,oC;;;;;;;;;;ACtEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,uC;;;;;;;;;;ACba;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,0DAAoB;AAC5C,yBAAyB,mBAAO,CAAC,4EAA6B;AAC9D,wBAAwB,mBAAO,CAAC,wEAA+B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,kCAAkC;AACjF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,kCAAkC;AACjF;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD,kBAAe;AACf,qC;;;;;;;;;;ACtIa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,kEAAiB;AAC/C,oBAAoB,mBAAO,CAAC,gEAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,wC;;;;;;;;;;ACxFa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B,mBAAO,CAAC,gFAA+B;AAClE,sBAAsB,mBAAO,CAAC,sEAA0B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,8C;;;;;;;;;;ACZa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,mBAAO,CAAC,kFAAgC;AACpE,qBAAqB,mBAAO,CAAC,8DAAsB;AACnD,qBAAqB,mBAAO,CAAC,gEAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,yC;;;;;;;;;;AC1Ca;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,mBAAO,CAAC,kFAAgC;AACpE,qBAAqB,mBAAO,CAAC,8DAAsB;AACnD,qBAAqB,mBAAO,CAAC,gEAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,yC;;;;;;;;;;AC9Ca;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,mBAAO,CAAC,kFAAgC;AACpE,qBAAqB,mBAAO,CAAC,8DAAsB;AACnD,qBAAqB,mBAAO,CAAC,gEAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,6C;;;;;;;;;;AC1Ca;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB,mBAAO,CAAC,wDAAW;AACrC,eAAe,mBAAO,CAAC,kDAAgB;AACvC,iBAAiB,mBAAO,CAAC,wDAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,yC;;;;;;;;;;ACpSa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,mBAAO,CAAC,kDAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,oC;;;;;;;;;;AC/Ca;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB,qBAAqB,mBAAO,CAAC,8DAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oBAAoB;AACpB,wC;;;;;;;;;;AC/Ca;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY,mBAAO,CAAC,iCAAO;AAC3B,kBAAkB,mBAAO,CAAC,uDAAkB;AAC5C,qBAAqB,mBAAO,CAAC,6DAAqB;AAClD,2BAA2B,mBAAO,CAAC,yEAA2B;AAC9D,2BAA2B,mBAAO,CAAC,yFAAmC;AACtE,aAAa,mBAAO,CAAC,6CAAa;AAClC,iBAAiB,mBAAO,CAAC,2CAAY;AACrC,2BAA2B,mBAAO,CAAC,+EAA8B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,2BAA2B;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,wC;;;;;;;;;;AC7Pa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa;AACb,mBAAmB,mBAAO,CAAC,yDAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,kBAAkB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,aAAa;AACb,kC;;;;;;;;;;ACnTa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,sBAAsB,mBAAO,CAAC,oEAA6B;AAC3D,cAAc,mBAAO,CAAC,oDAAiB;AACvC,mBAAmB,mBAAO,CAAC,0DAAoB;AAC/C,kBAAkB,mBAAO,CAAC,wDAAmB;AAC7C,eAAe,mBAAO,CAAC,kDAAgB;AACvC,2BAA2B,mBAAO,CAAC,0FAAoC;AACvE,sBAAsB,mBAAO,CAAC,gFAA+B;AAC7D,sBAAsB,mBAAO,CAAC,gFAA+B;AAC7D,iBAAiB,mBAAO,CAAC,4CAAa;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,gCAAgC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,oBAAoB;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,mCAAmC;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,gC;;;;;;;;;;AClZa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,GAAG,0BAA0B,GAAG,iBAAiB;AAChE,iBAAiB,mBAAO,CAAC,sDAAkB;AAC3C,kBAAkB,mBAAO,CAAC,wDAAW;AACrC;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,oBAAoB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sBAAsB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;AACf,8C;;;;;;;;;;ACtMa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,mBAAO,CAAC,0DAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,sC;;;;;;;;;;ACjBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB,GAAG,2BAA2B;AACjD,cAAc,mBAAO,CAAC,oDAAiB;AACvC,2BAA2B,mBAAO,CAAC,uEAAsB;AACzD;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf;AACA;AACA;AACA;AACA,CAAC;AACD,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,CAAC;AACD,mBAAmB;AACnB,mC;;;;;;;;;;AC3Pa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,GAAG,4BAA4B;AAC3D,qBAAqB,mBAAO,CAAC,6DAAqB;AAClD,wBAAwB,mBAAO,CAAC,iGAAuC;AACvE,2BAA2B,mBAAO,CAAC,uGAA0C;AAC7E,qBAAqB,mBAAO,CAAC,yEAA2B;AACxD,gBAAgB,mBAAO,CAAC,uDAAkB;AAC1C,0BAA0B,mBAAO,CAAC,2EAA4B;AAC9D,uBAAuB,mBAAO,CAAC,qEAAyB;AACxD;AACA;AACA;AACA;AACA;AACA,sFAAsF;AACtF,6EAA6E;AAC7E;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uGAAuG,gCAAgC;AACvI;AACA;AACA;AACA,4GAA4G,gCAAgC;AAC5I;AACA;AACA;AACA;AACA,0GAA0G,gCAAgC;AAC1I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,oC;;;;;;;;;;ACvUa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,mC;;;;;;;;;;ACjBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,uC;;;;;;;;;;AC9Ca;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,4C;;;;;;;;;;ACpBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,mBAAO,CAAC,qDAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,sBAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4BAA4B;AACzD;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,wC;;;;;;;;;;ACjJa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB,mBAAO,CAAC,4FAAkC;AAClE,qBAAqB,mBAAO,CAAC,iEAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,2C;;;;;;;;;;ACnIa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,iEAAyB;AACtD,4BAA4B,mBAAO,CAAC,oGAAsC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,8C;;;;;;;;;;ACxEa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB,mBAAO,CAAC,kEAAqB;AACjD,uCAAuC,mBAAO,CAAC,2GAA2C;AAC1F,qCAAqC,mBAAO,CAAC,uGAAyC;AACtF,qCAAqC,mBAAO,CAAC,uGAAyC;AACtF,uCAAuC,mBAAO,CAAC,2GAA2C;AAC1F,iCAAiC,mBAAO,CAAC,+FAAqC;AAC9E,+BAA+B,mBAAO,CAAC,2FAAmC;AAC1E,oBAAoB,mBAAO,CAAC,mEAA0B;AACtD,kBAAkB,mBAAO,CAAC,wDAAW;AACrC,gBAAgB,mBAAO,CAAC,2DAAsB;AAC9C,yBAAyB,mBAAO,CAAC,4EAA0B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,2C;;;;;;;;;;AClMa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB,mBAAO,CAAC,kEAAqB;AACjD,+BAA+B,mBAAO,CAAC,2FAAmC;AAC1E,6BAA6B,mBAAO,CAAC,uFAAiC;AACtE,oBAAoB,mBAAO,CAAC,mEAA0B;AACtD,yBAAyB,mBAAO,CAAC,4EAA0B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,+C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,yC;;;;;;;;;;ACpCa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,mBAAO,CAAC,6CAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,uC;;;;;;;;;;ACzCa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,mBAAO,CAAC,uFAAqC;AACzE,eAAe,mBAAO,CAAC,uDAAqB;AAC5C,0BAA0B,mBAAO,CAAC,6EAAgC;AAClE,qBAAqB,mBAAO,CAAC,mEAA2B;AACxD,qBAAqB,mBAAO,CAAC,mFAAmC;AAChE,2BAA2B,mBAAO,CAAC,+FAAyC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,sC;;;;;;;;;;AC/Da;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,qFAAoC;AAClE,gBAAgB,mBAAO,CAAC,+DAAyB;AACjD,sBAAsB,mBAAO,CAAC,iEAA0B;AACxD,mBAAmB,mBAAO,CAAC,+DAAyB;AACpD,mBAAmB,mBAAO,CAAC,qEAA4B;AACvD,eAAe,mBAAO,CAAC,uDAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,iCAAiC;AACnF;AACA;AACA,CAAC;AACD,kBAAe;AACf,oC;;;;;;;;;;ACtTa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B,mBAAO,CAAC,+EAAiC;AACpE,sBAAsB,mBAAO,CAAC,qFAAoC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,oC;;;;;;;;;;ACpCa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,qFAAoC;AAClE,2BAA2B,mBAAO,CAAC,+EAAiC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,mC;;;;;;;;;;ACvCa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,6FAAwC;AAC1E,2BAA2B,mBAAO,CAAC,+EAAiC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,mC;;;;;;;;;;ACzCa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,mEAA2B;AACxD,qBAAqB,mBAAO,CAAC,mFAAmC;AAChE,4BAA4B,mBAAO,CAAC,uFAAqC;AACzE,eAAe,mBAAO,CAAC,uDAAqB;AAC5C,0BAA0B,mBAAO,CAAC,6EAAgC;AAClE,2BAA2B,mBAAO,CAAC,+FAAyC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,uC;;;;;;;;;;AChDa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,2CAAW;AACnC,cAAc,mBAAO,CAAC,yDAAsB;AAC5C,wBAAwB,mBAAO,CAAC,qEAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,uC;;;;;;;;;;ACzEa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,2BAA2B;AAC3B,oBAAoB,mBAAO,CAAC,mDAAe;AAC3C,iBAAiB,mBAAO,CAAC,6CAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,0C;;;;;;;;;;ACnDa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,mBAAO,CAAC,uFAAqC;AACzE,0BAA0B,mBAAO,CAAC,6EAAgC;AAClE,qBAAqB,mBAAO,CAAC,mEAA2B;AACxD,qBAAqB,mBAAO,CAAC,mFAAmC;AAChE,2BAA2B,mBAAO,CAAC,+FAAyC;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,4C;;;;;;;;;;AC9Ca;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,mBAAO,CAAC,mFAAmC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,iCAAiC;AAC9E;AACA;AACA;AACA,6CAA6C,2BAA2B;AACxE;AACA;AACA;AACA,6CAA6C,iCAAiC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,qBAAqB;AAClE;AACA;AACA;AACA,6CAA6C,qBAAqB;AAClE;AACA;AACA;AACA,6CAA6C,qBAAqB;AAClE;AACA;AACA;AACA,6CAA6C,qBAAqB;AAClE;AACA;AACA;AACA,6CAA6C,qBAAqB;AAClE;AACA;AACA;AACA,6CAA6C,qBAAqB;AAClE;AACA;AACA;AACA,6CAA6C,0BAA0B;AACvE;AACA;AACA;AACA,6CAA6C,iCAAiC;AAC9E;AACA;AACA;AACA,6CAA6C,8BAA8B;AAC3E;AACA;AACA;AACA;AACA;AACA,kDAAkD,qCAAqC;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,qCAAqC;AACvF;AACA;AACA;AACA;AACA,kDAAkD,8BAA8B;AAChF;AACA;AACA;AACA;AACA,sDAAsD,iCAAiC;AACvF,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD,kBAAe;AACf,yC;;;;;;;;;;ACjHa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,wDAAiB;AAC/C,gBAAgB,mBAAO,CAAC,mDAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,2C;;;;;;;;;;ACxCa;AACb;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,2DAAuB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,wCAAwC;AACvF;AACA;AACA;AACA,+CAA+C,wCAAwC;AACvF;AACA;AACA;AACA;AACA;AACA,gCAAgC,kCAAkC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kCAAkC;AAClE;AACA;AACA,+CAA+C,eAAe;AAC9D;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,yC;;;;;;;;;;AChEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,kBAAkB,GAAG,gBAAgB,GAAG,qBAAqB,GAAG,0BAA0B,GAAG,eAAe,GAAG,kBAAkB,GAAG,cAAc,GAAG,eAAe,GAAG,0BAA0B,GAAG,iBAAiB,GAAG,cAAc,GAAG,oBAAoB,GAAG,kBAAkB,GAAG,aAAa,GAAG,gBAAgB,GAAG,eAAe,GAAG,qBAAqB,GAAG,cAAc,GAAG,cAAc,GAAG,gBAAgB,GAAG,cAAc,GAAG,iBAAiB,GAAG,aAAa,GAAG,gBAAgB,GAAG,wBAAwB,GAAG,kBAAkB,GAAG,qBAAqB,GAAG,YAAY,GAAG,uBAAuB,GAAG,qBAAqB,GAAG,qBAAqB,GAAG,iBAAiB,GAAG,oBAAoB,GAAG,oBAAoB,GAAG,WAAW;AAC1uB,YAAY,mBAAO,CAAC,sCAAY;AAChC,WAAW;AACX,qBAAqB,mBAAO,CAAC,kFAAkC;AAC/D,gDAA+C,EAAE,qCAAqC,kCAAkC,EAAC;AACzH,qBAAqB,mBAAO,CAAC,wDAAqB;AAClD,gDAA+C,EAAE,qCAAqC,kCAAkC,EAAC;AACzH,kBAAkB,mBAAO,CAAC,4EAA+B;AACzD,6CAA4C,EAAE,qCAAqC,+BAA+B,EAAC;AACnH,sBAAsB,mBAAO,CAAC,gEAAyB;AACvD,iDAAgD,EAAE,qCAAqC,mCAAmC,EAAC;AAC3H,sBAAsB,mBAAO,CAAC,gEAAyB;AACvD,iDAAgD,EAAE,qCAAqC,mCAAmC,EAAC;AAC3H,wBAAwB,mBAAO,CAAC,oEAA2B;AAC3D,mDAAkD,EAAE,qCAAqC,qCAAqC,EAAC;AAC/H,aAAa,mBAAO,CAAC,kDAAkB;AACvC,wCAAuC,EAAE,qCAAqC,0BAA0B,EAAC;AACzG,aAAa,mBAAO,CAAC,kDAAkB;AACvC,iDAAgD,EAAE,qCAAqC,gCAAgC,EAAC;AACxH,mBAAmB,mBAAO,CAAC,wDAAqB;AAChD,8CAA6C,EAAE,qCAAqC,gCAAgC,EAAC;AACrH,yBAAyB,mBAAO,CAAC,8EAAgC;AACjE,oDAAmD,EAAE,qCAAqC,sCAAsC,EAAC;AACjI,iBAAiB,mBAAO,CAAC,0DAAsB;AAC/C,4CAA2C,EAAE,qCAAqC,8BAA8B,EAAC;AACjH,cAAc,mBAAO,CAAC,oDAAmB;AACzC,yCAAwC,EAAE,qCAAqC,2BAA2B,EAAC;AAC3G,kBAAkB,mBAAO,CAAC,4DAAuB;AACjD,6CAA4C,EAAE,qCAAqC,+BAA+B,EAAC;AACnH,eAAe,mBAAO,CAAC,sDAAoB;AAC3C,0CAAyC,EAAE,qCAAqC,4BAA4B,EAAC;AAC7G,iBAAiB,mBAAO,CAAC,oDAAmB;AAC5C,4CAA2C,EAAE,qCAAqC,8BAA8B,EAAC;AACjH,eAAe,mBAAO,CAAC,sDAAoB;AAC3C,0CAAyC,EAAE,qCAAqC,4BAA4B,EAAC;AAC7G,eAAe,mBAAO,CAAC,sDAAoB;AAC3C,0CAAyC,EAAE,qCAAqC,4BAA4B,EAAC;AAC7G,sBAAsB,mBAAO,CAAC,oFAAmC;AACjE,iDAAgD,EAAE,qCAAqC,mCAAmC,EAAC;AAC3H,gBAAgB,mBAAO,CAAC,8DAAwB;AAChD,2CAA0C,EAAE,qCAAqC,6BAA6B,EAAC;AAC/G,iBAAiB,mBAAO,CAAC,0EAA8B;AACvD,4CAA2C,EAAE,qCAAqC,8BAA8B,EAAC;AACjH,cAAc,mBAAO,CAAC,wDAAqB;AAC3C,yCAAwC,EAAE,qCAAqC,2BAA2B,EAAC;AAC3G,oBAAoB,mBAAO,CAAC,oEAA2B;AACvD,8CAA6C,EAAE,qCAAqC,oCAAoC,EAAC;AACzH,yBAAyB,mBAAO,CAAC,gFAAiC;AAClE,gDAA+C,EAAE,qCAAqC,2CAA2C,EAAC;AAClI,eAAe,mBAAO,CAAC,4CAAe;AACtC,0CAAyC,EAAE,qCAAqC,4BAA4B,EAAC;AAC7G,2BAA2B,mBAAO,CAAC,oFAAmC;AACtE,6CAA4C,EAAE,qCAAqC,0CAA0C,EAAC;AAC9H,sDAAqD,EAAE,qCAAqC,mDAAmD,EAAC;AAChJ,2CAA0C,EAAE,qCAAqC,wCAAwC,EAAC;AAC1H,eAAe,mBAAO,CAAC,4CAAe;AACtC,0CAAyC,EAAE,qCAAqC,4BAA4B,EAAC;AAC7G,mBAAmB,mBAAO,CAAC,8DAAwB;AACnD,8CAA6C,EAAE,qCAAqC,gCAAgC,EAAC;AACrH,gBAAgB,mBAAO,CAAC,kDAAkB;AAC1C,2CAA0C,EAAE,qCAAqC,6BAA6B,EAAC;AAC/G,2BAA2B,mBAAO,CAAC,kFAAkC;AACrE,sDAAqD,EAAE,qCAAqC,wCAAwC,EAAC;AACrI,sBAAsB,mBAAO,CAAC,oFAAmC;AACjE,iDAAgD,EAAE,qCAAqC,mCAAmC,EAAC;AAC3H,iBAAiB,mBAAO,CAAC,oDAAmB;AAC5C,4CAA2C,EAAE,qCAAqC,8BAA8B,EAAC;AACjH,qBAAqB,mBAAO,CAAC,kEAA0B;AACvD,8CAA6C,EAAE,qCAAqC,qCAAqC,EAAC;AAC1H,2BAA2B,mBAAO,CAAC,8EAAgC;AACnE,sDAAqD,EAAE,qCAAqC,wCAAwC,EAAC;AACrI,iC;;;;;;;;;;;;;;;;;;;ACzEA;AACA;AACA;AACA;AACA;AACO;AACA;AACA;AACP;AACA;AACA;AACA,WAAW,4CAA4C;AACvD;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDwC;AACN;AACE;AACF;AACA;AACA;AACE;AACF;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTM;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;;AAEnC,MAAM,kDAAmB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB;AAC7S;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/aiC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;AAEO;AACP,gBAAgB,kDAAmB;;AAEnC,MAAM,kDAAmB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB;AACvd;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACreiC;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;;AAEnC,MAAM,kDAAmB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;;AAEnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,eAAe;AAC1B,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB;AACA,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB;AACA,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;;AAEnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB;AACttB;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzwBiC;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;;AAEnC,MAAM,kDAAmB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;;AAEnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;;AAEnC;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY,+CAAgB;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA,YAAY,+CAAgB;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,eAAe;AAC1B,aAAa,MAAM;AACnB;;AAEO;AACP,wBAAwB,kDAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;;AAEzD;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,cAAc;AAC1B,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,cAAc;AAC1B,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,YAAY,MAAM;AAClB;;AAEO;AACP,oBAAoB,kDAAmB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB;AACA,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,+CAAgB,+BAA+B,+CAAgB,+BAA+B,+CAAgB;AAC/I;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,uEAAuE,+CAAgB,yEAAyE,+CAAgB,yEAAyE,+CAAgB,yEAAyE,+CAAgB,yEAAyE,+CAAgB,yEAAyE,+CAAgB;AAC/zC;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACr3DiC;AACN;AACA;AACA;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;;AAEnC,MAAM,kDAAmB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,cAAc;AAC1B,YAAY,YAAY;AACxB;;AAEO;AACP;AACA;;AAEA,UAAU,+CAAgB;AAC1B;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,cAAc;AAC1B,YAAY,cAAc;AAC1B,YAAY,YAAY;AACxB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;;AAE3C,iDAAiD;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ,oBAAoB,+CAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA,WAAW,8CAAe;AAC1B,WAAW,8CAAe;AAC1B,WAAW,8CAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;;AAErC;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,GAAG;AACd,WAAW,GAAG;AACd,WAAW,GAAG;AACd,aAAa,MAAM;AACnB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;AACA;;AAEO,YAAY,2CAAU;AAC7B;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;;AAEO,iBAAiB,gDAAe;AACvC;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;AACA;;AAEO,WAAW,0CAAS;AAC3B;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;;AAEO,UAAU,yCAAQ;AACzB;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;AACA;;AAEO,UAAU,yCAAQ;AACzB;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;;AAEO,YAAY,2CAAU;AAC7B;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;AACA;;AAEO,UAAU,yCAAQ;AACzB;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;;AAEO,WAAW,0CAAS;AAC3B;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO,aAAa,4CAAW;AAC/B;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;AACA;;AAEO,oBAAoB,mDAAkB;AAC7C;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;AACA;;AAEO,gBAAgB,+CAAc;AACrC;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO,kBAAkB,iDAAgB;AACzC;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO,aAAa,4CAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,4CAAW;AAC3B,kBAAkB,gDAAe;AACjC,kBAAkB,gDAAe;AACjC;AACA,cAAc,yCAAQ;;AAEtB;AACA,MAAM,2CAAU;AAChB,UAAU,yCAAQ,sBAAsB,2CAAU;AAClD,MAAM,+CAAc;AACpB;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,MAAM,2CAAU;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP,aAAa,4CAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrsBuC;AACN;AACA;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;AAEO;AACP,eAAe,kDAAmB;;AAElC,MAAM,kDAAmB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;AACA;;AAEO;AACP,eAAe,kDAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP,eAAe,kDAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP,eAAe,kDAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA,cAAc,4CAAW;AACzB,EAAE,iDAAgB;AAClB,cAAc,kDAAmB;AACjC,EAAE,oDAAmB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,eAAe;AAC3B,YAAY,MAAM;AAClB;;AAEO,cAAc,0CAAS;AAC9B;AACA;AACA,YAAY,MAAM;AAClB,YAAY,eAAe;AAC3B,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;AACA;;AAEO,cAAc,0CAAS;AAC9B;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,eAAe;AAC3B,YAAY,MAAM;AAClB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,6CAAY;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,6CAAY;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,6CAAY;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,cAAc;AACzB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA,sBAAsB,+CAAgB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,QAAQ;AACrB;AACA;;AAEO,UAAU,yCAAQ;AACzB;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,QAAQ;AACrB;AACA;;AAEO,aAAa,4CAAW;AAC/B;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,QAAQ;AACrB;AACA;;AAEO,oBAAoB,mDAAkB;AAC7C;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,eAAe;AAC1B,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB;AACjoB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACl0BwC;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;;AAEnC,MAAM,kDAAmB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA,UAAU,8CAAe;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,eAAe;AAC1B,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;;AAE7C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA,8BAA8B,+CAAgB,qEAAqE,+CAAgB;AACnI;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/mBuC;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;;AAEnC,MAAM,kDAAmB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA,UAAU,8CAAe;AACzB,UAAU,8CAAe;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA,cAAc;;AAEd;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA,cAAc;;AAEd;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA,cAAc;;AAEd;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB;AACxN;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClxBuC;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;;AAEnC,MAAM,kDAAmB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP,gBAAgB,kDAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;;AAEO;AACP,wBAAwB;AACxB;AACA;;AAEA;AACA;;AAEA;AACA,SAAS,8CAAe;AACxB,SAAS,8CAAe;AACxB;AACA,IAAI;;AAEJ;AACA,SAAS,8CAAe;AACxB,SAAS,8CAAe;AACxB;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,sCAAsC;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB,qEAAqE,+CAAgB;AAC7S;AACA;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA,cAAc;AACd;AACA;;AAEO;AACP;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,G;;;;;;UCtpBD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;UENA;UACA;UACA;UACA","sources":["webpack://ExampleApp/webpack/universalModuleDefinition","webpack://ExampleApp/./ExampleApp/Sphere.ts","webpack://ExampleApp/./ExampleApp/index.ts","webpack://ExampleApp/./dist/AssetLoader/BitmapConfigParser.js","webpack://ExampleApp/./dist/AssetLoader/FntFontReader.js","webpack://ExampleApp/./dist/AssetLoader/ResourceResolver.js","webpack://ExampleApp/./dist/AssetLoader/VertexParser.js","webpack://ExampleApp/./dist/Core/App.js","webpack://ExampleApp/./dist/Core/Buffer/ArrayBuffer.js","webpack://ExampleApp/./dist/Core/Buffer/Texture.js","webpack://ExampleApp/./dist/Core/Builder/ConfigMapBuilder.js","webpack://ExampleApp/./dist/Core/Builder/ShaderEntityBuilder.js","webpack://ExampleApp/./dist/Core/Builder/VertexBuilder.js","webpack://ExampleApp/./dist/Core/Camera.js","webpack://ExampleApp/./dist/Core/Common/IdGenerator.js","webpack://ExampleApp/./dist/Core/Common/NotificationQueue.js","webpack://ExampleApp/./dist/Core/Common/SubscriberPool.js","webpack://ExampleApp/./dist/Core/Common/Timer.js","webpack://ExampleApp/./dist/Core/Data/Colour.js","webpack://ExampleApp/./dist/Core/Data/ColourVertexModel.js","webpack://ExampleApp/./dist/Core/Data/Coordinate.js","webpack://ExampleApp/./dist/Core/Data/FontMetaData.js","webpack://ExampleApp/./dist/Core/Data/Light.js","webpack://ExampleApp/./dist/Core/Data/ModelData.js","webpack://ExampleApp/./dist/Core/Data/PlaneType.js","webpack://ExampleApp/./dist/Core/Data/Rect2d.js","webpack://ExampleApp/./dist/Core/Data/Rect3d.js","webpack://ExampleApp/./dist/Core/Data/RenderOption.js","webpack://ExampleApp/./dist/Core/Data/RenderUnit.js","webpack://ExampleApp/./dist/Core/Data/Resource.js","webpack://ExampleApp/./dist/Core/Data/TextureVertexModel.js","webpack://ExampleApp/./dist/Core/Data/Vector2d.js","webpack://ExampleApp/./dist/Core/Data/VertexModel.js","webpack://ExampleApp/./dist/Core/EngineEntity/EngineMap.js","webpack://ExampleApp/./dist/Core/EngineEntity/EngineObject.js","webpack://ExampleApp/./dist/Core/EngineEntity/EngineObjectHelper.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelObject2d.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelObject3d.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelObjectRect3d.js","webpack://ExampleApp/./dist/Core/EngineEntity/ModelPosition.js","webpack://ExampleApp/./dist/Core/EngineEntity/Position.js","webpack://ExampleApp/./dist/Core/EngineEntity/ShaderEntity.js","webpack://ExampleApp/./dist/Core/EngineHelper.js","webpack://ExampleApp/./dist/Core/Events.js","webpack://ExampleApp/./dist/Core/Font/Font.js","webpack://ExampleApp/./dist/Core/Physics/CollisionDetection.js","webpack://ExampleApp/./dist/Core/Physics/EngineMath.js","webpack://ExampleApp/./dist/Core/Physics/Physics.js","webpack://ExampleApp/./dist/Core/Renderer.js","webpack://ExampleApp/./dist/Core/Updater.js","webpack://ExampleApp/./dist/Core/WebGL/Base/BaseProgram.js","webpack://ExampleApp/./dist/Core/WebGL/Base/ProgramReference.js","webpack://ExampleApp/./dist/Core/WebGL/Base/WebGLContext.js","webpack://ExampleApp/./dist/Core/WebGL/EntityProgram/Entity3DProgram.js","webpack://ExampleApp/./dist/Core/WebGL/EntityProgram/EntityColorProgram.js","webpack://ExampleApp/./dist/Core/WebGL/ShaderProgram/Shader3DProgram.js","webpack://ExampleApp/./dist/Core/WebGL/ShaderProgram/ShaderColourProgram.js","webpack://ExampleApp/./dist/Core/WorldDelegate.js","webpack://ExampleApp/./dist/Entity/BasicSprite.js","webpack://ExampleApp/./dist/Entity/LineColour.js","webpack://ExampleApp/./dist/Entity/Moveable.js","webpack://ExampleApp/./dist/Entity/Object3d.js","webpack://ExampleApp/./dist/Entity/Plane2d.js","webpack://ExampleApp/./dist/Entity/Plane3d.js","webpack://ExampleApp/./dist/Entity/PlaneColour.js","webpack://ExampleApp/./dist/Entity/SpriteModel.js","webpack://ExampleApp/./dist/Entity/SpriteMoveable.js","webpack://ExampleApp/./dist/Entity/TriangleColour2d.js","webpack://ExampleApp/./dist/Manager/EntityManager.js","webpack://ExampleApp/./dist/Manager/EntityManager2d.js","webpack://ExampleApp/./dist/Manager/ObjectManager.js","webpack://ExampleApp/./dist/index.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/common.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/index.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat2.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat2d.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat3.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/mat4.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/quat.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/quat2.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/vec2.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/vec3.js","webpack://ExampleApp/./node_modules/gl-matrix/esm/vec4.js","webpack://ExampleApp/webpack/bootstrap","webpack://ExampleApp/webpack/runtime/define property getters","webpack://ExampleApp/webpack/runtime/hasOwnProperty shorthand","webpack://ExampleApp/webpack/runtime/make namespace object","webpack://ExampleApp/webpack/before-startup","webpack://ExampleApp/webpack/startup","webpack://ExampleApp/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ExampleApp\"] = factory();\n\telse\n\t\troot[\"ExampleApp\"] = factory();\n})(self, () => {\nreturn ","import {\n  ModelObject3d,\n  Rect3d,\n  TextureVertexModel,\n  EngineHelper\n} from \"../dist/index\";\n\nexport default class Sphere extends ModelObject3d {\n  vertexUvCacheId: string;\n  constructor(rect: Rect3d, vertexUvCacheId: string) {\n    super(rect, new TextureVertexModel());\n    this.vertexUvCacheId = vertexUvCacheId;\n  }\n  render(engineHelper: EngineHelper) {\n    engineHelper.render(this.shaderEntity);\n  }\n  init(engineHelper: EngineHelper) {\n    this.vertexModel = engineHelper.newVertexModelUv3d(this.vertexUvCacheId);\n    super.init(engineHelper);\n  }\n}\n","import {\n  App,\n  BitmapConfigParser,\n  EngineEvent,\n  EngineObject,\n  Events,\n  Light,\n  ModelObject3d,\n  Object3d,\n  ObjectManager,\n  Plane3d,\n  PlaneType,\n  Rect3d,\n  RenderType,\n  ResourceResolver\n} from \"../dist/index\";\nimport Cube from \"./Cube\";\nimport Ground3d from \"./Ground3d\";\nimport Sphere from \"./Sphere\";\n\n\nexport default class World extends ObjectManager {\n  fontCacheId: number;\n  bitmapLoader: BitmapConfigParser;\n  ground: Ground3d;\n  racingCar: ModelObject3d;\n  lowPolyGirl: ModelObject3d;\n  cube: Cube;\n  cube2: Cube;\n  sun: Sphere;\n  road: Plane3d;\n  lowPolyTree: ModelObject3d[];\n  sky: Sphere;\n\n  constructor() {\n    super();\n  }\n\n  render() {\n    this.entities.forEach((ent: EngineObject) => {\n      if (ent) ent.render(this.engineHelper);\n    });\n  }\n\n  update() {\n    this.entities.forEach((ent: EngineObject) => {\n      if (ent) ent.update(this.engineHelper);\n    });\n    const { x, y, z } = this.engineHelper.camera.camera3d.position;\n    if (this.sky) this.sky.center(x, y, z);\n  }\n\n  event(event: EngineEvent) {\n    super.event(event);\n    if (event.eventType === Events.DRAG) {\n      this.engineHelper.camera.camera3d.angleY(-event.dxRaw);\n      this.engineHelper.camera.camera3d.angleX(event.dyRaw);\n      this.engineHelper.camera.camera3d.updateProjectionView();\n    }\n    return undefined;\n  }\n\n  loadResources() {\n    this.engineHelper\n      .getResource(\"assets/sphere.txt\")\n      .then(\n        ResourceResolver.objResolverMultiple(this.engineHelper, [\n          { textureSource: \"assets/background.jpg\", name: \"background\" },\n          { textureSource: \"assets/sun.png\", name: \"sun\" }\n        ])\n      );\n\n    this.engineHelper\n      .getResource(\"assets/low_poly_tree.txt\")\n      .then(\n        ResourceResolver.objResolver(\n          this.engineHelper,\n          \"assets/low_poly_tree.png\",\n          \"low_poly_tree\"\n        )\n      );\n\n    this.engineHelper\n      .getResource(\"assets/low_poly_girl.txt\")\n      .then(\n        ResourceResolver.objResolver(\n          this.engineHelper,\n          \"assets/low_poly_girl.png\",\n          \"low_poly_girl\"\n        )\n      );\n\n    this.engineHelper\n      .getResource(\"assets/racing_car.txt\")\n      .then(\n        ResourceResolver.objResolver(\n          this.engineHelper,\n          \"assets/racing_car.png\",\n          \"racing_car\"\n        )\n      );\n\n    this.engineHelper\n      .getResource(\"assets/paprika.fnt\")\n      .then(ResourceResolver.bmFontResolver(this.engineHelper));\n\n    this.engineHelper\n      .getResource(\"assets/atlas.txt\")\n      .then(\n        ResourceResolver.bitmapResolver(this.engineHelper, 1024, 1024, 20e-3)\n      );\n\n    this.engineHelper\n      .getResource(`/assets/missing-texture.txt`)\n      .then(ResourceResolver.bitmapResolver(this.engineHelper, 1184, 1184, 0));\n  }\n\n  init() {\n    const length = 30;\n    const width = 20;\n\n    this.engineHelper.camera.camera3d.center(0, 2, length / 2 - 4);\n    this.engineHelper.camera.camera3d.updateProjectionView();\n\n    // Sky (Sphere)\n    this.sky = new Sphere(\n      new Rect3d(0.0, 2.0, 0.0, 30.0, 32.0, 30.0),\n      \"background\"\n    );\n    this.sky.setRenderType(RenderType.TRIANGLE);\n    this.sky.init(this.engineHelper);\n    this.addEntity(this.sky);\n\n    // Low poly girl\n    this.lowPolyGirl = new Object3d(\n      new Rect3d(-4, 0.95, 5, 1.0, 1.0, 1.0),\n      \"low_poly_girl\"\n    );\n    this.lowPolyGirl.angleY(240);\n    this.lowPolyGirl.scale(0.7, 0.7, 0.7);\n    this.lowPolyGirl.setRenderType(RenderType.TRIANGLE);\n    this.lowPolyGirl.init(this.engineHelper);\n    this.addEntity(this.lowPolyGirl);\n\n    // Racing car\n    this.racingCar = new Object3d(\n      new Rect3d(0, -0.25, 0, 1.5, 1.5, 1.5),\n      \"racing_car\"\n    );\n    this.racingCar.angleY(135);\n    this.racingCar.setRenderType(RenderType.TRIANGLE);\n    this.racingCar.init(this.engineHelper);\n    this.addEntity(this.racingCar);\n\n    // Ground (tiled)\n    // this.ground = new Ground3d(\n    //   new Rect3d(0.0, 0.0, 0.0, width, 0, length),\n    //   \"ground\"\n    // );\n    // this.ground.init(this.engineHelper);\n    // this.addEntity(this.ground);\n\n    // // Cube 1\n    // this.cube = new Cube(\n    //   new Rect3d(-4, 2, -12, 1, 1, 1),\n    //   \"assets/atlas.png\",\n    //   [\"wood\", \"cloth\", \"sky\", \"grass\", \"paper\", \"rock\"]\n    // );\n    // this.cube.init(this.engineHelper);\n    // this.addEntity(this.cube);\n\n    // // Cube 2\n    // this.cube2 = new Cube(\n    //   new Rect3d(4, 2, 2, 1, 1, 1),\n    //   \"assets/atlas.png\",\n    //   [\"wood\", \"cloth\", \"sky\", \"grass\", \"paper\", \"rock\"]\n    // );\n    // this.cube2.init(this.engineHelper);\n    // this.addEntity(this.cube2);\n\n    // Sun (Sphere)\n    this.sun = new Sphere(\n      new Rect3d(0.0, 10, -15, 1.0, 1.0, 1.0),\n      \"sun\"\n    );\n    this.sun.setRenderType(RenderType.TRIANGLE);\n    this.sun.init(this.engineHelper);\n    this.addEntity(this.sun);\n\n    // Low poly trees\n    this.lowPolyTree = [];\n    const treeCreator = (l: number, w: number) => {\n      const tree = new Object3d(\n        new Rect3d(l, 0, w, 1.0, 1.0, 1.0),\n        \"low_poly_tree\"\n      );\n      const heightRand = Math.random() * 0.8 - 0.8;\n      const scale = 3.5 + heightRand;\n      tree.scale(scale, scale, scale);\n      tree.setRenderType(RenderType.TRIANGLE);\n      tree.init(this.engineHelper);\n      this.lowPolyTree.push(tree);\n      this.addEntity(tree);\n    };\n    for (let l = 0; l < length; l += 4) {\n      treeCreator(-width / 2, l - length / 2);\n      treeCreator(width / 2 - 1, l - length / 2);\n    }\n    for (let w = 1; w < width - 1; w += 4) {\n      treeCreator(w - width / 2, -length / 2);\n      treeCreator(w - width / 2, length / 2 - 1);\n    }\n\n    // Road (as a plane)\n    const vertexModel = this.engineHelper.newVertexModel(\n      \"road\",\n      PlaneType.XZ\n    );\n    this.road = new Plane3d(\n      new Rect3d(0, 0.01, 0.0, 1, 1, 1),\n      vertexModel\n    );\n    this.road.scale(3, 1, (2 * width) / Math.sqrt(2));\n    this.road.angleY(-45);\n    this.road.center(-2, 0.01, -15);\n    this.road.init(this.engineHelper);\n    this.addEntity(this.road);\n\n    // initialise all the engine objects\n    super.init();\n\n    this.engineHelper.setLighting(\n      new Light({\n        pos: [-20, 15, -20],\n        in: [1.0, 1.0, 1.0],\n        attenuation: 0.015,\n        ambientCoeff: 0.3,\n        at: [0.0, 0.0, 0.0]\n      })\n    );\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BitmapConfigParser = /** @class */ (function () {\n    function BitmapConfigParser(raw, bitmapWidth, bitmapHeight, precision) {\n        var _this = this;\n        this.SOURCE_KEY = \"$source =\";\n        this.map = raw\n            .split(\"\\n\")\n            .map(function (line) {\n            return _this.processLine(bitmapWidth, bitmapHeight, precision, line);\n        })\n            .filter(function (e) { return !!e; })\n            .reduce(function (sum, next) { return (__assign(__assign({}, sum), next)); });\n        this.raw = raw\n            .split(\"\\n\")\n            .map(function (line) { return _this.processRawLine(line); })\n            .filter(function (e) { return !!e; })\n            .reduce(function (sum, next) { return (__assign(__assign({}, sum), next)); });\n    }\n    BitmapConfigParser.prototype.processRawLine = function (line) {\n        if (line.startsWith(this.SOURCE_KEY)) {\n            this.source = line\n                .substr(line.indexOf(this.SOURCE_KEY) + this.SOURCE_KEY.length)\n                .trim()\n                .replace(\"\\r\", \"\")\n                .replace(\"\\n\", \"\");\n            if (window.location.origin === \"file://\") {\n                console.info(\"file based loading should not have ./ in front of the source\");\n            }\n            return;\n        }\n        else {\n            return this.processTextureLine(line);\n        }\n    };\n    BitmapConfigParser.prototype.processTextureLine = function (line) {\n        var _a;\n        var seperator = \"\\u0020\";\n        var nameindex = line.indexOf(seperator);\n        var key = line.substr(0, nameindex);\n        var temp = line.substr(nameindex + 1);\n        temp = temp.substr(temp.indexOf(seperator) + 1);\n        var leftindex = temp.indexOf(seperator);\n        var left = parseFloat(temp.substr(0, leftindex + 1));\n        temp = temp.substr(leftindex + 1);\n        var topindex = temp.indexOf(seperator);\n        var top = parseFloat(temp.substr(0, topindex));\n        temp = temp.substr(topindex + 1);\n        var widthIndex = temp.indexOf(seperator);\n        var width = parseFloat(temp.substr(0, widthIndex));\n        temp = temp.substr(widthIndex);\n        var height = parseFloat(temp);\n        return _a = {},\n            _a[key] = [left, top, width, height],\n            _a;\n    };\n    BitmapConfigParser.prototype.processLine = function (bitmapWidth, bitmapHeight, precision, line) {\n        var _a;\n        var seperator = \"\\u0020\";\n        var nameindex = line.indexOf(seperator);\n        var key = line.substr(0, nameindex);\n        var temp = line.substr(nameindex + 1);\n        temp = temp.substr(temp.indexOf(seperator) + 1);\n        var leftindex = temp.indexOf(seperator);\n        var left = parseFloat(temp.substr(0, leftindex + 1));\n        temp = temp.substr(leftindex + 1);\n        var topindex = temp.indexOf(seperator);\n        var top = parseFloat(temp.substr(0, topindex));\n        temp = temp.substr(topindex + 1);\n        var widthIndex = temp.indexOf(seperator);\n        var width = parseFloat(temp.substr(0, widthIndex));\n        temp = temp.substr(widthIndex);\n        var height = parseFloat(temp);\n        return _a = {},\n            _a[key] = [\n                (left + width) / bitmapWidth - precision,\n                (height + top) / bitmapHeight - precision,\n                (left + width) / bitmapWidth - precision,\n                top / bitmapHeight + precision,\n                left / bitmapWidth + precision,\n                top / bitmapHeight + precision,\n                left / bitmapWidth + precision,\n                (top + height) / bitmapHeight - precision,\n            ],\n            _a;\n    };\n    BitmapConfigParser.prototype.getMap = function () {\n        return this.map;\n    };\n    BitmapConfigParser.prototype.getTextureSource = function () {\n        return this.source;\n    };\n    return BitmapConfigParser;\n}());\nexports.default = BitmapConfigParser;\n//# sourceMappingURL=BitmapConfigParser.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FontMetaData_1 = require(\"../Core/Data/FontMetaData\");\nvar FntFontReader = /** @class */ (function (_super) {\n    __extends(FntFontReader, _super);\n    function FntFontReader(raw) {\n        var _this = _super.call(this) || this;\n        var lines = raw.split(\"\\n\");\n        _this.context = new FontMetaData_1.FontMeta();\n        for (var lineIdx in lines) {\n            if (!lines.hasOwnProperty(lineIdx)) {\n                continue;\n            }\n            var line = lines[lineIdx];\n            _this.parseWidth(_this.context, line);\n            _this.parseHeight(_this.context, line);\n            _this.parseFilename(_this.context, line);\n            _this.parseLineHeight(_this.context, line);\n            _this.parseChar(_this.context, line);\n        }\n        return _this;\n    }\n    FntFontReader.prototype.parseChar = function (context, line) {\n        var match = line.match(FntFontReader.FONT_CHAR);\n        if (match) {\n            var font = new FontMetaData_1.FontCharacter();\n            font.charCode = parseFloat(match[1]);\n            font.x = parseFloat(match[2]);\n            font.y = parseFloat(match[3]);\n            font.width = parseFloat(match[4]);\n            font.height = parseFloat(match[5]);\n            font.xOffset = parseFloat(match[6]) / context.width;\n            font.yOffset = parseFloat(match[7]) / context.height;\n            font.char = String.fromCharCode(font.charCode);\n            context.fonts[font.char] = font;\n        }\n    };\n    FntFontReader.prototype.parseHeight = function (context, line) {\n        if (!context.height) {\n            var match = line.match(FntFontReader.HEIGHT);\n            if (match) {\n                context.height = parseFloat(match[1]);\n            }\n        }\n    };\n    FntFontReader.prototype.parseLineHeight = function (context, line) {\n        if (!context.lineHeight) {\n            var match = line.match(FntFontReader.LINE_HEIGHT);\n            if (match) {\n                context.lineHeight = parseFloat(match[1]);\n            }\n        }\n    };\n    FntFontReader.prototype.parseWidth = function (context, line) {\n        if (!context.width) {\n            var match = line.match(FntFontReader.WIDTH);\n            if (match) {\n                context.width = parseFloat(match[1]);\n            }\n        }\n    };\n    FntFontReader.prototype.parseFilename = function (context, line) {\n        if (!context.filename) {\n            var match = line.match(FntFontReader.FILENAME);\n            if (match) {\n                context.filename = match[1];\n            }\n        }\n    };\n    FntFontReader.FILENAME = /file=\"([\\w\\d\\W\\D]+)\"/;\n    FntFontReader.WIDTH = /scaleW=([\\d]+)/;\n    FntFontReader.HEIGHT = /scaleH=([\\d]+)/;\n    FntFontReader.LINE_HEIGHT = /lineHeight=([\\d]+)/;\n    FntFontReader.FONT_CHAR = new RegExp(\"char[\\\\s]+\" +\n        [\"id\", \"x\", \"y\", \"width\", \"height\", \"xoffset\", \"yoffset\"]\n            .map(function (column) { return \"\".concat(column, \"=([-\\\\d]+)[\\\\s]+\"); })\n            .reduce(function (sum, str) { return sum + str; }));\n    return FntFontReader;\n}(FontMetaData_1.default));\nexports.default = FntFontReader;\n//# sourceMappingURL=FntFontReader.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FntFontReader_1 = require(\"./FntFontReader\");\nvar BitmapConfigParser_1 = require(\"./BitmapConfigParser\");\nvar VertexParser_1 = require(\"./VertexParser\");\nvar ResourceResolver = /** @class */ (function () {\n    function ResourceResolver() {\n    }\n    ResourceResolver.bmFontResolver = function (_) {\n        return function (result) {\n            result.registerFont(new FntFontReader_1.default(result.data));\n            return result;\n        };\n    };\n    ResourceResolver.bitmapResolver = function (engineHelper, bitmapWidth, bitmapHeight, precision) {\n        return function (result) {\n            var bitmapLoader = new BitmapConfigParser_1.default(result.data, bitmapWidth, bitmapHeight, precision);\n            var textureSource = bitmapLoader.getTextureSource();\n            for (var key in bitmapLoader.getMap()) {\n                if (bitmapLoader.map.hasOwnProperty(key)) {\n                    var uv = bitmapLoader.map[key];\n                    engineHelper.addUVCache(textureSource, key, uv);\n                }\n            }\n            return result;\n        };\n    };\n    ResourceResolver.objResolverMultiple = function (engineHelper, sources) {\n        return function (result) {\n            sources.map(function (_a) {\n                var textureSource = _a.textureSource, name = _a.name;\n                return engineHelper.addVertexUvCache(textureSource, name, new VertexParser_1.default(result.data).vertices);\n            });\n        };\n    };\n    ResourceResolver.objResolver = function (engineHelper, textureSource, name) {\n        return function (result) {\n            engineHelper.addVertexUvCache(textureSource, name, new VertexParser_1.default(result.data).vertices);\n        };\n    };\n    return ResourceResolver;\n}());\nexports.default = ResourceResolver;\n//# sourceMappingURL=ResourceResolver.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VertexParser = /** @class */ (function () {\n    function VertexParser(raw) {\n        if (typeof raw === \"string\") {\n            this.vertices = raw.split(\",\").map(parseFloat);\n        }\n        else if (raw instanceof Array) {\n            this.vertices = raw;\n        }\n        else {\n            console.error(\"Unexpected obj type\");\n        }\n    }\n    return VertexParser;\n}());\nexports.default = VertexParser;\n//# sourceMappingURL=VertexParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AppSubscription = exports.WebGLContainer = void 0;\nvar Camera_1 = require(\"./Camera\");\nvar Updater_1 = require(\"./Updater\");\nvar Renderer_1 = require(\"./Renderer\");\nvar EngineHelper_1 = require(\"./EngineHelper\");\nvar Events_1 = require(\"./Events\");\nvar Timer_1 = require(\"./Common/Timer\");\nvar NotificationQueue_1 = require(\"./Common/NotificationQueue\");\nvar SubscriberPool_1 = require(\"./Common/SubscriberPool\");\nvar WebGLContainer = /** @class */ (function () {\n    function WebGLContainer(elementId, parentElement, aspectRatio, isFullScreen, restoreContentFn) {\n        this.isFullScreen = isFullScreen;\n        this.aspectRatio = aspectRatio;\n        this.canvas = document.createElement(\"canvas\");\n        if (elementId) {\n            this.canvas.id = elementId;\n        }\n        else {\n            this.canvas.id = \"app\";\n        }\n        this.canvas.addEventListener(\"webglcontextlost\", function (event) { return event.preventDefault(); }, false);\n        this.canvas.addEventListener(\"webglcontextrestored\", restoreContentFn, false);\n        parentElement.appendChild(this.canvas);\n    }\n    WebGLContainer.prototype.delete = function () {\n        this.canvas.style.display = \"none\";\n        if (this.canvas.parentElement) {\n            this.canvas.parentElement.removeChild(this.canvas);\n        }\n    };\n    WebGLContainer.prototype.resize = function (measureElement) {\n        var width = measureElement.offsetWidth;\n        var height = width / this.getAspectRatio();\n        if (this.isFullScreen) {\n            width = window.innerWidth;\n            height = window.innerHeight;\n        }\n        this.canvas.width = width * window.devicePixelRatio;\n        this.canvas.height = height * window.devicePixelRatio;\n        this.canvas.style.height = \"\".concat(height, \"px\");\n        this.canvas.style.width = \"\".concat(width, \"px\");\n    };\n    WebGLContainer.prototype.getAspectRatio = function () {\n        var aspectRatio = this.aspectRatio;\n        if (!aspectRatio) {\n            var width = window.innerWidth ||\n                document.documentElement.clientWidth ||\n                document.body.clientWidth;\n            var height = window.innerHeight ||\n                document.documentElement.clientHeight ||\n                document.body.clientHeight;\n            aspectRatio = width / height;\n        }\n        return aspectRatio;\n    };\n    WebGLContainer.prototype.getCtx = function () {\n        var ctx = this.canvas.getContext(\"webgl\") ||\n            this.canvas.getContext(\"experimental-webgl\");\n        if (!ctx) {\n            throw new Error(\"WebGL not avaliable\");\n        }\n        return ctx;\n    };\n    return WebGLContainer;\n}());\nexports.WebGLContainer = WebGLContainer;\nvar AppSubscription = /** @class */ (function () {\n    function AppSubscription() {\n    }\n    AppSubscription.START_ITERATION = new SubscriberPool_1.Subscription(\"App#StartIteration\");\n    AppSubscription.GET_FPS = new SubscriberPool_1.Subscription(\"App#GetFPS\");\n    return AppSubscription;\n}());\nexports.AppSubscription = AppSubscription;\nvar App = /** @class */ (function () {\n    function App(args) {\n        var _this = this;\n        this.ready = false;\n        this.isPaused = true;\n        this.frameTime = 0.0;\n        this.framesElapsed = 0;\n        this.setup = function () {\n            var args = _this.args;\n            _this.timer = new Timer_1.default();\n            _this.camera = new Camera_1.default();\n            _this.updater = new Updater_1.default(args);\n            _this.renderer = new Renderer_1.default(args, _this.webGLContainer, _this.camera, _this.notificationQueue, _this.subscriberPool);\n            _this.camera.setupCamera(args.camera, args.aspectRatio, _this.webGLContainer.canvas);\n            _this.engineHelper = new EngineHelper_1.default(_this.notificationQueue, _this.subscriberPool, _this.camera);\n            _this.world = _this.args.world;\n            _this.world.setEngineHelper(_this.engineHelper);\n        };\n        this.onEvent = function (event) {\n            if (event.eventType === Events_1.default.RESIZE) {\n                _this.resizeScreen();\n            }\n            if (_this.world) {\n                _this.world.event(event);\n            }\n            return true;\n        };\n        this.destroy = function () {\n            clearInterval(_this.interval);\n            _this.renderer.delete();\n            Events_1.event.delete(_this.onEvent);\n            _this.webGLContainer.delete();\n            console.log(\"destroying\", _this);\n        };\n        this.animationFrame = function () {\n            if (!_this.ready) {\n                return;\n            }\n            try {\n                _this.updater.update(_this.timer.peak(), _this.engineHelper);\n                _this.renderer.render(_this.timer.peak(), _this.engineHelper);\n                _this.notifyFrames();\n                _this.timer.start();\n            }\n            catch (error) {\n                console.error(error);\n                clearInterval(_this.interval);\n                if (_this.errorCallback) {\n                    _this.errorCallback(error);\n                }\n            }\n        };\n        this.startIteration = function () { return requestAnimationFrame(_this.animationFrame); };\n        this.notifyFrames = function () {\n            _this.frameTime += _this.timer.peak();\n            _this.framesElapsed++;\n            if (_this.framesElapsed === 60) {\n                if (_this.args.subscribe) {\n                    _this.args.subscribe({\n                        fps: (1000.0 / _this.frameTime) * _this.framesElapsed,\n                    });\n                }\n                _this.framesElapsed = 0;\n                _this.frameTime = 0;\n            }\n        };\n        this.startRunLoop = function () {\n            _this.timer.start();\n            var fps = _this.fps;\n            _this.interval = setInterval(function () {\n                if (!_this.isPaused) {\n                    _this.animationFrame();\n                }\n                if (_this.isStepRender) {\n                    clearInterval(_this.interval);\n                    _this.interval = undefined;\n                }\n                if (_this.fps !== fps) {\n                    clearInterval(_this.interval);\n                    _this.interval = undefined;\n                    _this.startRunLoop();\n                }\n            }, fps);\n        };\n        this.initSystem = function () {\n            _this.initFont();\n            _this.world.init(_this.engineHelper);\n            _this.renderer.init();\n            return _this.engineHelper.getAllResourcesLoading();\n        };\n        this.loadResources = function (resources) {\n            _this.world.loadResources(resources);\n            return _this.engineHelper.getAllResourcesLoading();\n        };\n        this.runApp = function () {\n            _this.ready = true;\n            if (!_this.isStepRender) {\n                _this.startRunLoop();\n            }\n            else {\n                _this.animationFrame();\n            }\n        };\n        this.onRunError = function (error) {\n            clearInterval(_this.interval);\n            console.error(error);\n            throw error;\n        };\n        this.run = function () {\n            console.log(\"Running\", _this);\n            var startTime = new Date();\n            return _this.loadResources(_this.args.resources)\n                .then(_this.initSystem)\n                .then(_this.renderer.bindBuffer)\n                .then(_this.runApp)\n                .then(function () {\n                return console.log(\"startup time: \".concat(new Date().getTime() - startTime.getTime()));\n            })\n                .then(function () {\n                return new Promise(function (resolve) {\n                    setTimeout(resolve, 1);\n                });\n            })\n                .catch(_this.onRunError);\n        };\n        this.resizeCanvas = function (measureElement) {\n            _this.webGLContainer.resize(measureElement);\n        };\n        this.resizeScreen = function () {\n            var measureElement = document.getElementById(_this.args.elementId);\n            _this.resizeCanvas(measureElement);\n            _this.camera.setupCamera(_this.args.camera, _this.args.aspectRatio, _this.webGLContainer.canvas);\n            _this.notificationQueue.push(Renderer_1.RendererNotification.RESIZE_SCREEN);\n            if (_this.isStepRender && _this.ready) {\n                _this.animationFrame();\n            }\n        };\n        this.buildCanvas = function (args) {\n            if (_this.webGLContainer) {\n                return;\n            }\n            var appElement = document.body;\n            if (args.elementId) {\n                appElement = document.getElementById(args.elementId);\n            }\n            _this.webGLContainer = new WebGLContainer(args.canvasId, appElement, args.aspectRatio, args.isFullScreen, _this.setup);\n            _this.resizeCanvas(appElement);\n        };\n        this.reset = function () {\n            if (_this.world) {\n                _this.world.reset();\n            }\n            else {\n                console.error(\"Game Delegate not ready to call reset\");\n            }\n        };\n        this.toggleShow = function () {\n            if (_this.isVisible) {\n                _this.hide();\n            }\n            else {\n                _this.show();\n            }\n        };\n        this.show = function () {\n            _this.webGLContainer.canvas.style.display = \"initial\";\n            _this.resizeScreen();\n            _this.isVisible = true;\n        };\n        this.hide = function () {\n            _this.webGLContainer.canvas.style.display = \"none\";\n            _this.isVisible = false;\n        };\n        this.togglePause = function () {\n            _this.isPaused = !_this.isPaused;\n        };\n        this.pause = function () {\n            _this.isPaused = true;\n        };\n        this.unpause = function () {\n            _this.isPaused = false;\n        };\n        if (!args) {\n            throw new Error(\"no args passed into App\");\n        }\n        this.notificationQueue = new NotificationQueue_1.default();\n        this.subscriberPool = new SubscriberPool_1.default();\n        this.subscriberPool.listen(AppSubscription.START_ITERATION, this.startIteration);\n        this.args = args;\n        this.buildCanvas(args);\n        this.isStepRender = args.isStepRender || false;\n        Events_1.event.bind(this.onEvent, this.webGLContainer);\n        Events_1.event.setThrottle(args.eventThrottle || 1000.0 / 25.0);\n        this.errorCallback = args.error;\n        this.setup();\n        if (args.clearColour) {\n            this.renderer.glContext.setClearColor(args.clearColour);\n        }\n        this.setFPS(args.fps);\n    }\n    App.prototype.setFPS = function (fps) {\n        this.fps = 1000.0 / fps || 1000.0 / 30.0;\n        this.subscriberPool.publish(AppSubscription.GET_FPS, this.fps);\n    };\n    App.prototype.toggleStepRender = function (run) {\n        if (run === void 0) { run = !this.isStepRender; }\n        this.isStepRender = run;\n        if (!this.isStepRender && !this.interval) {\n            this.startRunLoop();\n        }\n    };\n    App.prototype.initFont = function () {\n        this.engineHelper.initFont();\n    };\n    return App;\n}());\nexports.default = App;\n//# sourceMappingURL=App.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArrayBuffer = /** @class */ (function () {\n    function ArrayBuffer(ctx) {\n        this.bufferArray = [];\n        this.verticeSize = 0;\n        this.bufferReg = {};\n        this.bufferRegId = 1;\n        this.deleted = false;\n        this.isBuffered = false;\n        this.bufferid = ctx.createBuffer();\n        this.ctx = ctx;\n        ctx.bindBuffer(ctx.ARRAY_BUFFER, this.bufferid);\n    }\n    ArrayBuffer.prototype.delete = function () {\n        this.ctx.deleteBuffer(this.bufferid);\n        this.deleted = true;\n    };\n    ArrayBuffer.prototype.bufferBind = function () {\n        if (this.deleted) {\n            return;\n        }\n        this.isBuffered = true;\n        this.bind();\n        if (!this.isBuffered) {\n            this.maxSize = 200000;\n        }\n        else {\n            this.maxSize = this.bufferArray.length * 2.0;\n        }\n        var buffer = new Float32Array(this.maxSize);\n        buffer.fill(0, this.bufferArray.length);\n        buffer.set(this.bufferArray);\n        this.ctx.bufferData(this.ctx.ARRAY_BUFFER, buffer, this.ctx.STATIC_DRAW);\n    };\n    ArrayBuffer.prototype.length = function () {\n        return this.verticeSize;\n    };\n    ArrayBuffer.prototype.bufferSub = function (offset, data, vertexSize) {\n        if (this.deleted) {\n            return;\n        }\n        this.bind();\n        this.ctx.bufferSubData(this.ctx.ARRAY_BUFFER, offset * Float32Array.BYTES_PER_ELEMENT * vertexSize, new Float32Array(data));\n    };\n    ArrayBuffer.prototype.reset = function () {\n        this.bufferArray = [];\n    };\n    ArrayBuffer.prototype.push = function (vertices, size) {\n        this.bufferArray = this.bufferArray.concat(vertices);\n        this.verticeSize += size;\n        if (this.isBuffered) {\n            if (this.bufferArray.length < this.maxSize) {\n                this.bufferSub(this.verticeSize - size, vertices, vertices.length / size);\n            }\n            else {\n                this.bufferBind();\n                console.log(\"buffer resizing as limit has been reached\");\n            }\n        }\n    };\n    ArrayBuffer.prototype.bind = function () {\n        if (this.deleted === true) {\n            return;\n        }\n        this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER, this.bufferid);\n    };\n    ArrayBuffer.prototype.unbind = function () {\n        // do nothing for now\n    };\n    return ArrayBuffer;\n}());\nexports.default = ArrayBuffer;\n//# sourceMappingURL=ArrayBuffer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextureLoader = /** @class */ (function () {\n    function TextureLoader() {\n    }\n    TextureLoader.prototype.loadImage = function (src) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.image = document.createElement(\"img\");\n            if (window.location.origin !== \"file://\") {\n                _this.image.crossOrigin = \"anonymous\";\n            }\n            _this.image.onload = function () { return resolve(); };\n            _this.image.onerror = function (error) { return reject(error); };\n            _this.image.src = src;\n        });\n    };\n    return TextureLoader;\n}());\nvar Texture = /** @class */ (function (_super) {\n    __extends(Texture, _super);\n    function Texture(src, ctx) {\n        var _this = _super.call(this) || this;\n        _this.isLoaded = false;\n        _this.isError = false;\n        _this.load = _this.loadImage(src)\n            .then(function () { return _this.onLoad(ctx); })\n            .catch(function (error) { return _this.onError(error); });\n        return _this;\n    }\n    Texture.prototype.onError = function (error) {\n        this.isError = true;\n        this.isLoaded = false;\n        throw error;\n    };\n    Texture.prototype.onLoad = function (ctx) {\n        this.handleTextureLoaded(this.image, ctx);\n        this.isLoaded = true;\n        this.width = this.image.width;\n        this.height = this.image.height;\n        return true;\n    };\n    Texture.prototype.newTextureUnit = function () {\n        return Texture.textureCount++;\n    };\n    Texture.prototype.bindTexture = function (ctx, sampler) {\n        if (this.isLoaded) {\n            ctx.uniform1i(sampler, this.texUnit);\n        }\n    };\n    Texture.prototype.handleTextureLoaded = function (image, ctx) {\n        this.texUnit = this.newTextureUnit();\n        ctx.activeTexture(ctx.TEXTURE0 + this.texUnit);\n        this.texture = this.createTextureFromImage(image, ctx);\n    };\n    Texture.prototype.createTextureFromImage = function (image, ctx) {\n        var texture = ctx.createTexture();\n        ctx.bindTexture(ctx.TEXTURE_2D, texture);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.NEAREST);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.NEAREST);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_S, ctx.CLAMP_TO_EDGE);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_T, ctx.CLAMP_TO_EDGE);\n        ctx.texImage2D(ctx.TEXTURE_2D, 0, ctx.RGBA, ctx.RGBA, ctx.UNSIGNED_BYTE, image);\n        return texture;\n    };\n    Texture.textureCount = 0;\n    return Texture;\n}(TextureLoader));\nexports.default = Texture;\n//# sourceMappingURL=Texture.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigEntity = void 0;\nvar BasicSprite_1 = require(\"../../Entity/BasicSprite\");\nvar LineColour_1 = require(\"../../Entity/LineColour\");\nvar Moveable_1 = require(\"../../Entity/Moveable\");\nvar Plane2d_1 = require(\"../../Entity/Plane2d\");\nvar Plane3d_1 = require(\"../../Entity/Plane3d\");\nvar PlaneColour_1 = require(\"../../Entity/PlaneColour\");\nvar SpriteModel_1 = require(\"../../Entity/SpriteModel\");\nvar SpriteMoveable_1 = require(\"../../Entity/SpriteMoveable\");\nvar TriangleColour2d_1 = require(\"../../Entity/TriangleColour2d\");\nvar Coordinate_1 = require(\"../Data/Coordinate\");\nvar Rect2d_1 = require(\"../Data/Rect2d\");\nvar Rect3d_1 = require(\"../Data/Rect3d\");\nvar EngineObject_1 = require(\"../EngineEntity/EngineObject\");\nvar Events_1 = require(\"../Events\");\nvar Font_1 = require(\"../Font/Font\");\nvar Physics_1 = require(\"../Physics/Physics\");\nvar ConfigMapBuilder = /** @class */ (function () {\n    function ConfigMapBuilder(engineHelper) {\n        this.engineHelper = engineHelper;\n        this.objects = [];\n        this.ref = {};\n        this.anchor = {};\n        this.texts = [];\n    }\n    ConfigMapBuilder.prototype.build = function (map) {\n        for (var prop in map) {\n            if (map.hasOwnProperty(prop)) {\n                if (prop.startsWith(\"$\")) {\n                    this.ref[prop] = map[prop];\n                }\n                else if (prop.startsWith(\"+\")) {\n                    this.anchor[prop] = map[prop];\n                }\n                else {\n                    var object = map[prop];\n                    this.initObjectPosition(object);\n                    if (object.$ref && this.ref[object.$ref]) {\n                        // merge ref with object\n                        object = __assign(__assign({}, this.ref[object.$ref]), object);\n                    }\n                    if (object.$anchor && this.anchor[object.$anchor]) {\n                        var anchor = this.anchor[object.$anchor];\n                        // translate anchor\n                        if (object.type === \"Font\") {\n                            object.position.x += anchor.position.x;\n                            object.position.y += anchor.position.y;\n                        }\n                        else {\n                            object.position.x += anchor.position.x;\n                            object.position.y += anchor.position.y;\n                            object.position.width += anchor.position.width;\n                            object.position.height += anchor.position.height;\n                        }\n                    }\n                    this.buildModel(object);\n                }\n            }\n        }\n    };\n    ConfigMapBuilder.prototype.initObjectPosition = function (object) {\n        if (!object.position) {\n            object.position = { x: 0, y: 0, height: 0, width: 0 };\n        }\n        else {\n            if (!object.position.x) {\n                object.position.x = 0;\n            }\n            if (!object.position.y) {\n                object.position.y = 0;\n            }\n            if (!object.position.width) {\n                object.position.width = 0;\n            }\n            if (!object.position.height) {\n                object.position.height = 0;\n            }\n        }\n    };\n    ConfigMapBuilder.prototype.buildModel = function (config) {\n        if (!config.type) {\n            console.error(\"unable to parse empty type for object\", config);\n            return null;\n        }\n        var obj = null;\n        if (config.type === \"Plane2D\") {\n            obj = this.createPlane2D(config.model, this.createRect2d(config.position, config.isCentre), config.hasPhysics);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Plane3D\") {\n            obj = this.createPlane3D(config.model, this.createRect3d(config.position, config.isCentre), config.hasPhysics, config.planeType);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Triangle\") {\n            obj = this.createTriangle(config.rgba, this.createRect2d(config.position, config.isCentre));\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"SpriteMoveable\") {\n            obj = this.createSpriteMoveable(config.spriteModel, this.createRect2d(config.position, config.isCentre), config.hasPhysics, config.ticks);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Moveable\") {\n            obj = this.createMoveable(config.model, this.createRect2d(config.position, config.isCentre), config.hasPhysics);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Sprite\") {\n            obj = this.createSprite(config.spriteModel, this.createRect2d(config.position, config.isCentre), config.hasPhysics, config.ticks);\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Font\") {\n            obj = this.createText(config.texture, this.createCoordinate(config.position), config.fontSize, config.text);\n            obj.id = config.id;\n        }\n        else if (config.type === \"Colour\") {\n            obj = this.createColour(config.rgba, this.createRect2d(config.position, config.isCentre));\n            this.hookCustomHandler(config, obj);\n        }\n        else if (config.type === \"Line\") {\n            obj = this.createLineColour(config.rgba, config.point1, config.point2, config.thickness);\n            this.hookCustomHandler(config, obj);\n        }\n        else {\n            console.warn(\"Unable to find entity of type \".concat(config.type));\n        }\n        if (obj instanceof EngineObject_1.default) {\n            obj.$id = config.id || obj.$id;\n            obj.data = config.data;\n            obj.isLastEvent = config.isLastEvent || false;\n        }\n        if (obj instanceof EngineObject_1.default || obj instanceof Font_1.FontReference) {\n            if (config.isTop) {\n                obj.setTop(true);\n            }\n        }\n        if (obj instanceof EngineObject_1.default && config.clone) {\n            obj.setClone(true);\n        }\n        // @ts-expect-error ignore\n        return obj;\n    };\n    ConfigMapBuilder.prototype.hookCustomHandler = function (config, object) {\n        var _this = this;\n        if (config.render) {\n            var _renderCustom_1;\n            if (typeof window[config.render] === \"function\") {\n                _renderCustom_1 = window[config.render].bind(object);\n            }\n            else if (typeof config.render === \"function\") {\n                _renderCustom_1 = config.render;\n            }\n            else {\n                _renderCustom_1 = function () { };\n            }\n            var _render_1 = object.render.bind(object);\n            object.render = function (engineHelper) {\n                _render_1(engineHelper);\n                _renderCustom_1(engineHelper);\n            };\n        }\n        if (config.update) {\n            var _updateCustom_1;\n            if (typeof window[config.update] === \"function\") {\n                _updateCustom_1 = window[config.update].bind(object);\n            }\n            else if (typeof config.update === \"function\") {\n                _updateCustom_1 = config.update;\n            }\n            else {\n                _updateCustom_1 = function () { };\n            }\n            var _update_1 = object.update.bind(object);\n            object.update = function (engineHelper) {\n                _update_1(engineHelper);\n                _updateCustom_1(engineHelper);\n            };\n        }\n        var onClickedDefined = config.onClick && typeof config.onClick === \"function\";\n        if (config.event) {\n            var _eventCustom_1;\n            if (typeof window[config.event] === \"function\") {\n                _eventCustom_1 = window[config.event].bind(object);\n            }\n            else if (typeof config.event === \"function\") {\n                _eventCustom_1 = config.event;\n            }\n            else {\n                _eventCustom_1 = function () { };\n            }\n            var _event_1 = object.event.bind(object);\n            object.event = function (event, engineHelper) {\n                var shouldPropagate = true;\n                // only stop propagation if the event returns false\n                shouldPropagate =\n                    shouldPropagate && _event_1(event, engineHelper) !== false;\n                shouldPropagate =\n                    shouldPropagate &&\n                        _eventCustom_1(event, engineHelper, object) !== false;\n                if (onClickedDefined) {\n                    shouldPropagate =\n                        shouldPropagate &&\n                            _this.isClicked(event, engineHelper, object, config.onClick) !==\n                                false;\n                }\n                return shouldPropagate;\n            };\n        }\n        else if (onClickedDefined) {\n            var _event_2 = object.event.bind(object);\n            object.event = function (event, engineHelper) {\n                var shouldPropagate = _event_2(event, engineHelper) !== false;\n                shouldPropagate =\n                    shouldPropagate &&\n                        _this.isClicked(event, engineHelper, object, config.onClick) !== false;\n                return shouldPropagate;\n            };\n        }\n    };\n    ConfigMapBuilder.prototype.isClicked = function (event, engineHelper, object, onClick) {\n        if (event.eventType === Events_1.default.UP &&\n            engineHelper.isClicked(event, object.getRect2()) &&\n            object.hidden === false) {\n            return onClick.bind(object)(event, engineHelper, object);\n        }\n    };\n    ConfigMapBuilder.prototype.createRect2d = function (position, isCentre) {\n        var rect = new Rect2d_1.default(Number(position.x), Number(position.y), Number(position.width), Number(position.height), 0);\n        return isCentre ? rect.center() : rect;\n    };\n    ConfigMapBuilder.prototype.createRect3d = function (position, isCentre) {\n        var rect = new Rect3d_1.default(Number(position.x), Number(position.y), Number(position.z), Number(position.width), Number(position.height), Number(position.length));\n        return isCentre ? rect.center() : rect;\n    };\n    ConfigMapBuilder.prototype.createCoordinate = function (position) {\n        return new Coordinate_1.default(Number(position.x), Number(position.y), 0);\n    };\n    ConfigMapBuilder.prototype.createText = function (texture, pos, fontSize, text) {\n        var textRef = Font_1.FontReference.newFont(pos, texture, 0)\n            .setText(text)\n            .setFontSize(fontSize);\n        this.texts.push(textRef);\n        return textRef;\n    };\n    ConfigMapBuilder.prototype.createLineColour = function (rgba, point1, point2, thickness) {\n        var colour = new LineColour_1.default(point1, point2, thickness, rgba);\n        this.objects.push(colour);\n        return colour;\n    };\n    ConfigMapBuilder.prototype.createColour = function (rgba, location) {\n        var colour = new PlaneColour_1.default(location, rgba);\n        this.objects.push(colour);\n        return colour;\n    };\n    ConfigMapBuilder.prototype.createSpriteMoveable = function (model, location, hasPhysics, ticks) {\n        var spriteModel = new SpriteModel_1.default(location, ticks || 120.0, model);\n        var obj = new SpriteMoveable_1.default(location, spriteModel);\n        spriteModel.position.z = -1;\n        spriteModel.scaleZ(0);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj, obj.physics);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createMoveable = function (model, location, hasPhysics) {\n        var obj = new Plane2d_1.default(location, model);\n        obj.setLayer(-1);\n        var moveable = new Moveable_1.default();\n        moveable.entities.push(obj);\n        moveable.rotateZ(180.0);\n        moveable.setRect(location);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(moveable, moveable.physics);\n        }\n        moveable.updatePhysicsPosition();\n        this.objects.push(moveable);\n        return moveable;\n    };\n    ConfigMapBuilder.prototype.createSprite = function (model, location, hasPhysics, ticks) {\n        var spriteModel = new SpriteModel_1.default(location, ticks || 120.0, model);\n        var obj = new BasicSprite_1.default(location, spriteModel);\n        spriteModel.position.z = -1;\n        spriteModel.rotateZ(180.0);\n        spriteModel.scaleZ(0);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj, obj.physics);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createPlane2D = function (model, location, hasPhysics) {\n        var obj = new Plane2d_1.default(location, model);\n        obj.rotateZ(180.0);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createPlane3D = function (model, location, hasPhysics, plane) {\n        var vertexModel = this.engineHelper.newVertexModel(model, plane);\n        var obj = new Plane3d_1.default(location, vertexModel);\n        if (hasPhysics) {\n            Physics_1.default.registerPhysics(obj);\n        }\n        this.objects.push(obj);\n        return obj;\n    };\n    ConfigMapBuilder.prototype.createTriangle = function (rgba, location) {\n        var obj = new TriangleColour2d_1.default(location, rgba);\n        this.objects.push(obj);\n        return obj;\n    };\n    return ConfigMapBuilder;\n}());\nvar ConfigEntity = /** @class */ (function () {\n    function ConfigEntity() {\n    }\n    return ConfigEntity;\n}());\nexports.ConfigEntity = ConfigEntity;\nexports.default = ConfigMapBuilder;\n//# sourceMappingURL=ConfigMapBuilder.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntity_1 = require(\"../EngineEntity/ShaderEntity\");\nvar ShaderEntityBuilder = /** @class */ (function () {\n    function ShaderEntityBuilder(engineHelper) {\n        this.engineHelper = engineHelper;\n    }\n    ShaderEntityBuilder.prototype.createTexture = function (textureSource) {\n        this.textureSource = textureSource;\n        this.hasTexture = true;\n        return this;\n    };\n    ShaderEntityBuilder.prototype.addBuffer = function (vertexModel) {\n        this.vertexModel = vertexModel;\n        return this;\n    };\n    ShaderEntityBuilder.prototype.build = function (engineObject, opt) {\n        if (!this.vertexModel) {\n            console.error(\"VertexModel is undefined\", this);\n        }\n        var entity = new ShaderEntity_1.ShaderEntity();\n        var entityOption = entity.getOpt();\n        entityOption.renderType = opt.renderType;\n        entityOption.shaderType = opt.shaderType;\n        entity.model = engineObject.getModel;\n        entity.modelPosition = function () { return engineObject.position; };\n        entity.vertexModel = this.vertexModel;\n        entity.vertexModel.registerModel(this.engineHelper);\n        this.engineHelper.registerEntity(entity);\n        if (this.hasTexture) {\n            entity.src = this.textureSource;\n            this.engineHelper.createTexture(entity);\n        }\n        return entity;\n    };\n    ShaderEntityBuilder.clone = function (shaderEntity) {\n        return Object.assign(new ShaderEntity_1.ShaderEntity(), shaderEntity);\n    };\n    return ShaderEntityBuilder;\n}());\nexports.default = ShaderEntityBuilder;\n//# sourceMappingURL=ShaderEntityBuilder.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VertexBuilder = void 0;\nvar PlaneType_1 = require(\"../Data/PlaneType\");\nvar VertexBuilder = /** @class */ (function () {\n    function VertexBuilder() {\n    }\n    VertexBuilder.prototype.toArray2D = function (vertexes) {\n        var vertexConstruct = [];\n        for (var key in vertexes) {\n            if (vertexes.hasOwnProperty(key)) {\n                var _vertex = vertexes[key];\n                vertexConstruct.push(_vertex.vertex.x);\n                vertexConstruct.push(_vertex.vertex.y);\n                vertexConstruct.push(_vertex.vertex.z);\n                vertexConstruct.push(_vertex.normal.x);\n                vertexConstruct.push(_vertex.normal.y);\n                vertexConstruct.push(_vertex.normal.z);\n                vertexConstruct.push(_vertex.texture.u);\n                vertexConstruct.push(_vertex.texture.v);\n            }\n        }\n        return vertexConstruct;\n    };\n    VertexBuilder.prototype.toTextureArray = function (vertexes) {\n        var vertexConstruct = [];\n        for (var key in vertexes) {\n            if (vertexes.hasOwnProperty(key)) {\n                var _vertex = vertexes[key];\n                vertexConstruct.push(_vertex.vertex.x);\n                vertexConstruct.push(_vertex.vertex.y);\n                vertexConstruct.push(_vertex.vertex.z);\n                vertexConstruct.push(_vertex.normal.x);\n                vertexConstruct.push(_vertex.normal.y);\n                vertexConstruct.push(_vertex.normal.z);\n                vertexConstruct.push(_vertex.texture.u);\n                vertexConstruct.push(_vertex.texture.v);\n            }\n        }\n        return vertexConstruct;\n    };\n    VertexBuilder.prototype.toColourArray = function (vertexes) {\n        var vertexConstruct = [];\n        for (var key in vertexes) {\n            if (vertexes.hasOwnProperty(key)) {\n                var _vertex = vertexes[key];\n                vertexConstruct.push(_vertex.vertex.x);\n                vertexConstruct.push(_vertex.vertex.y);\n                vertexConstruct.push(_vertex.vertex.z);\n                vertexConstruct.push(_vertex.colour.r);\n                vertexConstruct.push(_vertex.colour.g);\n                vertexConstruct.push(_vertex.colour.b);\n                vertexConstruct.push(_vertex.colour.a);\n            }\n        }\n        return vertexConstruct;\n    };\n    VertexBuilder.prototype.triangleXYColour = function (colour) {\n        var r = colour.r / 255.0;\n        var g = colour.g / 255.0;\n        var b = colour.b / 255.0;\n        var a = colour.a / 255.0;\n        var _colour = [\n            1,\n            1,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0,\n            1,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0,\n            0,\n            0,\n            r,\n            g,\n            b,\n            a,\n        ];\n        return _colour;\n    };\n    VertexBuilder.prototype.planeXYColour = function (colour) {\n        var r = colour.r / 255.0;\n        var g = colour.g / 255.0;\n        var b = colour.b / 255.0;\n        var a = colour.a / 255.0;\n        var _colour = [\n            -0.5,\n            -0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0.5,\n            -0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n            -0.5,\n            0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n            0.5,\n            0.5,\n            0,\n            r,\n            g,\n            b,\n            a,\n        ];\n        return _colour;\n    };\n    VertexBuilder.prototype.planeCCW = function (loc, width, height) {\n        var left = loc[0];\n        var top = loc[1];\n        var right = loc[2];\n        var bottom = loc[3];\n        var uv = [\n            left / width,\n            bottom / height,\n            left / width,\n            top / height,\n            right / width,\n            top / height,\n            right / width,\n            bottom / height,\n        ];\n        return uv;\n    };\n    VertexBuilder.prototype.planeCW = function (loc, width, height) {\n        var left = loc[0];\n        var top = loc[1];\n        var right = loc[2];\n        var bottom = loc[3];\n        var uv = [\n            right / width,\n            bottom / height,\n            right / width,\n            top / height,\n            left / width,\n            top / height,\n            left / width,\n            bottom / height,\n        ];\n        return uv;\n    };\n    VertexBuilder.prototype.planeUV = function (vertices, uv) {\n        vertices[0].texture.u = uv[4];\n        vertices[0].texture.v = uv[1];\n        vertices[2].texture.u = uv[4];\n        vertices[2].texture.v = uv[3];\n        vertices[1].texture.u = uv[0];\n        vertices[1].texture.v = uv[1];\n        vertices[3].texture.u = uv[0];\n        vertices[3].texture.v = uv[3];\n    };\n    VertexBuilder.prototype.planeXY = function (vertices) {\n        this.plane(vertices, PlaneType_1.default.XY);\n    };\n    VertexBuilder.prototype.plane = function (vertices, PLANE) {\n        switch (PLANE) {\n            case PlaneType_1.default.XY: {\n                vertices[0].vertex.x = -1 / 2;\n                vertices[0].vertex.y = -1 / 2;\n                vertices[0].normal.z = -1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.y = 1 / 2;\n                vertices[1].normal.z = -1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.y = -1 / 2;\n                vertices[2].normal.z = -1;\n                vertices[3].vertex.x = 1 / 2;\n                vertices[3].vertex.y = 1 / 2;\n                vertices[3].normal.z = -1;\n                break;\n            }\n            case PlaneType_1.default.YX: {\n                vertices[0].vertex.x = 1 / 2;\n                vertices[0].vertex.y = 1 / 2;\n                vertices[0].normal.z = 1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.y = -1 / 2;\n                vertices[2].normal.z = 1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.y = 1 / 2;\n                vertices[1].normal.z = 1;\n                vertices[3].vertex.x = -1 / 2;\n                vertices[3].vertex.y = -1 / 2;\n                vertices[3].normal.z = 1;\n                break;\n            }\n            case PlaneType_1.default.XZ: {\n                vertices[0].vertex.x = -1 / 2;\n                vertices[0].vertex.z = -1 / 2;\n                vertices[0].normal.y = 1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.y = 1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.y = 1;\n                vertices[3].vertex.x = 1 / 2;\n                vertices[3].vertex.z = 1 / 2;\n                vertices[3].normal.y = 1;\n                break;\n            }\n            case PlaneType_1.default.ZX: {\n                vertices[0].vertex.x = 1 / 2;\n                vertices[0].vertex.z = 1 / 2;\n                vertices[0].normal.y = -1;\n                vertices[2].vertex.x = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.y = -1;\n                vertices[1].vertex.x = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.y = -1;\n                vertices[3].vertex.x = -1 / 2;\n                vertices[3].vertex.z = -1 / 2;\n                vertices[3].normal.y = -1;\n                break;\n            }\n            case PlaneType_1.default.YZ: {\n                vertices[0].vertex.y = -1 / 2;\n                vertices[0].vertex.z = -1 / 2;\n                vertices[0].normal.x = -1;\n                vertices[1].vertex.y = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.x = -1;\n                vertices[2].vertex.y = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.x = -1;\n                vertices[3].vertex.y = 1 / 2;\n                vertices[3].vertex.z = 1 / 2;\n                vertices[3].normal.x = -1;\n                break;\n            }\n            case PlaneType_1.default.ZY: {\n                vertices[0].vertex.y = 1 / 2;\n                vertices[0].vertex.z = 1 / 2;\n                vertices[0].normal.x = 1;\n                vertices[2].vertex.y = 1 / 2;\n                vertices[2].vertex.z = -1 / 2;\n                vertices[2].normal.x = 1;\n                vertices[1].vertex.y = -1 / 2;\n                vertices[1].vertex.z = 1 / 2;\n                vertices[1].normal.x = 1;\n                vertices[3].vertex.y = -1 / 2;\n                vertices[3].vertex.z = -1 / 2;\n                vertices[3].normal.x = 1;\n                break;\n            }\n            default:\n                break;\n        }\n    };\n    VertexBuilder.prototype.circleXYColour = function (segments, colour) {\n        var r = colour.r / 255.0;\n        var g = colour.g / 255.0;\n        var b = colour.b / 255.0;\n        var a = colour.a / 255.0;\n        var increment = (2 * Math.PI) / segments;\n        var vertices = [];\n        for (var angle = -Math.PI / 2; angle < Math.PI / 2; angle += increment) {\n            var x = Math.sin(angle);\n            var y = Math.cos(angle);\n            vertices.push(x, y, 0);\n            vertices.push(r, g, b, a);\n            vertices.push(x, -y, 0);\n            vertices.push(r, g, b, a);\n        }\n        return vertices;\n    };\n    return VertexBuilder;\n}());\nexports.VertexBuilder = VertexBuilder;\n//# sourceMappingURL=VertexBuilder.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseCamera = void 0;\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar ModelPosition_1 = require(\"./EngineEntity/ModelPosition\");\nvar Coordinate_1 = require(\"./Data/Coordinate\");\nvar Timer_1 = require(\"./Common/Timer\");\nvar Rect2d_1 = require(\"./Data/Rect2d\");\nvar CollisionDetection_1 = require(\"./Physics/CollisionDetection\");\nvar BaseCamera = /** @class */ (function (_super) {\n    __extends(BaseCamera, _super);\n    function BaseCamera() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.zoomScale = { x: 2, y: 2, z: 2 };\n        _this.baseTranslate = { x: -1, y: -1, z: 0 };\n        _this._isUpdateView = true;\n        _this.timer = new Timer_1.default();\n        _this.updateProjectionView = function () {\n            _this._isUpdateView = true;\n        };\n        _this.commitProjectionView = function () {\n            _this._isUpdateView = false;\n            var quatRotationxyz = gl_matrix_1.quat.create();\n            quatRotationxyz = gl_matrix_1.quat.rotateX(quatRotationxyz, quatRotationxyz, _this.degreesToRadians(_this.position.ax));\n            quatRotationxyz = gl_matrix_1.quat.rotateY(quatRotationxyz, quatRotationxyz, _this.degreesToRadians(_this.position.ay));\n            quatRotationxyz = gl_matrix_1.quat.rotateZ(quatRotationxyz, quatRotationxyz, _this.degreesToRadians(_this.position.az));\n            quatRotationxyz = gl_matrix_1.quat.normalize(quatRotationxyz, quatRotationxyz);\n            var dest = gl_matrix_1.mat4.create();\n            var quatMat = gl_matrix_1.mat4.create();\n            gl_matrix_1.mat4.fromQuat(quatMat, quatRotationxyz);\n            gl_matrix_1.mat4.multiply(dest, dest, quatMat);\n            var pos = gl_matrix_1.vec3.fromValues(-_this.position.x, -_this.position.y, -_this.position.z);\n            gl_matrix_1.mat4.translate(dest, dest, pos);\n            _this.viewMatrix = dest;\n        };\n        _this.perspective = function () {\n            return gl_matrix_1.mat4.perspective(gl_matrix_1.mat4.create(), _this.degreesToRadians(_this.fov), _this.aspect, _this.near, _this.far);\n        };\n        _this.updateProjectionMatrix = function () {\n            _this.frustum = _this.perspective();\n        };\n        return _this;\n    }\n    BaseCamera.prototype.clearPan = function () {\n        if (this.interval) {\n            clearInterval(this.interval);\n            this.interval = undefined;\n        }\n    };\n    BaseCamera.prototype.pan = function (time, speed, x, y, z) {\n        var _this = this;\n        if (this.interval) {\n            clearInterval(this.interval);\n            this.interval = undefined;\n        }\n        this.steps = time;\n        this._moveTime = time;\n        if (x !== undefined) {\n            this.dx = x - this.position.x;\n            this.tx = x;\n        }\n        else {\n            this.dx = 0;\n            this.tx = this.position.x;\n        }\n        if (y !== undefined) {\n            this.dy = y - this.position.y;\n            this.ty = y;\n        }\n        else {\n            this.dy = 0;\n            this.ty = this.position.y;\n        }\n        if (z !== undefined) {\n            this.dz = z - this.position.z;\n            this.tz = z;\n        }\n        else {\n            this.dz = 0;\n            this.tz = this.position.z;\n        }\n        this.timer.start();\n        this.interval = setInterval(function () {\n            var time = _this.timer.peak();\n            if (_this.steps > 0) {\n                _this.steps -= time;\n                if (_this.steps <= 0) {\n                    _this.position.x = _this.tx;\n                    _this.position.y = _this.ty;\n                    _this.position.z = _this.tz;\n                    if (_this.interval) {\n                        clearInterval(_this.interval);\n                        _this.interval = undefined;\n                    }\n                }\n                else {\n                    _this.position.x += (_this.dx * time) / _this._moveTime;\n                    _this.position.y += (_this.dy * time) / _this._moveTime;\n                    _this.position.z += (_this.dz * time) / _this._moveTime;\n                }\n                _this.updateProjectionView();\n            }\n            else {\n                _this.position.x = _this.tx;\n                _this.position.y = _this.ty;\n                _this.position.z = _this.tz;\n                if (_this.interval) {\n                    clearInterval(_this.interval);\n                    _this.interval = undefined;\n                }\n                _this.updateProjectionView();\n            }\n            _this.timer.start();\n        }, speed);\n    };\n    BaseCamera.prototype.isOutOfBound = function (bound, pos) {\n        return false;\n    };\n    BaseCamera.prototype.isUpdateView = function () {\n        return this._isUpdateView;\n    };\n    BaseCamera.prototype.angleX = function (dx) {\n        this.position.ax -= dx;\n        if (this.position.ax > 90) {\n            var diff = 90;\n            this.position.ax = diff;\n        }\n        else if (this.position.ax < -90) {\n            var diff = -90;\n            this.position.ax = diff;\n        }\n    };\n    BaseCamera.prototype.angleZ = function (dz) {\n        this.position.az += dz;\n        if (this.position.az > 360) {\n            var diff = this.position.az - 360;\n            this.position.az = diff;\n        }\n        else if (this.position.az < 0) {\n            var diff = this.position.az + 360;\n            this.position.az = diff;\n        }\n    };\n    BaseCamera.prototype.angleY = function (dy) {\n        var _a, _b;\n        if ((_b = (_a = this.cameraOptions) === null || _a === void 0 ? void 0 : _a.experimental) === null || _b === void 0 ? void 0 : _b.inverseAngleY) {\n            if (dy) {\n                dy *= -1;\n            }\n        }\n        this.position.ay += dy;\n        if (this.position.ay > 360) {\n            var diff = this.position.ay - 360;\n            this.position.ay = diff;\n        }\n        else if (this.position.ay < 0) {\n            var diff = this.position.ay + 360;\n            this.position.ay = diff;\n        }\n    };\n    BaseCamera.prototype.zoomIn = function (delta) {\n        this.fov -= delta;\n        this.fov = Math.max(delta, this.fov);\n        this.updateProjectionMatrix();\n    };\n    BaseCamera.prototype.zoomOut = function (delta) {\n        var maxFovAspect = (Math.atan(1.0 / this.aspect) * 360.0) / Math.PI;\n        this.fov += delta;\n        this.fov = Math.min(Math.min(this.cameraOptions.maxFov || maxFovAspect, maxFovAspect), this.fov);\n        this.updateProjectionMatrix();\n    };\n    BaseCamera.prototype.setupCamera = function (cameraOptions, aspectRatio, canvas) {\n        var _a;\n        this.cameraOptions = cameraOptions || {};\n        var near = this.near || cameraOptions.near || 1.0;\n        var far = this.far || cameraOptions.far || 4.0;\n        var aspect = cameraOptions.aspect || canvas.width / canvas.height;\n        if ((_a = this.cameraOptions.experimental) === null || _a === void 0 ? void 0 : _a.enabled) {\n            var width = canvas.offsetWidth;\n            var height = canvas.offsetHeight;\n            var zoom = {\n                x: width <= height ? 2 : (2 * aspectRatio) / (width / height),\n                y: height <= width ? 2 : (2 * aspectRatio) / (width / height),\n                z: 1,\n            };\n            this.setZoom(zoom);\n            this.setBaseTranslate({\n                x: -1 + (2 - zoom.x) / 2,\n                y: -1 + (2 - zoom.y) / 2,\n                z: 0,\n            });\n        }\n        var fov = this.fov || cameraOptions.fov || 45.0;\n        if (cameraOptions.isFovMax) {\n            var maxFovAspect = (Math.atan(1.0 / aspect) * 360.0) / Math.PI;\n            fov = maxFovAspect;\n        }\n        this.aspect = aspect;\n        this.fov = fov;\n        this.near = near;\n        this.far = far;\n        this.updateProjectionMatrix();\n        this.updateProjectionView();\n    };\n    BaseCamera.prototype.setZoom = function (zoom) {\n        this.zoomScale = zoom;\n    };\n    BaseCamera.prototype.setBaseTranslate = function (baseTranslate) {\n        this.baseTranslate = baseTranslate;\n    };\n    return BaseCamera;\n}(ModelPosition_1.default));\nexports.BaseCamera = BaseCamera;\nvar Camera2d = /** @class */ (function (_super) {\n    __extends(Camera2d, _super);\n    function Camera2d() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.INTERVAL_TIME = 10;\n        _this.bound = new Rect2d_1.default(0, 0, 1, 1);\n        _this.perspective = function () {\n            var translateSpace = gl_matrix_1.mat4.create();\n            gl_matrix_1.mat4.translate(translateSpace, translateSpace, gl_matrix_1.vec3.fromValues(_this.baseTranslate.x, _this.baseTranslate.y, _this.baseTranslate.z));\n            gl_matrix_1.mat4.scale(translateSpace, translateSpace, gl_matrix_1.vec3.fromValues(_this.zoomScale.x, _this.zoomScale.y, 1.0));\n            return translateSpace;\n        };\n        return _this;\n    }\n    Camera2d.prototype.distanceEvent = function (event) {\n        return new Coordinate_1.default(event.x + this.position.x, this.position.y + event.y);\n    };\n    Camera2d.prototype.zoomIn = function (delta) {\n        this.zoomScale.x += delta;\n        this.zoomScale.y += delta;\n        this.updateProjectionMatrix();\n    };\n    Camera2d.prototype.zoomOut = function (delta) {\n        this.zoomScale.x = Math.max(0.1, this.zoomScale.x - delta);\n        this.zoomScale.y = Math.max(0.1, this.zoomScale.y - delta);\n        this.updateProjectionMatrix();\n    };\n    Camera2d.prototype.isOutOfBound = function (pos) {\n        this.bound.x = this.position.x + this.bound.width / 2.0;\n        this.bound.y = this.position.y + this.bound.height / 2.0;\n        return !CollisionDetection_1.CollisionDetection.isRectInRect(this.bound, pos);\n    };\n    Camera2d.prototype.pan2d = function (time, x, y) {\n        _super.prototype.pan.call(this, time, this.INTERVAL_TIME, x, y);\n    };\n    Camera2d.prototype.pan2dDif = function (time, dx, dy) {\n        var _a = this.position, x = _a.x, y = _a.y;\n        _super.prototype.pan.call(this, time, this.INTERVAL_TIME, x + (dx !== null && dx !== void 0 ? dx : 0), y + (dy !== null && dy !== void 0 ? dy : 0));\n    };\n    return Camera2d;\n}(BaseCamera));\nvar Camera3d = /** @class */ (function (_super) {\n    __extends(Camera3d, _super);\n    function Camera3d() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Camera3d.prototype.pan3d = function (time, x, y, z) {\n        _super.prototype.pan.call(this, time, this.INTERVAL_TIME, x, y, z);\n    };\n    return Camera3d;\n}(Camera2d));\nvar Camera = /** @class */ (function () {\n    function Camera() {\n        this.camera3d = new Camera3d();\n    }\n    Camera.prototype.setupCamera = function (cameraOptions, aspectRatio, canvas) {\n        this.camera3d.setupCamera(cameraOptions, aspectRatio || 1, canvas);\n        this.height = canvas.height;\n        this.width = canvas.width;\n    };\n    Camera.prototype.commitProjectionView = function () {\n        if (this.camera3d.isUpdateView()) {\n            this.camera3d.commitProjectionView();\n        }\n    };\n    return Camera;\n}());\nexports.default = Camera;\n//# sourceMappingURL=Camera.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateId = generateId;\nfunction generateId() {\n    return \"xxxxxxxxx\".replace(/[x]/g, function (c) {\n        var r = (Math.random() * 16) | 0;\n        var v = c == \"x\" ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n//# sourceMappingURL=IdGenerator.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotificationPayload = exports.Notification = void 0;\nvar Notification = /** @class */ (function () {\n    function Notification(key, action) {\n        this.key = key;\n        this.action = action;\n    }\n    return Notification;\n}());\nexports.Notification = Notification;\nvar NotificationPayload = /** @class */ (function (_super) {\n    __extends(NotificationPayload, _super);\n    function NotificationPayload(key, action, data) {\n        var _this = _super.call(this, key, action) || this;\n        _this.data = data;\n        return _this;\n    }\n    NotificationPayload.from = function (notification, data) {\n        return new NotificationPayload(notification.key, notification.action, data);\n    };\n    return NotificationPayload;\n}(Notification));\nexports.NotificationPayload = NotificationPayload;\nvar LinkedList = /** @class */ (function () {\n    function LinkedList(data) {\n        this.data = data;\n    }\n    return LinkedList;\n}());\nvar NotificationQueue = /** @class */ (function () {\n    function NotificationQueue() {\n        this.queueMap = {};\n    }\n    NotificationQueue.prototype.clearQueue = function () {\n        this.queueMap = {};\n    };\n    NotificationQueue.prototype.pushPayload = function (notification) {\n        var key = notification.key;\n        var nodes = this.queueMap[key];\n        if (!nodes) {\n            this.queueMap[key] = { bottom: undefined, top: undefined };\n            nodes = this.queueMap[key];\n        }\n        if (!nodes.bottom) {\n            nodes.bottom = new LinkedList(notification);\n            nodes.top = nodes.bottom;\n        }\n        else if (nodes.top) {\n            nodes.top.next = new LinkedList(notification);\n            nodes.top = nodes.top.next;\n        }\n        else {\n            throw new Error(\"Unexpected state for notification push payload\");\n        }\n    };\n    NotificationQueue.prototype.push = function (notification, data) {\n        if (notification instanceof NotificationPayload) {\n            console.error(\"Please use pushPayload\");\n        }\n        this.pushPayload(new NotificationPayload(notification.key, notification.action, data));\n    };\n    NotificationQueue.prototype.pushNotification = function (key, action) {\n        this.push(new Notification(key, action));\n    };\n    NotificationQueue.prototype.take = function (key) {\n        var bottom = this.getBottom(key);\n        if (!bottom) {\n            return undefined;\n        }\n        var data = this.peak(key);\n        if (!data) {\n            throw new Error(\"Expected data to appear when reading data from notification\");\n        }\n        this.shiftQueue(key);\n        return data;\n    };\n    NotificationQueue.prototype.shiftQueue = function (key) {\n        var nodes = this.queueMap[key];\n        var bottom = nodes.bottom;\n        if (bottom) {\n            nodes.bottom = bottom.next;\n            if (!nodes.bottom) {\n                nodes.top = undefined;\n            }\n        }\n        else {\n            throw new Error(\"Trying to shift queue with bottom undefined\");\n        }\n    };\n    NotificationQueue.prototype.getBottom = function (key) {\n        return this.queueMap[key] ? this.queueMap[key].bottom : undefined;\n    };\n    NotificationQueue.prototype.peak = function (key) {\n        var bottom = this.getBottom(key);\n        return (bottom && bottom.data) || undefined;\n    };\n    return NotificationQueue;\n}());\nexports.default = NotificationQueue;\n//# sourceMappingURL=NotificationQueue.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionListeners = exports.Subscription = void 0;\nvar Subscription = /** @class */ (function () {\n    function Subscription(key) {\n        this.key = key;\n    }\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nvar SubscriptionListeners = /** @class */ (function (_super) {\n    __extends(SubscriptionListeners, _super);\n    function SubscriptionListeners(key) {\n        var _this = _super.call(this, key) || this;\n        _this.listeners = {};\n        _this.subscriptionId = 0;\n        return _this;\n    }\n    SubscriptionListeners.prototype.listen = function (callback) {\n        this.listeners[this.subscriptionId++] = callback;\n        return this.subscriptionId - 1;\n    };\n    SubscriptionListeners.prototype.unlisten = function (subscriptionId) {\n        delete this.listeners[subscriptionId];\n    };\n    SubscriptionListeners.prototype.publish = function (data) {\n        Object.values(this.listeners).forEach(function (listener) { return listener(data); });\n    };\n    SubscriptionListeners.prototype.flush = function () {\n        this.listeners = {};\n    };\n    return SubscriptionListeners;\n}(Subscription));\nexports.SubscriptionListeners = SubscriptionListeners;\nvar SubscriberPool = /** @class */ (function () {\n    function SubscriberPool() {\n        this.subscribers = {};\n    }\n    SubscriberPool.prototype.listen = function (subscription, callback) {\n        return this.getSubscriptionListeners(subscription).listen(callback);\n    };\n    SubscriberPool.prototype.getSubscriptionListeners = function (subscription) {\n        var key = subscription.key;\n        if (!this.subscribers[key]) {\n            this.subscribers[key] = new SubscriptionListeners(key);\n        }\n        return this.subscribers[key];\n    };\n    SubscriberPool.prototype.publish = function (subscription, data) {\n        this.getSubscriptionListeners(subscription).publish(data);\n    };\n    return SubscriberPool;\n}());\nexports.default = SubscriberPool;\n//# sourceMappingURL=SubscriberPool.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Timer = /** @class */ (function () {\n    function Timer() {\n        this._start = Date.now();\n    }\n    Timer.prototype.start = function () {\n        this._start = Date.now();\n        return this;\n    };\n    Timer.prototype.peak = function () {\n        return Date.now() - this._start;\n    };\n    Timer.prototype.stop = function () {\n        this._end = Date.now();\n        var elapsed = this._end - this._start;\n        this._start = this._end;\n        return elapsed;\n    };\n    return Timer;\n}());\nexports.default = Timer;\n//# sourceMappingURL=Timer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Colour = /** @class */ (function () {\n    function Colour(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n    return Colour;\n}());\nexports.default = Colour;\n//# sourceMappingURL=Colour.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderUnit_1 = require(\"./RenderUnit\");\nvar VertexModel_1 = require(\"./VertexModel\");\nvar ModelData_1 = require(\"./ModelData\");\nvar EngineObjectHelper_1 = require(\"../EngineEntity/EngineObjectHelper\");\nvar ColourVertexModel = /** @class */ (function (_super) {\n    __extends(ColourVertexModel, _super);\n    function ColourVertexModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColourVertexModel.prototype.createRenderUnits = function (count) {\n        this.renderUnits = [];\n        for (var index = 0; index < count; index++) {\n            this.renderUnits.push(new RenderUnit_1.ColourRenderUnit());\n        }\n        return this;\n    };\n    ColourVertexModel.prototype.fillRenderUnits = function (values) {\n        this.renderUnits = [];\n        for (var index = 0; index < values.length; index += 7) {\n            var renderUnit = new RenderUnit_1.ColourRenderUnit();\n            renderUnit.vertex.x = values[index];\n            renderUnit.vertex.y = values[index + 1];\n            renderUnit.vertex.z = values[index + 2];\n            renderUnit.colour.r = values[index + 3];\n            renderUnit.colour.g = values[index + 4];\n            renderUnit.colour.b = values[index + 5];\n            renderUnit.colour.a = values[index + 6];\n            this.renderUnits.push(renderUnit);\n        }\n        return this;\n    };\n    ColourVertexModel.prototype.createModel = function () {\n        var model = new ModelData_1.default();\n        model.vertices = EngineObjectHelper_1.default.vertex.toColourArray(this.renderUnits);\n        return model;\n    };\n    return ColourVertexModel;\n}(VertexModel_1.default));\nexports.default = ColourVertexModel;\n//# sourceMappingURL=ColourVertexModel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Coordinate = /** @class */ (function () {\n    function Coordinate(x, y, z) {\n        this.x = x || 0;\n        this.y = y || 0;\n        this.z = z || 0;\n    }\n    return Coordinate;\n}());\nexports.default = Coordinate;\n//# sourceMappingURL=Coordinate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FontCharacter = exports.FontMeta = void 0;\nvar FontMeta = /** @class */ (function () {\n    function FontMeta() {\n        this.fonts = {};\n    }\n    return FontMeta;\n}());\nexports.FontMeta = FontMeta;\nvar FontCharacter = /** @class */ (function () {\n    function FontCharacter() {\n    }\n    return FontCharacter;\n}());\nexports.FontCharacter = FontCharacter;\nvar FontMetaData = /** @class */ (function () {\n    function FontMetaData() {\n    }\n    return FontMetaData;\n}());\nexports.default = FontMetaData;\n//# sourceMappingURL=FontMetaData.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Light = /** @class */ (function () {\n    function Light(options) {\n        this.pos = options.pos;\n        this.in = options.in;\n        this.attenuation = options.attenuation;\n        this.ambientCoeff = options.ambientCoeff;\n        this.at = options.at;\n    }\n    Light.prototype.vecZero = function (vec) {\n        return gl_matrix_1.vec3.equals(vec, gl_matrix_1.vec3.fromValues(0, 0, 0));\n    };\n    Light.prototype.parellelVec = function (vec1, vec2) {\n        return (this.vecZero(vec1) !== true &&\n            this.vecZero(vec2) !== true &&\n            gl_matrix_1.vec3.equals(gl_matrix_1.vec3.normalize(gl_matrix_1.vec3.create(), vec1), gl_matrix_1.vec3.normalize(gl_matrix_1.vec3.create(), vec2)) === true);\n    };\n    Light.prototype.perpVec = function (vec) {\n        var perp = gl_matrix_1.vec3.fromValues(1.0, 0.0, 0.0);\n        if (this.parellelVec(vec, perp) === true) {\n            perp = gl_matrix_1.vec3.fromValues(0.0, 0.0, 1.0);\n        }\n        return perp;\n    };\n    Light.prototype.posVec = function () {\n        return gl_matrix_1.vec3.fromValues(this.pos[0], this.pos[1], this.pos[2]);\n    };\n    Light.prototype.atVec = function () {\n        return gl_matrix_1.vec3.fromValues(this.at[0], this.at[1], this.at[2]);\n    };\n    Light.prototype.lookAt = function () {\n        var pos = this.posVec();\n        var at = this.atVec();\n        var atCross = at;\n        var posCross = pos;\n        if (this.parellelVec(pos, at) === true) {\n            atCross = this.perpVec(pos);\n        }\n        else {\n            if (this.vecZero(pos) === true) {\n                posCross = this.perpVec(at);\n            }\n            if (this.vecZero(at) === true) {\n                atCross = this.perpVec(pos);\n            }\n        }\n        this.up = gl_matrix_1.vec3.cross(gl_matrix_1.vec3.create(), posCross, atCross);\n        return gl_matrix_1.mat4.lookAt(gl_matrix_1.mat4.create(), pos, at, this.up);\n    };\n    return Light;\n}());\nexports.default = Light;\n//# sourceMappingURL=Light.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelData = /** @class */ (function () {\n    function ModelData() {\n        this.$id = ModelData._$ID++;\n    }\n    ModelData._$ID = 1;\n    return ModelData;\n}());\nexports.default = ModelData;\n//# sourceMappingURL=ModelData.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PlaneType = /** @class */ (function () {\n    function PlaneType(name, width, height, length, normalDirection) {\n        this.name = name;\n        this.width = width;\n        this.height = height;\n        this.length = length;\n        this.normalDirection = normalDirection;\n    }\n    PlaneType.XY = new PlaneType(\"XY\", 0, 0, 0, 0);\n    PlaneType.YX = new PlaneType(\"YX\", 0, 0, 0, 0);\n    PlaneType.XZ = new PlaneType(\"XZ\", 0, 0, 0, 0);\n    PlaneType.ZX = new PlaneType(\"ZX\", 0, 0, 0, 0);\n    PlaneType.YZ = new PlaneType(\"YZ\", 0, 0, 0, 0);\n    PlaneType.ZY = new PlaneType(\"ZY\", 0, 0, 0, 0);\n    PlaneType.BACKWARDS = -1;\n    PlaneType.FORWARD = 1;\n    return PlaneType;\n}());\nexports.default = PlaneType;\n//# sourceMappingURL=PlaneType.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Rect3d_1 = require(\"./Rect3d\");\nvar Rect2d = /** @class */ (function (_super) {\n    __extends(Rect2d, _super);\n    function Rect2d(x, y, width, height, layer) {\n        return _super.call(this, x, y, layer || 0, width, height, 1) || this;\n    }\n    Rect2d.create = function () {\n        return new Rect2d(0, 0, 0, 0, 0);\n    };\n    Rect2d.prototype.newCenter = function () {\n        return new Rect2d(this.x + this.width / 2.0, this.y + this.height / 2.0, this.width, this.height, this.z);\n    };\n    return Rect2d;\n}(Rect3d_1.default));\nexports.default = Rect2d;\n//# sourceMappingURL=Rect2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Coordinate_1 = require(\"./Coordinate\");\nvar Rect3d = /** @class */ (function (_super) {\n    __extends(Rect3d, _super);\n    function Rect3d(x, y, z, width, height, length) {\n        var _this = _super.call(this, x, y, z) || this;\n        _this.width = width || 0;\n        _this.height = height || 0;\n        _this.length = length || 0;\n        return _this;\n    }\n    Rect3d.prototype.center = function () {\n        if (!this.centre || !this.equalCenter(this.centre)) {\n            this.centre = this.newCenter();\n        }\n        return this.centre;\n    };\n    Rect3d.prototype.equal = function (r) {\n        return (r.x === this.x &&\n            r.y === this.y &&\n            r.z === this.z &&\n            r.width === this.width &&\n            r.height === this.height &&\n            r.length === this.length);\n    };\n    Rect3d.prototype.equalCenter = function (c) {\n        return (c.x === this.x + this.width / 2.0 &&\n            c.y === this.y + this.height / 2.0 &&\n            c.z === this.z + this.length / 2.0 &&\n            c.width === this.width &&\n            c.height === this.height &&\n            c.length === this.length);\n    };\n    Rect3d.prototype.newCenter = function () {\n        return new Rect3d(this.x + this.width / 2.0, this.y + this.height / 2.0, this.z + this.length / 2.0, this.width, this.height, this.length);\n    };\n    return Rect3d;\n}(Coordinate_1.default));\nexports.default = Rect3d;\n//# sourceMappingURL=Rect3d.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RenderType = exports.ShaderType = void 0;\nvar ShaderType = /** @class */ (function () {\n    function ShaderType() {\n    }\n    ShaderType.THREE_DIMENSION = 2;\n    ShaderType.TWO_DIMENSION = 1;\n    ShaderType.COLOUR = 3;\n    return ShaderType;\n}());\nexports.ShaderType = ShaderType;\nvar RenderType = /** @class */ (function () {\n    function RenderType() {\n    }\n    RenderType.PLAIN = 4;\n    RenderType.TRIANGLE = 5;\n    RenderType.RECTANGLE = 6;\n    return RenderType;\n}());\nexports.RenderType = RenderType;\nvar RenderOption = /** @class */ (function () {\n    function RenderOption() {\n    }\n    return RenderOption;\n}());\nexports.default = RenderOption;\n//# sourceMappingURL=RenderOption.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColourRenderUnit = exports.TextureRenderUnit = exports.RenderUnit = exports.Colour = exports.TextureUnit = void 0;\nvar Coordinate_1 = require(\"./Coordinate\");\nvar TextureUnit = /** @class */ (function () {\n    function TextureUnit() {\n        this.u = 0.0;\n        this.v = 0.0;\n    }\n    return TextureUnit;\n}());\nexports.TextureUnit = TextureUnit;\nvar Colour = /** @class */ (function () {\n    function Colour() {\n        this.r = 0.0;\n        this.g = 0.0;\n        this.b = 0.0;\n        this.a = 0.0;\n    }\n    return Colour;\n}());\nexports.Colour = Colour;\nvar RenderUnit = /** @class */ (function () {\n    function RenderUnit() {\n        this.vertex = new Coordinate_1.default(0, 0, 0);\n    }\n    return RenderUnit;\n}());\nexports.RenderUnit = RenderUnit;\nvar TextureRenderUnit = /** @class */ (function (_super) {\n    __extends(TextureRenderUnit, _super);\n    function TextureRenderUnit() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.texture = new TextureUnit();\n        _this.normal = new Coordinate_1.default(0, 0, 0);\n        return _this;\n    }\n    return TextureRenderUnit;\n}(RenderUnit));\nexports.TextureRenderUnit = TextureRenderUnit;\nvar ColourRenderUnit = /** @class */ (function (_super) {\n    __extends(ColourRenderUnit, _super);\n    function ColourRenderUnit() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.colour = new Colour();\n        return _this;\n    }\n    return ColourRenderUnit;\n}(RenderUnit));\nexports.ColourRenderUnit = ColourRenderUnit;\n//# sourceMappingURL=RenderUnit.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Resource = /** @class */ (function () {\n    function Resource() {\n    }\n    return Resource;\n}());\nexports.default = Resource;\n//# sourceMappingURL=Resource.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderUnit_1 = require(\"./RenderUnit\");\nvar VertexModel_1 = require(\"./VertexModel\");\nvar ModelData_1 = require(\"./ModelData\");\nvar EngineObjectHelper_1 = require(\"../EngineEntity/EngineObjectHelper\");\nvar TextureVertexModel = /** @class */ (function (_super) {\n    __extends(TextureVertexModel, _super);\n    function TextureVertexModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextureVertexModel.prototype.createRenderUnits = function (count) {\n        this.renderUnits = [];\n        for (var index = 0; index < count; index++) {\n            this.renderUnits.push(new RenderUnit_1.TextureRenderUnit());\n        }\n        return this;\n    };\n    TextureVertexModel.prototype.fillRenderUnits = function (values) {\n        this.renderUnits = [];\n        for (var index = 0; index < values.length; index += 8) {\n            var renderUnit = new RenderUnit_1.TextureRenderUnit();\n            renderUnit.vertex.x = values[index];\n            renderUnit.vertex.y = values[index + 1];\n            renderUnit.vertex.z = values[index + 2];\n            renderUnit.normal.x = values[index + 3];\n            renderUnit.normal.y = values[index + 4];\n            renderUnit.normal.z = values[index + 5];\n            renderUnit.texture.u = values[index + 6];\n            renderUnit.texture.v = values[index + 7];\n            this.renderUnits.push(renderUnit);\n        }\n        return this;\n    };\n    TextureVertexModel.prototype.createModel = function () {\n        var model = new ModelData_1.default();\n        model.vertices = EngineObjectHelper_1.default.vertex.toTextureArray(this.renderUnits);\n        return model;\n    };\n    return TextureVertexModel;\n}(VertexModel_1.default));\nexports.default = TextureVertexModel;\n//# sourceMappingURL=TextureVertexModel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vec2_1 = require(\"gl-matrix/vec2\");\nvar Vector2d = /** @class */ (function (_super) {\n    __extends(Vector2d, _super);\n    function Vector2d() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Vector2d.prototype, \"x\", {\n        get: function () {\n            return this[0];\n        },\n        set: function (x) {\n            this[0] = x;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Vector2d.prototype, \"y\", {\n        get: function () {\n            return this[1];\n        },\n        set: function (y) {\n            this[1] = y;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Vector2d.prototype.normalise = function () {\n        return vec2_1.default.normalize(Vector2d.newVector(0.0, 0.0), this);\n    };\n    Vector2d.prototype.dot = function (v) {\n        return vec2_1.default.dot(this, v);\n    };\n    Vector2d.prototype.negate = function () {\n        return vec2_1.default.negate(Vector2d.newVector(0.0, 0.0), this);\n    };\n    Vector2d.prototype.scale = function (s) {\n        return vec2_1.default.scale(Vector2d.newVector(0.0, 0.0), this, s);\n    };\n    Vector2d.prototype.subtract = function (v) {\n        return vec2_1.default.subtract(Vector2d.newVector(0, 0), this, v);\n    };\n    Vector2d.prototype.add = function (v) {\n        return vec2_1.default.add(Vector2d.newVector(0, 0), this, v);\n    };\n    Vector2d.newVector = function (x, y) {\n        var vector = new Vector2d();\n        vector.x = x;\n        vector.y = y;\n        return vector;\n    };\n    return Vector2d;\n}(Float32Array));\nexports.default = Vector2d;\n//# sourceMappingURL=Vector2d.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VertexModel = /** @class */ (function () {\n    function VertexModel() {\n    }\n    VertexModel.prototype.registerModel = function (engineHelper) {\n        if (!this.vertexBufferId) {\n            this.vertexBufferId = engineHelper.addBufferCache(this.createModel());\n        }\n    };\n    return VertexModel;\n}());\nexports.default = VertexModel;\n//# sourceMappingURL=VertexModel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Physics_1 = require(\"../Physics/Physics\");\nvar ConfigMapBuilder_1 = require(\"../Builder/ConfigMapBuilder\");\nvar EntityManager2d_1 = require(\"../../Manager/EntityManager2d\");\nvar EngineMap = /** @class */ (function (_super) {\n    __extends(EngineMap, _super);\n    function EngineMap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.$ref = {};\n        _this.show = false;\n        return _this;\n    }\n    EngineMap.prototype.reset = function () {\n        this.entities = [];\n        this.$ref = {};\n    };\n    EngineMap.prototype.beforeShow = function () { };\n    EngineMap.prototype.updatePosition = function (entity, position) {\n        if (this.$ref[entity.$id]) {\n            this.$ref[entity.$id].position = position;\n        }\n        else {\n            console.error(\"Trying to update position when entity not set\", this);\n        }\n    };\n    EngineMap.prototype.setShow = function (show) {\n        this.show = show;\n        if (this.show) {\n            this.beforeShow();\n        }\n        this.entities.forEach(function (ent) {\n            Physics_1.default.setEnabledPhysics(ent, show);\n            ent.hidden = !show;\n        });\n        if (this.show) {\n            this.restore();\n        }\n    };\n    EngineMap.prototype.restore = function () {\n        for (var prop in this.$ref) {\n            if (this.$ref.hasOwnProperty(prop)) {\n                var entityData = this.$ref[prop];\n                entityData.entity.setPosition(entityData.position);\n            }\n        }\n    };\n    EngineMap.prototype.addEntity = function (entity) {\n        if (!this.$ref[entity.$id]) {\n            this.entities.push(entity);\n            this.$ref[entity.$id] = {\n                entity: entity,\n                position: entity.position,\n            };\n        }\n        return this;\n    };\n    EngineMap.prototype.update = function (engineHelper) {\n        if (!this.show) {\n            return;\n        }\n        this.entities.forEach(function (ent) { return ent.update(engineHelper); });\n        if (this.configBuilder) {\n            this.configBuilder.texts.forEach(function (fontRef) {\n                return engineHelper.writeFont(fontRef);\n            });\n        }\n    };\n    EngineMap.prototype.render = function (engineHelper) {\n        if (!this.show) {\n            return;\n        }\n        this.entities.forEach(function (ent) { return ent.render(engineHelper); });\n    };\n    EngineMap.prototype.event = function (event, engineHelper) {\n        if (!this.show) {\n            return;\n        }\n        for (var _i = 0, _a = this.entities; _i < _a.length; _i++) {\n            var entities = _a[_i];\n            if (entities.isLastEvent) {\n                continue;\n            }\n            var shouldPropagate = entities.event(event, engineHelper);\n            if (shouldPropagate === false) {\n                return false;\n            }\n        }\n        for (var _b = 0, _c = this.entities; _b < _c.length; _b++) {\n            var entities = _c[_b];\n            if (!entities.isLastEvent) {\n                continue;\n            }\n            var shouldPropagate = entities.event(event, engineHelper);\n            if (shouldPropagate === false) {\n                return false;\n            }\n        }\n    };\n    EngineMap.prototype.init = function (engineHelper) {\n        this.engineHelper = engineHelper;\n        this.entities.forEach(function (ent) { return ent.init(engineHelper); });\n    };\n    EngineMap.prototype.parseMap = function (engineHelper, map) {\n        this.configBuilder = new ConfigMapBuilder_1.default(engineHelper);\n        this.configBuilder.build(map);\n        this.addEntities();\n    };\n    EngineMap.prototype.addEntities = function () {\n        var _this = this;\n        if (!this.configBuilder || !this.configBuilder.objects)\n            return;\n        this.configBuilder.objects.forEach(function (ent) {\n            return _this.addEntity(ent);\n        });\n    };\n    return EngineMap;\n}(EntityManager2d_1.default));\nexports.default = EngineMap;\n//# sourceMappingURL=EngineMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelPosition_1 = require(\"./ModelPosition\");\nvar IdGenerator_1 = require(\"../Common/IdGenerator\");\nvar EngineObject = /** @class */ (function (_super) {\n    __extends(EngineObject, _super);\n    function EngineObject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.$hidden = false;\n        _this.$id = (0, IdGenerator_1.generateId)();\n        _this.clone = false;\n        _this.isTop = false;\n        _this.isLastEvent = false;\n        return _this;\n    }\n    EngineObject.prototype.copyTexture = function (obj) {\n        this.shaderEntity.rendererTextureRef = obj.shaderEntity.rendererTextureRef;\n        this.shaderEntity.vertexModel = obj.shaderEntity.vertexModel;\n        this.shaderEntity.rendererBufferId = obj.shaderEntity.rendererBufferId;\n    };\n    Object.defineProperty(EngineObject.prototype, \"shaderEntity\", {\n        get: function () {\n            if (this._shaderEntity !== undefined &&\n                this._shaderEntity.hidden !== this.$hidden) {\n                this._shaderEntity.hidden = this.$hidden;\n            }\n            return this._shaderEntity;\n        },\n        set: function (shaderEntity) {\n            this._shaderEntity = shaderEntity;\n            this._shaderEntity.isTop = this.isTop;\n            this._shaderEntity.clone = this.clone;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EngineObject.prototype, \"hidden\", {\n        get: function () {\n            return this.$hidden;\n        },\n        set: function (value) {\n            this.setHidden(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EngineObject.prototype.setHidden = function (value) {\n        this.$hidden = value;\n        if (this.shaderEntity) {\n            this.shaderEntity.hidden = value;\n        }\n    };\n    EngineObject.prototype.setTop = function (isTop) {\n        this.isTop = isTop;\n        if (!this.shaderEntity)\n            return;\n        this.shaderEntity.isTop = isTop;\n    };\n    EngineObject.prototype.setClone = function (clone) {\n        this.clone = clone;\n        if (!this.shaderEntity)\n            return;\n        this.shaderEntity.clone = clone;\n    };\n    EngineObject.prototype.update = function (engineHelper) { };\n    EngineObject.prototype.render = function (engineHelper) { };\n    EngineObject.prototype.event = function (event, engineHelper) {\n        return;\n    };\n    EngineObject.prototype.init = function (engineHelper) { };\n    return EngineObject;\n}(ModelPosition_1.default));\nexports.default = EngineObject;\n//# sourceMappingURL=EngineObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CollisionDetection_1 = require(\"../Physics/CollisionDetection\");\nvar VertexBuilder_1 = require(\"../Builder/VertexBuilder\");\nvar EngineObjectHelper = /** @class */ (function () {\n    function EngineObjectHelper() {\n    }\n    EngineObjectHelper.vertex = new VertexBuilder_1.VertexBuilder();\n    EngineObjectHelper.collision = new CollisionDetection_1.CollisionDetection();\n    return EngineObjectHelper;\n}());\nexports.default = EngineObjectHelper;\n//# sourceMappingURL=EngineObjectHelper.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Builder/ShaderEntityBuilder\");\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar EngineObject_1 = require(\"./EngineObject\");\nvar ModelObject2d = /** @class */ (function (_super) {\n    __extends(ModelObject2d, _super);\n    function ModelObject2d(rect, vertexModel) {\n        var _this = _super.call(this) || this;\n        _this.vertexModel = vertexModel;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    ModelObject2d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.RECTANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.TWO_DIMENSION;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .createTexture(this.vertexModel.textureSource)\n            .build(this, renderOpt);\n    };\n    return ModelObject2d;\n}(EngineObject_1.default));\nexports.default = ModelObject2d;\n//# sourceMappingURL=ModelObject2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Builder/ShaderEntityBuilder\");\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar EngineObject_1 = require(\"./EngineObject\");\nvar ModelObject3d = /** @class */ (function (_super) {\n    __extends(ModelObject3d, _super);\n    function ModelObject3d(rect, vertexModel) {\n        var _this = _super.call(this) || this;\n        _this.renderType = RenderOption_1.RenderType.TRIANGLE;\n        _this.vertexModel = vertexModel;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    ModelObject3d.prototype.setRenderType = function (renderType) {\n        this.renderType = renderType;\n    };\n    ModelObject3d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = this.renderType;\n        renderOpt.shaderType = RenderOption_1.ShaderType.THREE_DIMENSION;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .createTexture(this.vertexModel.textureSource)\n            .build(this, renderOpt);\n    };\n    return ModelObject3d;\n}(EngineObject_1.default));\nexports.default = ModelObject3d;\n//# sourceMappingURL=ModelObject3d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Builder/ShaderEntityBuilder\");\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar EngineObject_1 = require(\"./EngineObject\");\nvar ModelObjectRect3d = /** @class */ (function (_super) {\n    __extends(ModelObjectRect3d, _super);\n    function ModelObjectRect3d(rect, vertexModel) {\n        var _this = _super.call(this) || this;\n        _this.vertexModel = vertexModel;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    ModelObjectRect3d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.RECTANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.THREE_DIMENSION;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .createTexture(this.vertexModel.textureSource)\n            .build(this, renderOpt);\n    };\n    return ModelObjectRect3d;\n}(EngineObject_1.default));\nexports.default = ModelObjectRect3d;\n//# sourceMappingURL=ModelObjectRect3d.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Rect3d_1 = require(\"../Data/Rect3d\");\nvar Position_1 = require(\"./Position\");\nvar ModelPosition = /** @class */ (function () {\n    function ModelPosition() {\n        var _this = this;\n        this.position = new Position_1.default();\n        this.dirtyModel = true;\n        this.dirtyQuat = true;\n        this.dirtyPos = true;\n        this.dirtyScale = true;\n        this.dirtyOrigin = true;\n        this.intermediateModels = [\n            gl_matrix_1.mat4.create(),\n            gl_matrix_1.mat4.create(),\n            gl_matrix_1.mat4.create(),\n            gl_matrix_1.mat4.create(),\n        ];\n        // prevent memory reallocation of objects\n        this.initialMat4Temp = gl_matrix_1.mat4.create();\n        this.rotateQuatTemp = gl_matrix_1.quat.create();\n        this.rotateMat4Temp = gl_matrix_1.mat4.create();\n        this.getModel = function () {\n            if (_this.dirtyModel) {\n                _this.dirtyModel = false;\n                _this._buildModel();\n            }\n            return _this.cachedModel;\n        };\n        this.getPosition = function () {\n            return _this.position;\n        };\n    }\n    ModelPosition.prototype.setPosition = function (position) {\n        this.position = position;\n        this.dirtyOrigin = true;\n        this.dirtyQuat = true;\n        this.dirtyPos = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.pos = function () {\n        return [this.position.x, this.position.y, this.position.z];\n    };\n    ModelPosition.prototype.centerRect = function (rect) {\n        this.center(rect.x, rect.y, rect.z);\n    };\n    ModelPosition.prototype.rotateOriginRect = function (rect) {\n        this.rotateOrigin(rect.x, rect.y, rect.z);\n    };\n    ModelPosition.prototype.centerCoord = function (coord) {\n        this.center(coord.x, coord.y, coord.z);\n    };\n    ModelPosition.prototype.center = function (x, y, z) {\n        if (this.position.x === x &&\n            this.position.y === y &&\n            this.position.z === z) {\n            return;\n        }\n        this.position.x = x;\n        this.position.y = y;\n        this.position.z = z;\n        this.dirtyPos = true;\n        this.dirtyModel = true;\n        this.rotateOrigin(x, y, z);\n    };\n    ModelPosition.prototype.translate = function (dx, dy, dz) {\n        this.position.x += dx;\n        this.position.y += dy;\n        this.position.z += dz;\n        this.dirtyPos = true;\n        this.dirtyModel = true;\n        this.rotateOrigin(this.position.x, this.position.y, this.position.z);\n    };\n    ModelPosition.prototype.rotateOrigin = function (x, y, z) {\n        if (this.position.originX !== x ||\n            this.position.originY !== y ||\n            this.position.originZ !== z) {\n            this.position.originX = x;\n            this.position.originY = y;\n            this.position.originZ = z;\n            this.dirtyOrigin = true;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.angleX = function (x) {\n        if (this.position.ax !== x) {\n            this.position.ax = x;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.angleY = function (y) {\n        if (this.position.ay !== y) {\n            this.position.ay = y;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.angleZ = function (z) {\n        if (this.position.az !== z) {\n            this.position.az = z;\n            this.dirtyQuat = true;\n            this.dirtyModel = true;\n        }\n    };\n    ModelPosition.prototype.rotateX = function (x) {\n        this.angleX(x);\n    };\n    ModelPosition.prototype.rotateY = function (y) {\n        this.angleY(y);\n    };\n    ModelPosition.prototype.rotateZ = function (z) {\n        this.angleZ(z);\n    };\n    ModelPosition.prototype.scaleX = function (x) {\n        this.position.scaleX = x;\n        this.position.width = this.position.scaleX;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scaleY = function (y) {\n        this.position.scaleY = y;\n        this.position.height = this.position.scaleY;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scaleZ = function (z) {\n        this.position.scaleZ = z;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scale = function (x, y, z) {\n        if (this.position.scaleX === x &&\n            this.position.scaleY === y &&\n            this.position.scaleZ === z) {\n            return;\n        }\n        this.position.scaleX = x;\n        this.position.scaleY = y;\n        this.position.scaleZ = z;\n        this.position.width = x;\n        this.position.height = y;\n        this.position.length = z;\n        this.dirtyScale = true;\n        this.dirtyModel = true;\n    };\n    ModelPosition.prototype.scaleRect = function (rect) {\n        this.scale(rect.width, rect.height, rect.length);\n    };\n    ModelPosition.prototype._buildQuat = function () {\n        var quatMat = this.createMat4NoAlloc(this.rotateMat4Temp);\n        var quatRotationxyz = this.createQuatNoAlloc(this.rotateQuatTemp);\n        quatRotationxyz = gl_matrix_1.quat.rotateX(quatRotationxyz, quatRotationxyz, this.degreesToRadians(this.position.ax));\n        quatRotationxyz = gl_matrix_1.quat.rotateY(quatRotationxyz, quatRotationxyz, this.degreesToRadians(this.position.ay));\n        quatRotationxyz = gl_matrix_1.quat.rotateZ(quatRotationxyz, quatRotationxyz, this.degreesToRadians(this.position.az));\n        quatRotationxyz = gl_matrix_1.quat.normalize(quatRotationxyz, quatRotationxyz);\n        return gl_matrix_1.mat4.fromQuat(quatMat, quatRotationxyz);\n    };\n    ModelPosition.prototype.getIntermediateModel = function (point, dest) {\n        var org = this.intermediateModels[point];\n        for (var index in dest) {\n            if (dest.hasOwnProperty(index)) {\n                dest[index] = org[index];\n            }\n        }\n        return dest;\n    };\n    ModelPosition.prototype._buildModelIntermediate = function (point, dest) {\n        // faster copy - preserve existing reference to prevent GC\n        var org = this.intermediateModels[point];\n        for (var index in dest) {\n            if (dest.hasOwnProperty(index)) {\n                org[index] = dest[index];\n            }\n        }\n        return dest;\n    };\n    ModelPosition.prototype.createQuatNoAlloc = function (out) {\n        out[0] = 0;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 1;\n        return out;\n    };\n    ModelPosition.prototype.createMat4NoAlloc = function (out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 0;\n        out[4] = 0;\n        out[5] = 1;\n        out[6] = 0;\n        out[7] = 0;\n        out[8] = 0;\n        out[9] = 0;\n        out[10] = 1;\n        out[11] = 0;\n        out[12] = 0;\n        out[13] = 0;\n        out[14] = 0;\n        out[15] = 1;\n        return out;\n    };\n    ModelPosition.prototype._buildModel = function () {\n        var _dirty = false;\n        var dest = this.createMat4NoAlloc(this.initialMat4Temp);\n        if (this.dirtyOrigin) {\n            _dirty = true;\n            var origin_1 = [\n                this.position.originX,\n                this.position.originY,\n                this.position.originZ,\n            ];\n            gl_matrix_1.mat4.translate(dest, dest, origin_1);\n            this._buildModelIntermediate(0, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(0, dest);\n        }\n        // cache this one as its heavy\n        if (this.dirtyQuat || _dirty) {\n            _dirty = true;\n            this.quatRotationxyz = this._buildQuat();\n            gl_matrix_1.mat4.multiply(dest, dest, this.quatRotationxyz);\n            this._buildModelIntermediate(1, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(1, dest);\n        }\n        if (this.dirtyPos || _dirty) {\n            _dirty = true;\n            var negOrigin = [\n                -1 * this.position.originX,\n                -1 * this.position.originY,\n                -1 * this.position.originZ,\n            ];\n            gl_matrix_1.mat4.translate(dest, dest, negOrigin);\n            var pos = [\n                this.position.x,\n                this.position.y,\n                this.position.z,\n            ];\n            gl_matrix_1.mat4.translate(dest, dest, pos);\n            this._buildModelIntermediate(2, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(2, dest);\n        }\n        if (this.dirtyScale || _dirty) {\n            _dirty = true;\n            var scale = [\n                this.position.scaleX,\n                this.position.scaleY,\n                this.position.scaleZ,\n            ];\n            gl_matrix_1.mat4.scale(dest, dest, scale);\n            this._buildModelIntermediate(3, dest);\n        }\n        else {\n            dest = this.getIntermediateModel(3, dest);\n        }\n        this.dirtyPos = false;\n        this.dirtyQuat = false;\n        this.dirtyScale = false;\n        this.dirtyOrigin = false;\n        this.cachedModel = dest;\n    };\n    ModelPosition.prototype.degreesToRadians = function (degrees) {\n        return Math.round(gl_matrix_1.glMatrix.toRadian(degrees) * 100) / 100;\n    };\n    ModelPosition.prototype.setRect = function (rect) {\n        this.scaleRect(rect);\n        this.centerRect(rect);\n    };\n    // memory optimised\n    ModelPosition.prototype.setRect2 = function (x, y, z, width, height, length) {\n        this.scale(width, height, length);\n        this.center(x, y, z);\n    };\n    // memory optimised\n    ModelPosition.prototype.getRect2 = function () {\n        return this.position;\n    };\n    ModelPosition.prototype.getRect = function () {\n        return new Rect3d_1.default(this.position.x, this.position.y, this.position.z, this.position.width, this.position.height, this.position.length);\n    };\n    return ModelPosition;\n}());\nexports.default = ModelPosition;\n//# sourceMappingURL=ModelPosition.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Rect2d_1 = require(\"../Data/Rect2d\");\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        var _this = _super.call(this, 0, 0, 0, 0, 0) || this;\n        _this.x = 0;\n        _this.y = 0;\n        _this.z = 0;\n        _this.ax = 0;\n        _this.ay = 0;\n        _this.az = 0;\n        _this.nx = 0;\n        _this.ny = 0;\n        _this.nz = 0;\n        _this.width = 0;\n        _this.height = 0;\n        _this.length = 0;\n        _this.scaleX = 1;\n        _this.scaleY = 1;\n        _this.scaleZ = 1;\n        _this.originX = 0;\n        _this.originY = 0;\n        _this.originZ = 0;\n        _this.maxHeight = 0;\n        _this.maxWidth = 0;\n        return _this;\n    }\n    return Position;\n}(Rect2d_1.default));\nexports.default = Position;\n//# sourceMappingURL=Position.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShaderEntity = void 0;\nvar RenderOption_1 = require(\"../Data/RenderOption\");\nvar ShaderEntity = /** @class */ (function () {\n    function ShaderEntity() {\n        this.opt = new RenderOption_1.default();\n        this.clone = false;\n    }\n    ShaderEntity.prototype.getVertexModel = function () {\n        return this.vertexModel;\n    };\n    ShaderEntity.prototype.getVertexBufferId = function () {\n        return this.vertexModel.vertexBufferId;\n    };\n    ShaderEntity.prototype.getOpt = function () {\n        return this.opt;\n    };\n    ShaderEntity.prototype.getModel = function () {\n        return this.model();\n    };\n    ShaderEntity.prototype.getTextureSource = function () {\n        return this.src;\n    };\n    ShaderEntity.prototype.setTextureSource = function (src) {\n        this.src = src;\n    };\n    ShaderEntity.prototype.renderCopy = function (model) {\n        var newInstance = this.shallowCopy();\n        newInstance.model = model.getModel;\n        newInstance.modelPosition = model.getPosition;\n        return newInstance;\n    };\n    ShaderEntity.prototype.shallowCopy = function () {\n        var newInstance = new ShaderEntity();\n        newInstance.opt = this.opt;\n        newInstance.vertexModel = this.vertexModel;\n        newInstance.rendererBufferId = this.rendererBufferId;\n        newInstance.rendererTextureRef = this.rendererTextureRef;\n        newInstance.src = this.src;\n        newInstance.isTop = this.isTop;\n        newInstance.hidden = this.hidden;\n        return newInstance;\n    };\n    return ShaderEntity;\n}());\nexports.ShaderEntity = ShaderEntity;\n//# sourceMappingURL=ShaderEntity.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar App_1 = require(\"./App\");\nvar PlaneType_1 = require(\"./Data/PlaneType\");\nvar RenderOption_1 = require(\"./Data/RenderOption\");\nvar TextureVertexModel_1 = require(\"./Data/TextureVertexModel\");\nvar EngineObjectHelper_1 = require(\"./EngineEntity/EngineObjectHelper\");\nvar Font_1 = require(\"./Font/Font\");\nvar Renderer_1 = require(\"./Renderer\");\nvar CollisionDetection_1 = require(\"./Physics/CollisionDetection\");\nvar EngineHelper = /** @class */ (function () {\n    function EngineHelper(notificationQueue, subscriberPool, camera) {\n        var _this = this;\n        this.resourcesLoading = [];\n        this.bufferCache = {};\n        this.fontCache = {};\n        this.fontNameKeyReverse = {};\n        this.uvCache = {};\n        this.vertexUVCache = {};\n        this.cacheId = 0;\n        this.camera = camera;\n        this.notificationQueue = notificationQueue;\n        this.subscriberPool = subscriberPool;\n        subscriberPool.listen(App_1.AppSubscription.GET_FPS, function (fps) { return (_this.fps = fps); });\n    }\n    EngineHelper.prototype.startIteration = function () {\n        this.subscriberPool.publish(App_1.AppSubscription.START_ITERATION);\n    };\n    EngineHelper.prototype.render = function (entity) {\n        var shaderProgram = entity.opt.shaderType;\n        if ((shaderProgram === RenderOption_1.ShaderType.TWO_DIMENSION ||\n            shaderProgram === RenderOption_1.ShaderType.COLOUR) &&\n            this.camera.camera3d.isOutOfBound(entity.modelPosition())) {\n            return;\n        }\n        var model = entity.getModel();\n        if (entity.clone) {\n            model = model.slice(0);\n        }\n        this.notificationQueue.pushPayload(Renderer_1.RendererNotification.renderEntity(entity, model));\n    };\n    EngineHelper.prototype.renderCopy = function (entity, pos) {\n        this.render(entity.shaderEntity.renderCopy(pos));\n    };\n    EngineHelper.prototype.setLighting = function (light) {\n        this.notificationQueue.pushPayload(Renderer_1.RendererNotification.setLighting(light));\n    };\n    EngineHelper.prototype.createTexture = function (object) {\n        this.subscriberPool.publish(Renderer_1.RendererSubscription.CREATE_TEXTURE, Renderer_1.RendererSubscription.createTexturePayload(object, this.resourcesLoading));\n    };\n    EngineHelper.prototype.getFPS = function () {\n        return this.fps;\n    };\n    EngineHelper.prototype.getTotalPixelHeight = function () {\n        return window.screen.height;\n    };\n    EngineHelper.prototype.getTotalPixelWidth = function () {\n        return window.screen.width;\n    };\n    EngineHelper.prototype.getScreenHeight = function () {\n        return this.camera.height;\n    };\n    EngineHelper.prototype.getScreenWidth = function () {\n        return this.camera.width;\n    };\n    EngineHelper.prototype.setTime = function (time) {\n        if (time) {\n            this.time = time;\n        }\n    };\n    EngineHelper.prototype.getTime = function () {\n        return this.time;\n    };\n    EngineHelper.prototype.getVerticesById = function (id) {\n        if (this.bufferCache[id]) {\n            return this.bufferCache[id].vertices;\n        }\n        else {\n            console.error(\"Unable to find src in cache\", id, this);\n            throw new Error(\"unable to find src in cache\");\n        }\n    };\n    EngineHelper.prototype.updateBufferCache = function (buffer, verticesCacheId) {\n        buffer.cacheId = verticesCacheId;\n        this.bufferCache[verticesCacheId] = buffer;\n        return verticesCacheId;\n    };\n    EngineHelper.prototype.addBufferCache = function (buffer) {\n        var cacheId = this.cacheId++;\n        this.bufferCache[cacheId] = buffer;\n        buffer.cacheId = cacheId;\n        return cacheId;\n    };\n    EngineHelper.prototype.getResource = function (src) {\n        var _this = this;\n        var promise = new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            console.log(\"Loading resource \".concat(src));\n            xhr.open(\"GET\", src);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === XMLHttpRequest.DONE) {\n                    // handle file:// loading with status 0\n                    if (xhr.status === 200 || xhr.status === 0) {\n                        var cacheId_1 = _this.cacheId++;\n                        resolve({\n                            data: xhr.responseText,\n                            engineHelper: _this,\n                            cacheId: cacheId_1,\n                            registerBuffer: function (obj) {\n                                _this.bufferCache[cacheId_1] = obj;\n                            },\n                            registerFont: function (meta) {\n                                var font = new Font_1.default(meta);\n                                _this.fontCache[cacheId_1] = {\n                                    meta: meta,\n                                    font: font,\n                                };\n                                _this.fontNameKeyReverse[src] = cacheId_1;\n                            },\n                        });\n                    }\n                    else {\n                        reject(xhr.responseText);\n                    }\n                }\n            };\n            xhr.send();\n        });\n        this.resourcesLoading.push(promise);\n        return promise;\n    };\n    EngineHelper.prototype.getAllResourcesLoading = function () {\n        return Promise.all(this.resourcesLoading);\n    };\n    EngineHelper.prototype.updateBuffer = function (object) {\n        this.updateBufferCache(object.vertexModel.createModel(), object.vertexModel.vertexBufferId);\n        var notification = Renderer_1.RendererNotification.updateBuffer(object, this.getBuffer(object));\n        this.notificationQueue.pushPayload(notification);\n    };\n    EngineHelper.prototype.getBufferModelData = function (object) {\n        return this.bufferCache[object.getVertexBufferId()];\n    };\n    EngineHelper.prototype.getBuffer = function (object) {\n        var buffer = this.getBufferModelData(object).vertices;\n        if (!buffer) {\n            throw new Error(\"No buffer was found for this entity\");\n        }\n        return buffer;\n    };\n    EngineHelper.prototype.registerEntity = function (object) {\n        this.subscriberPool.publish(Renderer_1.RendererSubscription.REGISTER_ENTITY, Renderer_1.RendererSubscription.registerEntityPayload(object, this.getBufferModelData(object)));\n    };\n    EngineHelper.prototype.initFont = function () {\n        for (var fontType in this.fontCache) {\n            if (!this.fontCache.hasOwnProperty(fontType)) {\n                continue;\n            }\n            var font = this.fontCache[fontType].font;\n            font.init(this);\n        }\n    };\n    EngineHelper.prototype.renderFont = function () {\n        for (var fontType in this.fontCache) {\n            if (!this.fontCache.hasOwnProperty(fontType)) {\n                continue;\n            }\n            var font = this.fontCache[fontType].font;\n            font.render(this);\n        }\n    };\n    EngineHelper.prototype.updateFont = function () {\n        for (var fontType in this.fontCache) {\n            if (!this.fontCache.hasOwnProperty(fontType)) {\n                continue;\n            }\n            var font = this.fontCache[fontType].font;\n            font.update(this);\n        }\n    };\n    EngineHelper.prototype.newVertexModel2d = function (cacheId) {\n        return this.newVertexModel(cacheId, PlaneType_1.default.YX);\n    };\n    EngineHelper.prototype.newVertexModelUv3d = function (cacheId) {\n        var cache = this.vertexUVCache[cacheId];\n        var vertexModel = new TextureVertexModel_1.default().fillRenderUnits(cache.uv);\n        vertexModel.textureSource = cache.source;\n        return vertexModel;\n    };\n    EngineHelper.prototype.createPlaneVertexModel = function (src, uv, plane) {\n        var vertexModel = new TextureVertexModel_1.default().createRenderUnits(4);\n        vertexModel.textureSource = src;\n        EngineObjectHelper_1.default.vertex.plane(vertexModel.renderUnits, plane);\n        EngineObjectHelper_1.default.vertex.planeUV(vertexModel.renderUnits, uv);\n        return vertexModel;\n    };\n    EngineHelper.prototype.getUVCache = function (name) {\n        return this.uvCache[name].uv;\n    };\n    EngineHelper.prototype.addUVCache = function (source, name, uv) {\n        this.uvCache[name] = { source: source, uv: uv };\n    };\n    EngineHelper.prototype.getVertexUvCache = function (name) {\n        return this.vertexUVCache[name].uv;\n    };\n    EngineHelper.prototype.newVertexModel = function (cacheId, plane) {\n        var cache = this.uvCache[cacheId];\n        if (!cache) {\n            var cache_1 = this.uvCache[\"missing\"];\n            console.warn(\"texture \".concat(cacheId, \" has not been loaded - loading default texture\"));\n            return this.createPlaneVertexModel(cache_1.source, cache_1.uv, plane);\n        }\n        return this.createPlaneVertexModel(cache.source, cache.uv, plane);\n    };\n    EngineHelper.prototype.addVertexUvCache = function (textureSource, name, vertexUv) {\n        this.vertexUVCache[name] = { source: textureSource, uv: vertexUv };\n    };\n    EngineHelper.prototype.writeFont = function (fontRef) {\n        var fontCacheId = undefined;\n        if (typeof fontRef.$cacheId === \"string\") {\n            fontCacheId = this.fontNameKeyReverse[fontRef.$cacheId];\n        }\n        else if (typeof fontRef.$cacheId === \"number\") {\n            fontCacheId = fontRef.$cacheId;\n        }\n        else if (fontRef.$cacheId !== undefined) {\n            throw new Error(\"fontId is not a number or string\");\n        }\n        var font;\n        if (fontCacheId === undefined) {\n            font = Font_1.default.DefaultFont;\n        }\n        else {\n            font = this.fontCache[fontCacheId].font;\n        }\n        return font.writeRef(fontRef);\n    };\n    EngineHelper.prototype.isClickedObject = function (event, object) {\n        return this.isClicked(event, object.getRect2());\n    };\n    EngineHelper.prototype.isClicked = function (event, rect) {\n        var distance = this.camera.camera3d.distanceEvent(event);\n        return CollisionDetection_1.CollisionDetection.isPointInRect(rect, distance);\n    };\n    EngineHelper.prototype.rotate = function (event, rect) {\n        var _a = this.camera.camera3d.position, x = _a.x, y = _a.y;\n        return CollisionDetection_1.CollisionDetection.rotate(x + event.x, y + event.y, rect);\n    };\n    EngineHelper.prototype.updateProjectionMatrix = function () {\n        this.notificationQueue.pushPayload(Renderer_1.RendererNotification.UPDATE_PROJECTION_MATRIX);\n    };\n    return EngineHelper;\n}());\nexports.default = EngineHelper;\n//# sourceMappingURL=EngineHelper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.event = void 0;\nvar Coordinate_1 = require(\"./Data/Coordinate\");\nvar Events = /** @class */ (function () {\n    function Events() {\n        var _this = this;\n        this.eventDown = false;\n        this.touchDown = false;\n        this.eventDownX = 0.0;\n        this.eventDownY = 0.0;\n        this.eventDownDx = 0.0;\n        this.eventDownDy = 0.0;\n        this.keyDownMap = {};\n        this.prevEvent = 0.0;\n        this.timeStamp = 0.0;\n        this.prevTimeStamp = 0.0;\n        this.motionTimeStamp = 0.0;\n        this.orientationQuaternion = [0.0, 0.0, 0.0, 0.0];\n        this.NULL_EVENT = {\n            x: 0,\n            y: 0,\n            dx: 0,\n            dy: 0,\n            dxRaw: 0,\n            dyRaw: 0,\n            eventType: -1,\n            prevEventType: -1,\n            timeStamp: 0,\n            prevTimeStamp: 0,\n            orientationQuaternion: [0, 0, 0, 0],\n            rawEvent: undefined,\n            isDown: false,\n            isUp: false,\n        };\n        this.boundedWindow = false;\n        this.callback = [];\n        this.throttle = 1000.0 / 25.0;\n        this.setThrottle = function (throttle) {\n            if (throttle) {\n                _this.throttle = throttle;\n            }\n        };\n        this.bind = function (callback, webGLContainer) {\n            _this.callback.push(callback);\n            _this.webGLContainer = webGLContainer;\n            _this.bindCanvas();\n            _this.bindWindow();\n        };\n        this.handleOrientationChange = function () {\n            _this.orientation = window.orientation || 0;\n        };\n        this.handleMotion = function (event) {\n            if (!_this.motionTimeStamp) {\n                _this.motionTimeStamp = event.timeStamp;\n            }\n            _this.incrementQuaternion(event);\n            if (event && event.timeStamp - _this.motionTimeStamp > _this.throttle) {\n                var tempEventDownX = _this.eventDownX;\n                var tempEventDownY = _this.eventDownY;\n                _this.eventDownX = _this.orientationQuaternion[0];\n                _this.eventDownY = _this.orientationQuaternion[1];\n                _this.handleEvent(event, Events.ORIENTATION);\n                _this.eventDownX = tempEventDownX;\n                _this.eventDownY = tempEventDownY;\n                _this.prevEvent = Events.ORIENTATION;\n                _this.motionTimeStamp = event.timeStamp;\n                _this.orientationQuaternion = [0.0, 0.0, 0.0, 1.0];\n            }\n        };\n        this.incrementQuaternion = function (event) {\n            var accData = event.rotationRate\n                ? event.rotationRate\n                : { beta: 0, gamma: 0, alpha: 0 };\n            var eventQuaternion = _this.getQuaternion(accData.alpha, accData.beta, accData.gamma);\n            _this.orientationQuaternion[0] += eventQuaternion[0];\n            _this.orientationQuaternion[1] += eventQuaternion[1];\n            _this.orientationQuaternion[2] += eventQuaternion[2];\n        };\n        this.buildEvent = function (evt, type) {\n            if (!_this.webGLContainer.canvas)\n                return _this.NULL_EVENT;\n            return {\n                x: _this.eventDownX / _this.webGLContainer.canvas.offsetWidth,\n                y: 1 - _this.eventDownY / _this.webGLContainer.canvas.offsetHeight,\n                dx: (2.0 * _this.eventDownDx) / _this.webGLContainer.canvas.offsetWidth,\n                dy: (2.0 * _this.eventDownDy) / _this.webGLContainer.canvas.offsetHeight,\n                dxRaw: _this.eventDownDx,\n                dyRaw: _this.eventDownDy,\n                eventType: type,\n                prevEventType: _this.prevEvent,\n                timeStamp: _this.timeStamp,\n                prevTimeStamp: _this.prevTimeStamp,\n                orientationQuaternion: _this.orientationQuaternion,\n                rawEvent: evt,\n                isDown: type === Events.DOWN,\n                isUp: type === Events.UP,\n            };\n        };\n        this.resize = function (evt) {\n            _this.handleEvent(evt, Events.RESIZE);\n        };\n        this.buildEventKey = function (evt, type) {\n            return {\n                eventType: type,\n                keyCode: evt.key,\n                code: evt.code,\n                event: evt,\n                keyDown: _this.keyDownMap,\n                isDown: type === Events.DOWN,\n                isUp: type === Events.UP,\n            };\n        };\n        this.keyDown = function (evt) {\n            _this.keyDownMap[evt.code] = true;\n            _this.handleEvent(evt, Events.KEY_DOWN);\n            switch (evt.keyCode) {\n                // prevent arrow keys from scrolling window\n                case 37:\n                case 39:\n                case 38:\n                case 40:\n                    evt.preventDefault();\n                    break;\n            }\n        };\n        this.keyUp = function (evt) {\n            _this.keyDownMap[evt.code] = false;\n            _this.handleEvent(evt, Events.KEY_UP);\n        };\n        this.handleMouseUp = function (evt) {\n            _this.eventDown = false;\n            _this.timeStamp = evt.timeStamp;\n            _this.eventDownX = evt.offsetX;\n            _this.eventDownY = evt.offsetY;\n            _this.handleEvent(evt, Events.UP);\n            _this.prevEvent = Events.UP;\n            _this.prevTimeStamp = evt.timeStamp;\n        };\n        this.handleEventDown = function (evt) {\n            _this.eventDown = true;\n            _this.eventDownX = evt.offsetX;\n            _this.eventDownY = evt.offsetY;\n            _this.timeStamp = evt.timeStamp;\n            _this.handleEvent(evt, Events.DOWN);\n            _this.prevEvent = Events.DOWN;\n            _this.prevTimeStamp = evt.timeStamp;\n        };\n        this.handleEventMove = function (evt) {\n            if (_this.eventDown && evt.timeStamp - _this.timeStamp > _this.throttle) {\n                var xUp = evt.offsetX;\n                var yUp = evt.offsetY;\n                _this.eventDownDx = _this.eventDownX - xUp;\n                _this.eventDownDy = _this.eventDownY - yUp;\n                _this.eventDownX = xUp;\n                _this.eventDownY = yUp;\n                _this.timeStamp = evt.timeStamp;\n                _this.handleEvent(evt, Events.DRAG);\n                _this.prevEvent = Events.DRAG;\n                _this.prevTimeStamp = evt.timeStamp;\n            }\n        };\n        this.handleTouchEnd = function (evt) {\n            _this.touchDown = false;\n            _this.timeStamp = evt.timeStamp;\n            _this.handleEvent(evt, Events.UP);\n            _this.prevEvent = Events.UP;\n            _this.prevTimeStamp = evt.timeStamp;\n        };\n        this.handleTouchStart = function (evt) {\n            _this.touchDown = true;\n            _this.timeStamp = evt.timeStamp;\n            if (evt.target instanceof HTMLElement) {\n                var rect = evt.target.getBoundingClientRect();\n                _this.eventDownX = evt.touches[0].clientX - rect.left;\n                _this.eventDownY = evt.touches[0].clientY - rect.top;\n            }\n            _this.handleEvent(evt, Events.DOWN);\n            _this.prevEvent = Events.DOWN;\n            _this.prevTimeStamp = evt.timeStamp;\n            if (evt.cancelable) {\n                evt.preventDefault();\n            }\n        };\n        this.handleTouchMove = function (evt) {\n            if (_this.touchDown &&\n                evt.timeStamp - _this.timeStamp > _this.throttle &&\n                evt.target instanceof HTMLElement) {\n                var rect = evt.target.getBoundingClientRect();\n                var xUp = evt.touches[0].clientX - rect.left;\n                var yUp = evt.touches[0].clientY - rect.top;\n                _this.eventDownDx = (_this.eventDownX - xUp) / 2.0;\n                _this.eventDownDy = (_this.eventDownY - yUp) / 2.0;\n                _this.eventDownX = xUp;\n                _this.eventDownY = yUp;\n                _this.timeStamp = evt.timeStamp;\n                _this.handleEvent(evt, Events.DRAG);\n                _this.prevEvent = Events.DRAG;\n                _this.prevTimeStamp = evt.timeStamp;\n            }\n            // prevent device scrolling\n            if (evt.cancelable) {\n                evt.preventDefault();\n            }\n        };\n        this.handleEvent = function (evt, event) {\n            var targetEvent = _this.buildEvent(evt, event);\n            for (var i = 0; i < _this.callback.length; i++) {\n                var callbackPropagate = _this.callback[i](targetEvent);\n                if (callbackPropagate === false) {\n                    break;\n                }\n            }\n        };\n    }\n    Events.prototype.delete = function (cb) {\n        this.callback = this.callback.filter(function (c) { return c !== cb; });\n    };\n    Events.prototype.bindWindow = function () {\n        if (this.boundedWindow) {\n            return;\n        }\n        window.addEventListener(\"mouseup\", this.isBodyFocus(this.handleMouseUp), true);\n        window.addEventListener(\"touchend\", this.isBodyFocus(this.handleTouchEnd), true);\n        window.addEventListener(\"resize\", this.resize, true);\n        window.addEventListener(\"keydown\", this.isBodyFocus(this.keyDown), true);\n        window.addEventListener(\"keyup\", this.isBodyFocus(this.keyUp), true);\n        if (window.hasOwnProperty(\"DeviceMotionEvent\")) {\n            window.addEventListener(\"devicemotion\", this.handleMotion, true);\n        }\n        if (window.hasOwnProperty(\"DeviceOrientationEvent\")) {\n            window.addEventListener(\"orientationchange\", this.handleOrientationChange, true);\n        }\n        this.boundedWindow = true;\n    };\n    Events.prototype.bindCanvas = function () {\n        this.webGLContainer.canvas.addEventListener(\"mousedown\", this.handleEventDown, true);\n        this.webGLContainer.canvas.addEventListener(\"mousemove\", this.handleEventMove, true);\n        this.webGLContainer.canvas.addEventListener(\"touchstart\", this.handleTouchStart, true);\n        this.webGLContainer.canvas.addEventListener(\"touchmove\", this.handleTouchMove, true);\n    };\n    Events.prototype.isBodyFocus = function (callback) {\n        return function (_event) {\n            if (window.document.activeElement === window.document.body) {\n                callback(_event);\n            }\n            else {\n                // console.trace('body is not focused when event triggered', event);\n            }\n        };\n    };\n    Events.prototype.getQuaternion = function (alpha, beta, gamma) {\n        var degtorad = Math.PI / 180.0;\n        var radtodeg = 180.0 / Math.PI;\n        var _x = beta ? beta * degtorad : 0;\n        var _y = gamma ? gamma * degtorad : 0;\n        var _z = alpha ? alpha * degtorad : 0;\n        var cX = Math.cos(_x / 2);\n        var cY = Math.cos(_y / 2);\n        var cZ = Math.cos(_z / 2);\n        var sX = Math.sin(_x / 2);\n        var sY = Math.sin(_y / 2);\n        var sZ = Math.sin(_z / 2);\n        var w = cX * cY * cZ - sX * sY * sZ;\n        var x = sX * cY * cZ - cX * sY * sZ;\n        var y = cX * sY * cZ + sX * cY * sZ;\n        var z = cX * cY * sZ + sX * sY * cZ;\n        var screenAccData = new Coordinate_1.default(0, 0, 0);\n        switch (this.orientation) {\n            case 90:\n                screenAccData.x = -x;\n                screenAccData.y = z;\n                break;\n            case 180:\n                screenAccData.x = -z;\n                screenAccData.y = -x;\n                break;\n            case 270:\n            case -90:\n                screenAccData.x = x;\n                screenAccData.y = -z;\n                break;\n            default:\n                screenAccData.x = z;\n                screenAccData.y = x;\n                break;\n        }\n        // convert to engine coords\n        return [\n            (screenAccData.x * radtodeg) / w,\n            (-1 * screenAccData.y * radtodeg) / w,\n            (y * radtodeg) / w,\n            1.0,\n        ];\n    };\n    Events.DOWN = 1;\n    Events.DRAG = 2;\n    Events.UP = 3;\n    Events.RESIZE = 4;\n    Events.ORIENTATION = 5;\n    Events.KEY_DOWN = 6;\n    Events.KEY_UP = 7;\n    Events.SYSTEM_EVENTS = 8;\n    return Events;\n}());\nexports.default = Events;\nexports.event = new Events();\n//# sourceMappingURL=Events.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FontReference = void 0;\nvar EntityManager_1 = require(\"../../Manager/EntityManager\");\nvar Timer_1 = require(\"../Common/Timer\");\nvar Coordinate_1 = require(\"../Data/Coordinate\");\nvar PlaneType_1 = require(\"../Data/PlaneType\");\nvar Rect2d_1 = require(\"../Data/Rect2d\");\nvar EngineObjectHelper_1 = require(\"../EngineEntity/EngineObjectHelper\");\nvar ModelObject2d_1 = require(\"../EngineEntity/ModelObject2d\");\nvar ModelPosition_1 = require(\"../EngineEntity/ModelPosition\");\nvar Renderer_1 = require(\"../Renderer\");\nvar FontChar = /** @class */ (function (_super) {\n    __extends(FontChar, _super);\n    function FontChar(fontChar, rect, vertexModel) {\n        var _this = _super.call(this, rect, vertexModel) || this;\n        _this.fontChar = fontChar;\n        return _this;\n    }\n    return FontChar;\n}(ModelObject2d_1.default));\nvar RenderFont = /** @class */ (function () {\n    function RenderFont(font, fontPos, time) {\n        this.repeat = false;\n        this.newFont(font, fontPos, time);\n    }\n    RenderFont.prototype.render = function (engineHelper) {\n        if (this.isRepeat() && !this.repeat) {\n            return;\n        }\n        else {\n            this.repeat = false;\n        }\n        if (this.shaderEntity) {\n            engineHelper.render(this.shaderEntity);\n        }\n    };\n    RenderFont.prototype.expire = function () {\n        this.displayTime = -1;\n        this.shaderEntity = undefined;\n        this.font = undefined;\n    };\n    RenderFont.prototype.isExpired = function () {\n        return (this.displayTime !== undefined &&\n            !this.isRepeat() &&\n            this.displayTime < this.timer.peak());\n    };\n    RenderFont.prototype.refresh = function () {\n        this.repeat = true;\n    };\n    RenderFont.prototype.isRepeat = function () {\n        return this.displayTime === 0;\n    };\n    RenderFont.prototype.newFont = function (font, fontPos, time) {\n        this.font = font;\n        this.displayTime = time;\n        this.timer = this.timer ? this.timer : new Timer_1.default();\n        this.timer.start();\n        this.id = this.id ? this.id : RenderFont.$id++;\n        this.shaderEntity = font.shaderEntity.shallowCopy();\n        var pos = new ModelPosition_1.default();\n        pos.centerRect(fontPos);\n        pos.rotateOriginRect(fontPos);\n        pos.rotateZ(180);\n        pos.scaleRect(fontPos);\n        this.shaderEntity.model = pos.getModel;\n        this.shaderEntity.modelPosition = function () { return pos.position; };\n        this.modelPos = pos;\n    };\n    RenderFont.$id = 0;\n    return RenderFont;\n}());\nvar FontManager = /** @class */ (function (_super) {\n    __extends(FontManager, _super);\n    function FontManager(metaData) {\n        var _this = _super.call(this) || this;\n        _this.metaData = metaData;\n        _this.fonts = {};\n        _this.renderFontState = {};\n        _this.renderFontPool = [];\n        _this.avgWidth = 0;\n        _this.avgHeight = 0;\n        _this.count = 0;\n        return _this;\n    }\n    FontManager.prototype.getFont = function (charCode) {\n        return this.fonts[charCode];\n    };\n    FontManager.prototype.createRender = function (font, fontPos, time) {\n        var renderFont;\n        if (this.renderFontPool.length > 0) {\n            renderFont = this.renderFontPool.pop();\n            renderFont.newFont(font, fontPos, time);\n        }\n        else {\n            renderFont = new RenderFont(font, fontPos, time);\n        }\n        this.renderFontState[renderFont.id] = renderFont;\n        return renderFont;\n    };\n    FontManager.prototype.refreshExpired = function () {\n        var _this = this;\n        Object.values(this.renderFontState).forEach(function (font) {\n            if (font.isExpired()) {\n                delete _this.renderFontState[font.id];\n                _this.renderFontPool.push(font);\n            }\n        });\n    };\n    FontManager.prototype.update = function (engineHelper) {\n        this.refreshExpired();\n        _super.prototype.update.call(this, engineHelper);\n    };\n    FontManager.prototype.render = function (engineHelper) {\n        var fonts = Object.values(this.renderFontState);\n        fonts.forEach(function (r) { return r.render(engineHelper); });\n        this.count = fonts.length;\n    };\n    FontManager.prototype.init = function (engineHelper) {\n        var context = this.metaData.context;\n        var fonts = context.fonts;\n        var defaultRect = new Rect2d_1.default(0.5, 0.5, 1.0, 1.0, 1.0);\n        var totalWidth = 0.0;\n        var totalHeight = 0.0;\n        var totalNo = 0;\n        for (var fontIdx in fonts) {\n            var fontChar = fonts[fontIdx];\n            var pos = [\n                fontChar.x,\n                fontChar.y,\n                fontChar.x + fontChar.width,\n                fontChar.y + fontChar.height,\n            ];\n            var uvs = EngineObjectHelper_1.default.vertex.planeCW(pos, context.width, context.height);\n            var vertexModel = engineHelper.createPlaneVertexModel(context.filename, uvs, PlaneType_1.default.YX);\n            var font = new FontChar(fontChar, defaultRect, vertexModel);\n            this.fonts[fontChar.charCode] = font;\n            this.entities.push(font);\n            totalWidth += fontChar.width;\n            totalHeight += fontChar.height;\n            totalNo += 1;\n        }\n        this.avgHeight = totalHeight / totalNo;\n        this.avgWidth = totalWidth / totalNo;\n        _super.prototype.init.call(this, engineHelper);\n    };\n    return FontManager;\n}(EntityManager_1.default));\nvar FontReference = /** @class */ (function () {\n    function FontReference() {\n    }\n    FontReference.prototype.render = function (engineHelper) {\n        engineHelper.writeFont(this);\n    };\n    FontReference.newFont = function (pos, cacheId, time) {\n        var ref = new FontReference();\n        ref.displayRect = new Rect2d_1.default(0, 0, 0, 0);\n        ref.pos = pos;\n        ref.time = time;\n        ref.$cacheId = cacheId;\n        ref.isDirtyPos = false;\n        ref.isDirtyText = false;\n        return ref;\n    };\n    FontReference.prototype.setTop = function (isTop) {\n        this.isTop = isTop;\n        return this;\n    };\n    FontReference.prototype.translate = function (dx, dy) {\n        this.pos.x += dx;\n        this.pos.y += dy;\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.center = function (x, y) {\n        this.pos.x = x;\n        this.pos.y = y;\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.setPosition = function (position) {\n        this.pos = new Coordinate_1.default(position.x, position.y);\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.setWidth = function (width) {\n        this.width = width;\n        this.isDirtyPos = true;\n        return this;\n    };\n    FontReference.prototype.setText = function (text) {\n        if (this._hidden) {\n            this.prevText = text;\n            this.text = \"\";\n        }\n        else {\n            this.text = text;\n            this.prevText = \"\";\n        }\n        this.isDirtyText = true;\n        return this;\n    };\n    FontReference.prototype.setFontSize = function (fontSize) {\n        this.fontSize = fontSize;\n        this.isDirtyPos = true;\n        return this;\n    };\n    Object.defineProperty(FontReference.prototype, \"hidden\", {\n        set: function (hidden) {\n            var _a;\n            if (!this._hidden && hidden) {\n                this.prevText = this.text;\n                this.text = \"\";\n                this.isDirtyText = true;\n            }\n            else if (this._hidden && !hidden) {\n                this.text = (_a = this.prevText) !== null && _a !== void 0 ? _a : \"\";\n                this.prevText = \"\";\n                this.isDirtyText = true;\n            }\n            this._hidden = hidden;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FontReference;\n}());\nexports.FontReference = FontReference;\nvar Font = /** @class */ (function () {\n    function Font(metaData) {\n        var _this = this;\n        this.warningShown = false;\n        this.fontCacheId = 1;\n        this.expireRenderFont = function (fontRef) {\n            _this.fontCache[fontRef.$id].forEach(function (f) { return f.expire(); });\n            _this.fontCache[fontRef.$id] = [];\n        };\n        this.writeRef = function (fontRef) {\n            if (_this.fontManager.count > Font.MAX_FONT) {\n                if (!_this.warningShown) {\n                    _this.warningShown = true;\n                    console.warn(\"Maximum font is being rendered\", _this.fontManager.count);\n                }\n            }\n            if (!fontRef.fontSize) {\n                if (!fontRef.width) {\n                    if (!_this.warningShown) {\n                        _this.warningShown = true;\n                        console.warn(\"Either font size or width needs to be set in FontReference\");\n                    }\n                    return fontRef;\n                }\n                if (!fontRef.text) {\n                    if (!_this.warningShown) {\n                        _this.warningShown = true;\n                        console.warn(\"Font text must be set to calculate font size to fit width\");\n                    }\n                    return fontRef;\n                }\n                fontRef.fontSize = _this.calculateFontSize(fontRef.width, fontRef.text.length);\n            }\n            else if (!fontRef.width) {\n                fontRef.width = _this.calcTotalTextWidth(fontRef);\n            }\n            if (fontRef.isDirtyText && fontRef.$id) {\n                _this.expireRenderFont(fontRef);\n            }\n            if (!fontRef.$id || fontRef.isDirtyText) {\n                if (!fontRef.$id) {\n                    fontRef.$id = _this.fontCacheId++;\n                }\n                fontRef.isDirtyText = false;\n                fontRef.isDirtyPos = false;\n                fontRef.prevPos = new Coordinate_1.default(fontRef.pos.x, fontRef.pos.y);\n                var fonts = _this.createFonts(fontRef);\n                _this.fontCache[fontRef.$id] = fonts;\n                _this.fontRefCache[fontRef.$id] = fontRef;\n            }\n            else if (fontRef.isDirtyPos) {\n                var fonts = _this.fontCache[fontRef.$id];\n                var fontPos = fontRef.pos;\n                if (!fontRef.prevPos) {\n                    fontRef.prevPos = new Coordinate_1.default(fontRef.pos.x, fontRef.pos.y);\n                }\n                var dx_1 = fontRef.prevPos.x - fontPos.x;\n                var dy_1 = fontRef.prevPos.y - fontPos.y;\n                fonts.forEach(function (font) {\n                    var modelPos = font.modelPos;\n                    modelPos.translate(-dx_1, -dy_1, 0);\n                    modelPos.rotateOrigin(modelPos.position.x, modelPos.position.y, modelPos.position.z);\n                });\n                fontRef.isDirtyPos = false;\n                fontRef.prevPos.x = fontRef.pos.x;\n                fontRef.prevPos.y = fontRef.pos.y;\n            }\n            _this.fontCache[fontRef.$id].forEach(function (font) {\n                font.refresh();\n                font.shaderEntity.isTop = fontRef.isTop;\n            });\n            return fontRef;\n        };\n        this.fontManager = new FontManager(metaData);\n        this.fontCache = {};\n        this.fontRefCache = {};\n        if (!Font.DefaultFont) {\n            Font.DefaultFont = this;\n        }\n    }\n    Font.prototype.event = function () {\n        return;\n    };\n    Font.prototype.update = function (engineHelper) {\n        if (engineHelper.notificationQueue.peak(Renderer_1.RendererNotification.RESIZE_SCREEN.key)) {\n            Object.values(this.fontRefCache).forEach(this.expireRenderFont);\n            Object.values(this.fontRefCache).forEach(function (font) { return (font.isDirtyText = true); });\n            this.fontManager.refreshExpired();\n            Object.values(this.fontRefCache).forEach(this.writeRef);\n        }\n        this.fontManager.update(engineHelper);\n    };\n    Font.prototype.render = function (engineHelper) {\n        this.fontManager.render(engineHelper);\n    };\n    Font.prototype.init = function (engineHelper) {\n        this.fontManager.init(engineHelper);\n    };\n    Font.prototype.calcTotalTextWidth = function (fontRef) {\n        var text = fontRef.text;\n        var fontSize = fontRef.fontSize / Font.pixelDensity;\n        var carryWidth = 0;\n        for (var charIdx = 0; charIdx < text.length; charIdx++) {\n            var charCode = text.charCodeAt(charIdx);\n            var font = this.fontManager.getFont(charCode);\n            var height = fontSize;\n            var fontRatio = Math.abs(font.fontChar.height) < 10e-6\n                ? 0.0\n                : font.fontChar.width / font.fontChar.height;\n            var width = height * fontRatio;\n            carryWidth += width;\n        }\n        return carryWidth;\n    };\n    Font.prototype.calculateFontSize = function (width, length) {\n        var fontRatio = Math.abs(this.fontManager.avgHeight) < 10e-6\n            ? 0.0\n            : this.fontManager.avgWidth / this.fontManager.avgHeight;\n        var widthFactor = 3;\n        return ((width / fontRatio) * Font.pixelDensity) / length / widthFactor;\n    };\n    Font.prototype.createFonts = function (fontRef) {\n        var pos = fontRef.pos;\n        var time = fontRef.time;\n        var text = fontRef.text;\n        var fontSize = Font.fontHeight(fontRef.fontSize);\n        var totalWidth = this.calcTotalTextWidth(fontRef);\n        var maxHeight = 0;\n        var carryWidth = -totalWidth / 2.0;\n        var fonts = [];\n        for (var charIdx = 0; charIdx < text.length; charIdx++) {\n            var charCode = text.charCodeAt(charIdx);\n            var font = this.fontManager.getFont(charCode);\n            var fontChar = font.fontChar;\n            var height = fontSize;\n            maxHeight = Math.max(maxHeight, height);\n            var fontRatio = Math.abs(fontChar.height) < 10e-6\n                ? 0.0\n                : fontChar.width / fontChar.height;\n            var width = height * fontRatio;\n            carryWidth += width;\n            var fontPos = new Rect2d_1.default(pos.x + carryWidth - width / 2.0 - fontChar.xOffset / 2.0, pos.y + height / 2.0 - fontChar.yOffset / 2.0, width, height, -1 * pos.z);\n            var renderFont = this.fontManager.createRender(font, fontPos, time);\n            fonts.push(renderFont);\n        }\n        fontRef.displayRect.x = pos.x;\n        fontRef.displayRect.y = pos.y;\n        fontRef.displayRect.width = carryWidth;\n        fontRef.displayRect.height = maxHeight;\n        return fonts;\n    };\n    Font.fontHeight = function (fontSize) {\n        return fontSize / Font.pixelDensity;\n    };\n    Font.MAX_FONT = 1000;\n    Font.pixelDensity = 400.0;\n    return Font;\n}());\nexports.default = Font;\n//# sourceMappingURL=Font.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Polygon = exports.CollisionDetection = exports.Collision = void 0;\nvar Vector2d_1 = require(\"../Data/Vector2d\");\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Collision = /** @class */ (function () {\n    function Collision() {\n    }\n    return Collision;\n}());\nexports.Collision = Collision;\nvar CollisionDetection = /** @class */ (function () {\n    function CollisionDetection() {\n    }\n    CollisionDetection.rotate = function (x, y, rotate) {\n        var center = gl_matrix_1.vec2.fromValues(x, y);\n        gl_matrix_1.vec2.rotate(center, center, gl_matrix_1.vec2.fromValues(rotate.originX, rotate.originY), Math.PI * (2 - rotate.az / 180));\n        return { x: center[0], y: center[1] };\n    };\n    CollisionDetection.getLength = function (x1, y1, x2, y2) {\n        return Math.sqrt(Math.abs((x1 - x2) * (x1 - x2)) + Math.abs((y1 - y2) * (y1 - y2)));\n    };\n    CollisionDetection.isCollidingRect = function (x1, y1, width1, height1, x2, y2, width2, height2) {\n        return (CollisionDetection.getLength(x1, 0, x2, 0) <\n            width1 / 2.0 + width2 / 2.0 &&\n            CollisionDetection.getLength(y1, 0, y2, 0) < height1 / 2.0 + height2 / 2.0);\n    };\n    CollisionDetection.isRectInRect = function (rect1, rect2) {\n        return !(rect1.x + rect1.width / 2.0 < rect2.x - rect2.width / 2.0 ||\n            rect1.y + rect1.height / 2.0 < rect2.y - rect2.height / 2.0 ||\n            rect1.x - rect1.width / 2.0 > rect2.x + rect2.width / 2.0 ||\n            rect1.y - rect1.height / 2.0 > rect2.y + rect2.height / 2.0);\n    };\n    CollisionDetection.isPointInRect = function (rect, coord) {\n        return this.isCollidingRect(rect.x, rect.y, rect.width, rect.height, coord.x, coord.y, 0.01, 0.01);\n    };\n    CollisionDetection.isPointInPlane3d = function (camera, obj, x, y) {\n        var mvp = gl_matrix_1.mat4.multiply(gl_matrix_1.mat4.create(), camera.frustum, gl_matrix_1.mat4.multiply(gl_matrix_1.mat4.create(), camera.viewMatrix, obj.getModel()));\n        var r1 = this.toClipSpace(obj.vertexModel.renderUnits[0].vertex, mvp);\n        if (r1[2] > 1.0)\n            return false;\n        var r2 = this.toClipSpace(obj.vertexModel.renderUnits[1].vertex, mvp);\n        if (r2[2] > 1.0)\n            return false;\n        var r3 = this.toClipSpace(obj.vertexModel.renderUnits[2].vertex, mvp);\n        if (r3[2] > 1.0)\n            return false;\n        var r4 = this.toClipSpace(obj.vertexModel.renderUnits[3].vertex, mvp);\n        if (r4[2] > 1.0)\n            return false;\n        var rectPolygon = [\n            [r1[0], r1[1]],\n            [r2[0], r2[1]],\n            [r4[0], r4[1]],\n            [r3[0], r3[1]],\n        ];\n        return this.pointInPolygon([x, y], rectPolygon);\n    };\n    CollisionDetection.toClipSpace = function (pos, mvp) {\n        var vec4Trans = gl_matrix_1.vec4.transformMat4(gl_matrix_1.vec4.create(), gl_matrix_1.vec4.set(gl_matrix_1.vec4.create(), pos.x, pos.y, pos.z, 1.0), mvp);\n        var vec4Norm = gl_matrix_1.vec4.scale(gl_matrix_1.vec4.create(), vec4Trans, 1.0 / vec4Trans[3]);\n        return gl_matrix_1.vec4.set(gl_matrix_1.vec4.create(), (vec4Norm[0] + 1.0) / 2.0, (vec4Norm[1] + 1.0) / 2.0, vec4Norm[2], 1.0);\n    };\n    CollisionDetection.pointInPolygon = function (point, polygon) {\n        var x = point[0];\n        var y = point[1];\n        var inside = false;\n        for (var i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n            var xi = polygon[i][0];\n            var yi = polygon[i][1];\n            var xj = polygon[j][0];\n            var yj = polygon[j][1];\n            var intersect = yi > y != yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\n            if (intersect) {\n                inside = !inside;\n            }\n        }\n        return inside;\n    };\n    return CollisionDetection;\n}());\nexports.CollisionDetection = CollisionDetection;\nvar Polygon = /** @class */ (function () {\n    function Polygon() {\n        this.max = 0;\n        this.min = 0;\n    }\n    Polygon.prototype.subtractCenter = function (p) {\n        return this.center.subtract(p.center);\n    };\n    Polygon.prototype.offset = function (v) {\n        this.points.forEach(function (point) { return point.add(v); });\n    };\n    Polygon.prototype.area = function (v1, v2) {\n        return v1.x * v2.y - v2.x * v1.y;\n    };\n    Polygon.prototype.calculateCentre = function () {\n        var centroid = Vector2d_1.default.newVector(0, 0);\n        var totalSignedArea = 0.0;\n        var vertexCount = this.points.length;\n        for (var i = 0; i < vertexCount; ++i) {\n            var vertex = this.points[i];\n            var nextVertex = void 0;\n            if (i == vertexCount - 1) {\n                nextVertex = this.points[0];\n            }\n            else {\n                nextVertex = this.points[i + 1];\n            }\n            var area = this.area(vertex, nextVertex);\n            totalSignedArea += area;\n            centroid.x += (vertex.x + nextVertex.x) * area;\n            centroid.y += (vertex.y + nextVertex.y) * area;\n        }\n        centroid.x /= 3.0 * totalSignedArea;\n        centroid.y /= 3.0 * totalSignedArea;\n        return centroid;\n    };\n    Polygon.prototype.polygonProjection = function (axis, polygon) {\n        var dotProduct = axis.dot(polygon.points[0]);\n        polygon.min = dotProduct;\n        polygon.max = dotProduct;\n        for (var i = 0; i < polygon.points.length; i++) {\n            var point = polygon.points[i];\n            dotProduct = point.dot(axis);\n            if (dotProduct < polygon.min) {\n                polygon.min = dotProduct;\n            }\n            else if (dotProduct > polygon.max) {\n                polygon.max = dotProduct;\n            }\n        }\n    };\n    Polygon.prototype.boundaryDistance = function (minA, maxA, minB, maxB) {\n        if (minA < minB) {\n            return minB - maxA;\n        }\n        else {\n            return minA - maxB;\n        }\n    };\n    Polygon.prototype.isCollision = function (polygonB, velocity) {\n        var result = new Collision();\n        result.isIntersect = true;\n        result.willIntersect = true;\n        var edgeCountA = this.edges.length;\n        var edgeCountB = polygonB.edges.length;\n        var minIntervalDistance = Infinity;\n        var translationAxis = new Vector2d_1.default();\n        var edge;\n        for (var edgeIndex = 0; edgeIndex < edgeCountA + edgeCountB; edgeIndex++) {\n            if (edgeIndex < edgeCountA) {\n                edge = this.edges[edgeIndex];\n            }\n            else {\n                edge = polygonB.edges[edgeIndex - edgeCountA];\n            }\n            var axis = Vector2d_1.default.newVector(-edge.y, edge.x).normalise();\n            this.polygonProjection(axis, this);\n            this.polygonProjection(axis, polygonB);\n            if (this.boundaryDistance(this.min, this.max, polygonB.min, polygonB.max) >\n                0) {\n                result.isIntersect = false;\n            }\n            if (velocity) {\n                var velocityProjection = axis.dot(velocity);\n                if (velocityProjection < 0) {\n                    this.min += velocityProjection;\n                }\n                else {\n                    this.max += velocityProjection;\n                }\n            }\n            var intervalDistance = this.boundaryDistance(this.min, this.max, polygonB.min, polygonB.max);\n            if (intervalDistance > 0) {\n                result.willIntersect = false;\n            }\n            if (!result.isIntersect && !result.willIntersect) {\n                break;\n            }\n            intervalDistance = Math.abs(intervalDistance);\n            if (intervalDistance < minIntervalDistance) {\n                minIntervalDistance = intervalDistance;\n                translationAxis = axis;\n                var distance = this.subtractCenter(polygonB);\n                if (distance.dot(translationAxis) < 0) {\n                    translationAxis = translationAxis.negate();\n                }\n            }\n        }\n        if (result.willIntersect) {\n            result.minDeintersectDistance = translationAxis.scale(minIntervalDistance);\n        }\n        return result;\n    };\n    return Polygon;\n}());\nexports.Polygon = Polygon;\n//# sourceMappingURL=CollisionDetection.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Coordinate_1 = require(\"../Data/Coordinate\");\nvar EngineMath = /** @class */ (function () {\n    function EngineMath() {\n    }\n    EngineMath.boundRect = function (bound, pos) {\n        var boundedX = Math.max(bound.x + pos.width / 2.0, Math.min(bound.x + bound.width - pos.width / 2.0, pos.x));\n        var boundedY = Math.max(bound.y + pos.height / 2.0, Math.min(bound.y + bound.height - pos.height / 2.0, pos.y));\n        return new Coordinate_1.default(boundedX, boundedY, pos.z);\n    };\n    EngineMath.getLength = function (x1, y1, x2, y2) {\n        return Math.sqrt(Math.abs((x1 - x2) * (x1 - x2)) + Math.abs((y1 - y2) * (y1 - y2)));\n    };\n    return EngineMath;\n}());\nexports.default = EngineMath;\n//# sourceMappingURL=EngineMath.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PhysicsData = exports.ParabolicSimulation = void 0;\nvar Timer_1 = require(\"../Common/Timer\");\nvar CollisionDetection_1 = require(\"./CollisionDetection\");\nvar Physics = /** @class */ (function () {\n    function Physics() {\n    }\n    Physics.registerPhysics = function (entity, physics) {\n        if (physics === void 0) { physics = undefined; }\n        if (!entity.$physicsId) {\n            entity.$physicsId = Physics.physicsEntityIdCount++;\n            this.physicsEntities[entity.$physicsId] = {\n                entity: entity,\n                enabled: true,\n                physics: physics,\n            };\n        }\n    };\n    Physics.deregisterPhysics = function (entity) {\n        if (entity.$physicsId !== undefined &&\n            this.physicsEntities[entity.$physicsId]) {\n            delete this.physicsEntities[entity.$physicsId];\n        }\n    };\n    Physics.setEnabledPhysics = function (entity, enabled) {\n        if (this.physicsEntities[entity.$physicsId]) {\n            this.physicsEntities[entity.$physicsId].enabled = enabled;\n        }\n    };\n    Physics.isCollidingOffset2d = function (entity, dx, dy) {\n        var px = entity.position.x + dx;\n        var py = entity.position.y + dy;\n        return Physics.isCollidingPos2d(entity, px, py);\n    };\n    Physics.isCollidingPoint2d = function (entity) {\n        var px = entity.position.x;\n        var py = entity.position.y;\n        return Physics.isCollidingPos2d(entity, px, py);\n    };\n    Physics.isCollidingResolve = function (entity, dx, dy) {\n        var _a;\n        var collision = [];\n        var _dx = [];\n        var _dy = [];\n        for (var key in this.physicsEntities) {\n            if (this.physicsEntities.hasOwnProperty(key)) {\n                var physicsEntity = this.physicsEntities[key];\n                var node = physicsEntity.entity;\n                if (physicsEntity.enabled && node.$physicsId !== entity.$physicsId) {\n                    var _b = ((_a = physicsEntity.physics) === null || _a === void 0 ? void 0 : _a.collisionSize) || node.position, x = _b.x, y = _b.y, width = _b.width, height = _b.height;\n                    var colliding = CollisionDetection_1.CollisionDetection.isCollidingRect(x, y, width, height, entity.position.x + dx, entity.position.y + dy, entity.position.width, entity.position.height);\n                    if (colliding) {\n                        collision.push(physicsEntity.entity);\n                        var collidingX = CollisionDetection_1.CollisionDetection.isCollidingRect(x, y, width, height, entity.position.x + dx, entity.position.y, entity.position.width, entity.position.height);\n                        var collidingY = CollisionDetection_1.CollisionDetection.isCollidingRect(x, y, width, height, entity.position.x, entity.position.y + dy, entity.position.width, entity.position.height);\n                        if (collidingX && collidingY) {\n                            _dx.push(-Physics.dxBoundary(entity, x, width));\n                            _dy.push(-Physics.dyBoundary(entity, y, height));\n                        }\n                        else if (collidingX) {\n                            _dx.push(Physics.dxBoundary(entity, x, width));\n                        }\n                        else if (collidingY) {\n                            _dy.push(Physics.dyBoundary(entity, y, height));\n                        }\n                    }\n                }\n            }\n        }\n        if (_dx.length > 0) {\n            dx = Math.min.apply(Math, _dx);\n        }\n        if (_dy.length > 0) {\n            dy = Math.min.apply(Math, _dy);\n        }\n        if (Math.abs(dx) < 10e-6) {\n            dx = 0;\n        }\n        if (Math.abs(dy) < 10e-6) {\n            dy = 0;\n        }\n        return [dx, dy, collision];\n    };\n    Physics.dyBoundary = function (entity, y, height) {\n        var _dy = Math.abs(CollisionDetection_1.CollisionDetection.getLength(entity.position.y, 0, y, 0) -\n            entity.position.height / 2 -\n            height / 2);\n        _dy *= Math.sign(y - entity.position.y) * 0.9999999;\n        return _dy;\n    };\n    Physics.dxBoundary = function (entity, x, width) {\n        var _dx = Math.abs(CollisionDetection_1.CollisionDetection.getLength(entity.position.x, 0, x, 0) -\n            entity.position.width / 2 -\n            width / 2);\n        _dx *= Math.sign(x - entity.position.x) * 0.9999999;\n        return _dx;\n    };\n    Physics.isCollidingPos2d = function (entity, px, py) {\n        var collision = [];\n        for (var key in this.physicsEntities) {\n            if (this.physicsEntities.hasOwnProperty(key)) {\n                var physicsEntity = this.physicsEntities[key];\n                var pEntityRoot = physicsEntity.entity;\n                if (physicsEntity.enabled &&\n                    pEntityRoot.$physicsId !== entity.$physicsId) {\n                    var colliding = CollisionDetection_1.CollisionDetection.isCollidingRect(pEntityRoot.position.x, pEntityRoot.position.y, pEntityRoot.position.width, pEntityRoot.position.height, px, py, entity.position.width, entity.position.height);\n                    if (colliding) {\n                        collision.push(physicsEntity.entity);\n                    }\n                }\n            }\n        }\n        return collision;\n    };\n    Physics.generateSimulationId = function () {\n        var simulationId = this.simulationIdCurrent;\n        this.simulationIdCurrent += 1;\n        return simulationId;\n    };\n    Physics.pauseSimulation = function (simulationId) {\n        var data = this.simulations[simulationId];\n        if (!data) {\n            return;\n        }\n        data.pause = true;\n    };\n    Physics.resumeSimulation = function (simulationId) {\n        var data = this.simulations[simulationId];\n        if (!data) {\n            return;\n        }\n        data.pause = false;\n    };\n    Physics.cancelSimulation = function (simulationId, force) {\n        if (force === void 0) { force = false; }\n        var data = this.simulations[simulationId];\n        if (!data) {\n            return;\n        }\n        data.cancelled = true;\n        data.totalIterations = 0;\n        if (!force && data.completeSimulation) {\n            data.completeSimulation();\n        }\n    };\n    Physics.physicsLoop = function () {\n        var simulationCount = 0;\n        for (var simulationId in this.simulations) {\n            if (this.simulations.hasOwnProperty(simulationId)) {\n                var data = this.simulations[simulationId];\n                if (!data)\n                    continue;\n                if (data.cancelled) {\n                    continue;\n                }\n                if (data) {\n                    if (data.pause) {\n                        data.timer.start();\n                        continue;\n                    }\n                    var time = data.timer.peak();\n                    if (data.totalIterations === 0 || data.runTime < data.totalRunTime) {\n                        data.simulation(+simulationId, time, data.totalRunTime, data.totalIterations);\n                        data.runTime += time;\n                        data.timer.start();\n                        data.totalIterations += 1;\n                        simulationCount++;\n                    }\n                    else {\n                        this.cancelSimulation(simulationId);\n                    }\n                }\n            }\n        }\n    };\n    Physics.runSimulation = function (totalRunTime, simulation, completeSimulation, existingSimulationId) {\n        var simulationId = existingSimulationId || this.generateSimulationId();\n        var data = this.simulations[simulationId];\n        if (!data) {\n            this.simulations[simulationId] = {\n                pause: false,\n                timer: new Timer_1.default().start(),\n                simulation: simulation,\n                totalRunTime: totalRunTime,\n                completeSimulation: completeSimulation,\n                totalIterations: 0,\n                runTime: 0.0,\n                cancelled: false,\n            };\n        }\n        else {\n            if (data.cancelled) {\n                data.pause = false;\n                data.timer.start();\n                data.simulation = simulation;\n                data.totalRunTime = totalRunTime;\n                data.completeSimulation = completeSimulation;\n                data.cancelled = false;\n            }\n            data.totalIterations = 0;\n            data.runTime = 0;\n        }\n        if (this.simulationLoop === undefined) {\n            this.simulationLoop = setInterval(this.physicsLoop.bind(this), this.TIME_STEP_MILLIS);\n        }\n        return simulationId;\n    };\n    Physics.parabolicSimulation = function (parabolic, simulation, completeSimulation) {\n        var _this = this;\n        return this.runSimulation(parabolic.totalRunTime, function (simulationId, timeStep) {\n            var data = _this.simulations[simulationId];\n            if (data) {\n                var runTime = data.runTime;\n                var height = parabolic.height;\n                var width = parabolic.width;\n                var totalRunTime = parabolic.totalRunTime;\n                var a = ((1.0 / 3.0 + 1.0) * height) / width / width;\n                var b = a * width;\n                var vy = height / 2.0 / (totalRunTime / 2.0);\n                var x = (Math.sqrt(4 * a * vy * runTime + b * b) - b) / (2 * a);\n                var vx = -width / totalRunTime;\n                var y = -(a * vx * runTime * vx * runTime + b * vx * runTime);\n                var dx = x - parabolic.px;\n                var dy = y - parabolic.py;\n                parabolic.px = x;\n                parabolic.py = y;\n                simulation(simulationId, timeStep, dx, dy);\n            }\n        }, completeSimulation);\n    };\n    Physics.TIME_STEP_MILLIS = 10;\n    Physics.simulations = {};\n    Physics.simulationIdCurrent = 1;\n    Physics.physicsEntities = {};\n    Physics.physicsEntityIdCount = 1;\n    return Physics;\n}());\nexports.default = Physics;\nvar ParabolicSimulation = /** @class */ (function () {\n    function ParabolicSimulation() {\n    }\n    return ParabolicSimulation;\n}());\nexports.ParabolicSimulation = ParabolicSimulation;\nvar PhysicsData = /** @class */ (function () {\n    function PhysicsData() {\n    }\n    return PhysicsData;\n}());\nexports.PhysicsData = PhysicsData;\n//# sourceMappingURL=Physics.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RendererNotification = exports.RendererSubscription = void 0;\nvar RenderOption_1 = require(\"./Data/RenderOption\");\nvar Entity3DProgram_1 = require(\"./WebGL/EntityProgram/Entity3DProgram\");\nvar EntityColorProgram_1 = require(\"./WebGL/EntityProgram/EntityColorProgram\");\nvar WebGLContext_1 = require(\"./WebGL/Base/WebGLContext\");\nvar Texture_1 = require(\"./Buffer/Texture\");\nvar NotificationQueue_1 = require(\"./Common/NotificationQueue\");\nvar SubscriberPool_1 = require(\"./Common/SubscriberPool\");\nvar RendererSubscription = /** @class */ (function () {\n    function RendererSubscription() {\n    }\n    RendererSubscription.CREATE_TEXTURE = new SubscriberPool_1.Subscription(\"Renderer#CreateTexture\");\n    RendererSubscription.REGISTER_ENTITY = new SubscriberPool_1.Subscription(\"Renderer#RegisterEntity\");\n    RendererSubscription.createTexturePayload = function (object, resourcesLoading) { return [object, resourcesLoading]; };\n    RendererSubscription.registerEntityPayload = function (entity, buffer) { return [\n        entity,\n        buffer,\n    ]; };\n    return RendererSubscription;\n}());\nexports.RendererSubscription = RendererSubscription;\nvar RendererNotification = /** @class */ (function () {\n    function RendererNotification() {\n    }\n    RendererNotification.NOTIFICATION_PRE_RENDER_KEY = \"Renderer#Prerender\";\n    RendererNotification.NOTIFICATION_RENDER_KEY = \"Renderer#Render\";\n    RendererNotification.NOTIFICATION_INIT_KEY = \"Renderer#Init\";\n    RendererNotification.UPDATE_PROJECTION_MATRIX = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"UPDATE_PROJECTION_MATRIX\");\n    RendererNotification.RESIZE_SCREEN = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"RESIZE_SCREEN\");\n    RendererNotification.CREATE_TEXTURE = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_INIT_KEY, \"CREATE_TEXTURE\");\n    RendererNotification.REGISTER_ENTITY = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_INIT_KEY, \"REGISTER_ENTITY\");\n    RendererNotification.registerEntity = function (entity, modelData) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.REGISTER_ENTITY, [\n            entity,\n            modelData,\n        ]);\n    };\n    RendererNotification.UPDATE_BUFFER = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"UPDATE_BUFFER\");\n    RendererNotification.updateBuffer = function (entity, buffer) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.UPDATE_BUFFER, [\n            entity,\n            buffer,\n        ]);\n    };\n    RendererNotification.createTexture = function (object, resourcesLoading) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.CREATE_TEXTURE, [\n            object,\n            resourcesLoading,\n        ]);\n    };\n    RendererNotification.SET_LIGHTING = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, \"SET_LIGHTING\");\n    RendererNotification.setLighting = function (light) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.SET_LIGHTING, [light]);\n    };\n    RendererNotification.RENDER_ENTITY = new NotificationQueue_1.Notification(RendererNotification.NOTIFICATION_RENDER_KEY, \"RENDER_ENTITY\");\n    RendererNotification.renderEntity = function (entity, model) {\n        return NotificationQueue_1.NotificationPayload.from(RendererNotification.RENDER_ENTITY, [\n            entity,\n            model,\n        ]);\n    };\n    return RendererNotification;\n}());\nexports.RendererNotification = RendererNotification;\nvar Renderer = /** @class */ (function () {\n    function Renderer(args, webGLContainer, camera, notificationQueue, subscriberPool) {\n        var _this = this;\n        this.textureReg = {};\n        this._renderEntities = {};\n        this.cachedModelData = {};\n        this.resizeViewPort = function () {\n            _this.glContext.resizeViewPort(_this.webGLContainer.canvas);\n        };\n        this.updatePerspective = function () {\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.updatePerspective(_this.camera.camera3d.frustum);\n            }\n            if (_this.shaderColourProgram) {\n                _this.shaderColourProgram.updatePerspective(_this.camera.camera3d.frustum);\n            }\n        };\n        this.delete = function () {\n            Object.values(_this.textureReg).forEach(function (texReg) {\n                var texture = texReg.texture;\n                if (texture.texture) {\n                    _this.glContext.deleteTexture(texture.texture);\n                }\n                texture.texture = undefined;\n                texture.texUnit = undefined;\n            });\n            Texture_1.default.textureCount = 0;\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.delete();\n            }\n            if (_this.shaderColourProgram) {\n                _this.shaderColourProgram.delete();\n            }\n            _this.glContext.destroyWebGL();\n        };\n        this.setLighting = function (light) {\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.setLight(light, _this.camera.camera3d);\n            }\n            else {\n                throw new Error(\"Lighting is set without any 3D entities\");\n            }\n        };\n        this.updateBuffer = function (entity, buffer) {\n            var opt = entity.getOpt();\n            var program = _this._getProgramOpt(opt);\n            program.updateBuffer(entity, buffer);\n        };\n        this._getProgram3D = function (opt) {\n            var program;\n            if (_this._isPlain(opt)) {\n                throw new Error(\"Plain no longer supported\");\n            }\n            else {\n                program = _this.shader3DProgram;\n            }\n            return program;\n        };\n        this._getProgramOpt = function (opt) {\n            var program;\n            if (RenderOption_1.ShaderType.COLOUR === opt.shaderType) {\n                program = _this.shaderColourProgram;\n            }\n            else if (RenderOption_1.ShaderType.THREE_DIMENSION === opt.shaderType ||\n                RenderOption_1.ShaderType.TWO_DIMENSION === opt.shaderType) {\n                program = _this._getProgram3D(opt);\n            }\n            else {\n                throw new Error(\"unsupported opt shader type\");\n            }\n            return program;\n        };\n        this._defRender = function () {\n            _this._defRenderTop(false);\n            _this._defRenderTop(true);\n        };\n        this._render = function (entity, model) {\n            if (entity.hidden) {\n                return;\n            }\n            var opt = entity.getOpt();\n            var payload = [entity, model];\n            if (RenderOption_1.ShaderType.COLOUR === opt.shaderType) {\n                _this._renderEntities[RenderOption_1.ShaderType.COLOUR].push(payload);\n            }\n            else if (RenderOption_1.ShaderType.THREE_DIMENSION === opt.shaderType) {\n                _this._renderEntities[RenderOption_1.ShaderType.THREE_DIMENSION].push(payload);\n            }\n            else if (RenderOption_1.ShaderType.TWO_DIMENSION === opt.shaderType) {\n                _this._renderEntities[RenderOption_1.ShaderType.TWO_DIMENSION].push(payload);\n            }\n        };\n        this.bindBuffer = function () {\n            if (_this.shader3DProgram) {\n                _this.shader3DProgram.bindBuffer();\n            }\n            if (_this.shaderColourProgram) {\n                _this.shaderColourProgram.bindBuffer();\n            }\n        };\n        this._resetDefferred = function () {\n            var _a;\n            _this._renderEntities = (_a = {},\n                _a[RenderOption_1.ShaderType.COLOUR] = [],\n                _a[RenderOption_1.ShaderType.THREE_DIMENSION] = [],\n                _a[RenderOption_1.ShaderType.TWO_DIMENSION] = [],\n                _a);\n        };\n        this.handleNotification = function (notification) {\n            var updatePerspective = false;\n            switch (notification.action) {\n                case RendererNotification.RENDER_ENTITY.action:\n                    _this._render(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.UPDATE_PROJECTION_MATRIX.action:\n                    updatePerspective = true;\n                    break;\n                case RendererNotification.RESIZE_SCREEN.action:\n                    _this.resizeViewPort();\n                    updatePerspective = true;\n                    break;\n                case RendererNotification.CREATE_TEXTURE.action:\n                    _this.createTexture(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.UPDATE_BUFFER.action:\n                    _this.updateBuffer(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.REGISTER_ENTITY.action:\n                    _this.registerEntity(notification.data[0], notification.data[1]);\n                    break;\n                case RendererNotification.SET_LIGHTING.action:\n                    _this.setLighting(notification.data[0]);\n                    break;\n                default:\n                    console.error(\"unhandled notification: \", notification);\n                    break;\n            }\n            if (updatePerspective) {\n                _this.updatePerspective();\n            }\n        };\n        if (!args.world) {\n            throw new Error(\"world not defined\");\n        }\n        this.notificationQueue = notificationQueue;\n        this.subscriberPool = subscriberPool;\n        this.camera = camera;\n        this.world = args.world;\n        this.webGLContainer = webGLContainer;\n        this.ctx = this.webGLContainer.getCtx();\n        this.glContext = new WebGLContext_1.default(this.ctx);\n        this.glContext.setupDefault();\n        this.subscriberPool.listen(RendererSubscription.CREATE_TEXTURE, function (data) {\n            var object = data[0], resourcesLoading = data[1];\n            _this.createTexture(object, resourcesLoading);\n        });\n        this.subscriberPool.listen(RendererSubscription.REGISTER_ENTITY, function (data) {\n            var entity = data[0], buffer = data[1];\n            _this.registerEntity(entity, buffer);\n        });\n    }\n    Renderer.prototype._isPlain = function (opt) {\n        return opt.renderType === RenderOption_1.RenderType.PLAIN;\n    };\n    Renderer.prototype._defRenderTop = function (isTop) {\n        // render colour\n        var colourModel = this._renderEntities[RenderOption_1.ShaderType.COLOUR].filter(function (e) { return !!e[0].isTop === isTop; });\n        if (colourModel.length > 0) {\n            this.shaderColourProgram.render(colourModel, this.camera.camera3d);\n        }\n        var model3d = this._renderEntities[RenderOption_1.ShaderType.THREE_DIMENSION].filter(function (e) { return !!e[0].isTop === isTop; });\n        if (model3d.length > 0) {\n            this.shader3DProgram.render3DShadowMap(model3d, this.resizeViewPort);\n            this.shader3DProgram.render(model3d, this.camera.camera3d, this.textureReg, false);\n        }\n        var model2d = this._renderEntities[RenderOption_1.ShaderType.TWO_DIMENSION].filter(function (e) { return !!e[0].isTop === isTop; });\n        if (model2d.length > 0) {\n            this.shader3DProgram.render(model2d, this.camera.camera3d, this.textureReg, true);\n        }\n    };\n    Renderer.prototype.init = function () {\n        this.readMessages(RendererNotification.NOTIFICATION_INIT_KEY);\n    };\n    Renderer.prototype.readMessages = function (key, isUniqueAction) {\n        if (isUniqueAction === void 0) { isUniqueAction = false; }\n        var message;\n        var unique = {};\n        while ((message = this.notificationQueue.take(key))) {\n            if (!isUniqueAction || unique[message.action] === undefined) {\n                this.handleNotification(message);\n                if (isUniqueAction) {\n                    unique[message.action] = true;\n                }\n            }\n        }\n    };\n    Renderer.prototype._lazyLoadProgram = function (opt) {\n        if (RenderOption_1.ShaderType.COLOUR === opt.shaderType) {\n            if (!this.shaderColourProgram) {\n                this.shaderColourProgram = new EntityColorProgram_1.default(this.ctx);\n            }\n        }\n        else if (RenderOption_1.ShaderType.THREE_DIMENSION === opt.shaderType ||\n            RenderOption_1.ShaderType.TWO_DIMENSION === opt.shaderType) {\n            if (!this.shader3DProgram) {\n                this.shader3DProgram = new Entity3DProgram_1.default(this.ctx);\n            }\n        }\n        else {\n            console.error(this, opt);\n            throw new Error(\"unsupported opt shader type\");\n        }\n        this.updatePerspective();\n    };\n    Renderer.prototype.registerEntity = function (object, modelData) {\n        var opt = object.getOpt();\n        this._lazyLoadProgram(opt);\n        var program = this._getProgramOpt(opt);\n        if (!this.cachedModelData[modelData.$id]) {\n            program.registerEntity(object, modelData.vertices);\n            this.cachedModelData[modelData.$id] = object.rendererBufferId;\n        }\n        else {\n            object.rendererBufferId = this.cachedModelData[modelData.$id];\n        }\n    };\n    Renderer.prototype.render = function (time, engineHelper) {\n        this.glContext.clear();\n        this.readMessages(RendererNotification.NOTIFICATION_PRE_RENDER_KEY, true);\n        this.camera.commitProjectionView();\n        engineHelper.setTime(time);\n        // reinitialse next cycle\n        this._resetDefferred();\n        this.world.render();\n        engineHelper.renderFont();\n        this.readMessages(RendererNotification.NOTIFICATION_RENDER_KEY);\n        this._defRender();\n    };\n    Renderer.prototype.createTexture = function (object, resourcesLoading) {\n        var src = object.getTextureSource();\n        if (src === undefined) {\n            console.error(\"src is undefined when trying to create texture\", object);\n            throw new Error(\"src is undefined when trying to create texture\");\n        }\n        object.rendererTextureRef = src;\n        var textureReg = this.textureReg[src];\n        if (!textureReg) {\n            var texture = new Texture_1.default(src, this.ctx);\n            this.textureReg[src] = {\n                texture: texture,\n            };\n            resourcesLoading.push(texture.load);\n        }\n        else if (textureReg.texture && textureReg.texture.error) {\n            console.error(\"there was an error while trying to load texture\", textureReg);\n            throw new Error(\"there was an error while trying to load texture\");\n        }\n    };\n    return Renderer;\n}());\nexports.default = Renderer;\n//# sourceMappingURL=Renderer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Updater = /** @class */ (function () {\n    function Updater(args) {\n        if (!args.world) {\n            throw new Error(\"world not defined\");\n        }\n        this.world = args.world;\n    }\n    Updater.prototype.update = function (time, engineHelper) {\n        engineHelper.setTime(time);\n        this.world.update();\n        engineHelper.updateFont();\n    };\n    return Updater;\n}());\nexports.default = Updater;\n//# sourceMappingURL=Updater.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseProgram = /** @class */ (function () {\n    function BaseProgram(ctx) {\n        this.ctx = ctx;\n    }\n    BaseProgram.prototype.compileShaders = function (vertexShaderContent, fragmentShaderContent) {\n        var ctx = this.ctx;\n        var vertexShader = ctx.createShader(ctx.VERTEX_SHADER);\n        var fragmentShader = ctx.createShader(ctx.FRAGMENT_SHADER);\n        if (!vertexShader || !fragmentShader) {\n            throw new Error(\"Unable to create vertex or fragment shader\");\n        }\n        var fragmentChar = fragmentShaderContent;\n        var vertexChar = vertexShaderContent;\n        ctx.shaderSource(vertexShader, vertexChar);\n        ctx.compileShader(vertexShader);\n        ctx.shaderSource(fragmentShader, fragmentChar);\n        ctx.compileShader(fragmentShader);\n        if (!ctx.getShaderParameter(vertexShader, ctx.COMPILE_STATUS)) {\n            throw new Error(\"could not compile vertex shader:\" + ctx.getShaderInfoLog(vertexShader));\n        }\n        if (!ctx.getShaderParameter(fragmentShader, ctx.COMPILE_STATUS)) {\n            throw new Error(\"could not compile fragment shader:\" +\n                ctx.getShaderInfoLog(fragmentShader));\n        }\n        var program = ctx.createProgram();\n        ctx.attachShader(program, vertexShader);\n        ctx.attachShader(program, fragmentShader);\n        ctx.linkProgram(program);\n        ctx.validateProgram(program);\n        if (!ctx.getProgramParameter(program, ctx.LINK_STATUS)) {\n            throw new Error(\"Link failed: \" + ctx.getProgramInfoLog(program));\n        }\n        return program;\n    };\n    BaseProgram.prototype.delete = function () {\n        this.ctx.deleteProgram(this.program);\n    };\n    BaseProgram.prototype._bindProgram = function (program) {\n        this.ctx.useProgram(program);\n    };\n    BaseProgram.prototype._unbindProgram = function () { };\n    return BaseProgram;\n}());\nexports.default = BaseProgram;\n//# sourceMappingURL=BaseProgram.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProgramReference = /** @class */ (function () {\n    function ProgramReference(key, ctx, isAttribute, program) {\n        if (isAttribute) {\n            this.ref = ctx.getAttribLocation(program, key);\n            if (this.ref === -1) {\n                throw new Error(\"Unable to find attribute shader key = \" + key);\n            }\n        }\n        else {\n            this.ref = ctx.getUniformLocation(program, key);\n            if (this.ref === null) {\n                throw new Error(\"Unable to find uniform shader key = \" + key);\n            }\n        }\n    }\n    return ProgramReference;\n}());\nexports.default = ProgramReference;\n//# sourceMappingURL=ProgramReference.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Colour_1 = require(\"../../Data/Colour\");\nvar WebGLContext = /** @class */ (function () {\n    function WebGLContext(ctx) {\n        this.clearColour = new Colour_1.default(1.0, 1.0, 1.0, 1.0);\n        this.ctx = ctx;\n    }\n    WebGLContext.prototype.setClearColor = function (colour) {\n        this.clearColour = colour;\n        this.ctx.clearColor(colour.r, colour.g, colour.b, colour.a);\n    };\n    WebGLContext.prototype.setupDefault = function () {\n        this.setClearColor(this.clearColour);\n        this.ctx.enable(this.ctx.BLEND);\n        this.ctx.blendFunc(this.ctx.SRC_ALPHA, this.ctx.ONE_MINUS_SRC_ALPHA);\n        this.ctx.enable(this.ctx.CULL_FACE);\n        this.ctx.frontFace(this.ctx.CCW);\n        this.ctx.cullFace(this.ctx.BACK);\n        this.ctx.clearDepth(1);\n        this.ctx.enable(this.ctx.DEPTH_TEST);\n        this.ctx.depthFunc(this.ctx.LEQUAL);\n    };\n    WebGLContext.prototype.clear = function () {\n        this.ctx.clear(this.ctx.COLOR_BUFFER_BIT | this.ctx.DEPTH_BUFFER_BIT);\n    };\n    WebGLContext.prototype.deleteTexture = function (texture) {\n        this.ctx.deleteTexture(texture);\n    };\n    WebGLContext.prototype.resizeViewPort = function (canvas) {\n        this.ctx.viewport(0, 0, canvas.width, canvas.height);\n    };\n    WebGLContext.prototype.getWebGL2RenderingContext = function () {\n        return this.ctx;\n    };\n    WebGLContext.prototype.destroyWebGL = function () {\n        var ctx = this.ctx;\n        var ctx2 = this.getWebGL2RenderingContext();\n        var isWebGL2RenderingContext = !!ctx2.createTransformFeedback;\n        if (isWebGL2RenderingContext) {\n            ctx2.bindVertexArray(null);\n        }\n        var numAttribs = ctx.getParameter(ctx.MAX_VERTEX_ATTRIBS);\n        var tmp = ctx.createBuffer();\n        ctx.bindBuffer(ctx.ARRAY_BUFFER, tmp);\n        for (var ii = 0; ii < numAttribs; ++ii) {\n            ctx.disableVertexAttribArray(ii);\n            ctx.vertexAttribPointer(ii, 4, ctx.FLOAT, false, 0, 0);\n            ctx.vertexAttrib1f(ii, 0);\n            if (isWebGL2RenderingContext) {\n                ctx2.vertexAttribDivisor(ii, 0);\n            }\n        }\n        ctx.deleteBuffer(tmp);\n        var numTextureUnits = ctx.getParameter(ctx.MAX_TEXTURE_IMAGE_UNITS);\n        for (var ii = 0; ii < numTextureUnits; ++ii) {\n            ctx.activeTexture(ctx.TEXTURE0 + ii);\n            ctx.bindTexture(ctx.TEXTURE_CUBE_MAP, null);\n            ctx.bindTexture(ctx.TEXTURE_2D, null);\n            if (isWebGL2RenderingContext) {\n                ctx2.bindTexture(ctx2.TEXTURE_2D_ARRAY, null);\n                ctx2.bindTexture(ctx2.TEXTURE_3D, null);\n                ctx2.bindSampler(ii, null);\n            }\n        }\n        ctx.activeTexture(ctx.TEXTURE0);\n        ctx.useProgram(null);\n        ctx.bindBuffer(ctx.ARRAY_BUFFER, null);\n        ctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, null);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        ctx.disable(ctx.BLEND);\n        ctx.disable(ctx.CULL_FACE);\n        ctx.disable(ctx.DEPTH_TEST);\n        ctx.disable(ctx.DITHER);\n        ctx.disable(ctx.SCISSOR_TEST);\n        ctx.blendColor(0, 0, 0, 0);\n        ctx.blendEquation(ctx.FUNC_ADD);\n        ctx.blendFunc(ctx.ONE, ctx.ZERO);\n        ctx.clearColor(0, 0, 0, 0);\n        ctx.clearDepth(1);\n        ctx.clearStencil(-1);\n        ctx.colorMask(true, true, true, true);\n        ctx.cullFace(ctx.BACK);\n        ctx.depthFunc(ctx.LESS);\n        ctx.depthMask(true);\n        ctx.depthRange(0, 1);\n        ctx.frontFace(ctx.CCW);\n        ctx.hint(ctx.GENERATE_MIPMAP_HINT, ctx.DONT_CARE);\n        ctx.lineWidth(1);\n        ctx.pixelStorei(ctx.PACK_ALIGNMENT, 4);\n        ctx.pixelStorei(ctx.UNPACK_ALIGNMENT, 4);\n        ctx.pixelStorei(ctx.UNPACK_FLIP_Y_WEBGL, 0);\n        ctx.pixelStorei(ctx.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 0);\n        if (ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL) {\n            ctx.pixelStorei(ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL, ctx.BROWSER_DEFAULT_WEBGL);\n        }\n        ctx.polygonOffset(0, 0);\n        ctx.sampleCoverage(1, false);\n        ctx.scissor(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.stencilFunc(ctx.ALWAYS, 0, 0xffffffff);\n        ctx.stencilMask(0xffffffff);\n        ctx.stencilOp(ctx.KEEP, ctx.KEEP, ctx.KEEP);\n        ctx.viewport(0, 0, ctx.canvas.width, ctx.canvas.height);\n        ctx.clear(ctx.COLOR_BUFFER_BIT | ctx.DEPTH_BUFFER_BIT | ctx.STENCIL_BUFFER_BIT);\n        if (isWebGL2RenderingContext) {\n            ctx2.drawBuffers([ctx2.BACK]);\n            ctx2.readBuffer(ctx2.BACK);\n            ctx2.bindBuffer(ctx2.COPY_READ_BUFFER, null);\n            ctx2.bindBuffer(ctx2.COPY_WRITE_BUFFER, null);\n            ctx2.bindBuffer(ctx2.PIXEL_PACK_BUFFER, null);\n            ctx2.bindBuffer(ctx2.PIXEL_UNPACK_BUFFER, null);\n            var numTransformFeedbacks = ctx.getParameter(ctx2.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS);\n            for (var ii = 0; ii < numTransformFeedbacks; ++ii) {\n                ctx2.bindBufferBase(ctx2.TRANSFORM_FEEDBACK_BUFFER, ii, null);\n            }\n            var numUBOs = ctx.getParameter(ctx2.MAX_UNIFORM_BUFFER_BINDINGS);\n            for (var ii = 0; ii < numUBOs; ++ii) {\n                ctx2.bindBufferBase(ctx2.UNIFORM_BUFFER, ii, null);\n            }\n            ctx2.disable(ctx2.RASTERIZER_DISCARD);\n            ctx2.pixelStorei(ctx2.UNPACK_IMAGE_HEIGHT, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_SKIP_IMAGES, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_ROW_LENGTH, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_SKIP_ROWS, 0);\n            ctx2.pixelStorei(ctx2.UNPACK_SKIP_PIXELS, 0);\n            ctx2.pixelStorei(ctx2.PACK_ROW_LENGTH, 0);\n            ctx2.pixelStorei(ctx2.PACK_SKIP_ROWS, 0);\n            ctx2.pixelStorei(ctx2.PACK_SKIP_PIXELS, 0);\n            ctx2.hint(ctx2.FRAGMENT_SHADER_DERIVATIVE_HINT, ctx2.DONT_CARE);\n        }\n    };\n    WebGLContext.prototype.programInfo = function (program) {\n        var numAttribs = this.ctx.getProgramParameter(program, this.ctx.ACTIVE_ATTRIBUTES);\n        for (var ii = 0; ii < numAttribs; ++ii) {\n            var attribInfo = this.ctx.getActiveAttrib(program, ii);\n            if (!attribInfo) {\n                break;\n            }\n            console.log(this.ctx.getAttribLocation(program, attribInfo.name), attribInfo.name);\n        }\n    };\n    return WebGLContext;\n}());\nexports.default = WebGLContext;\n//# sourceMappingURL=WebGLContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Shader3DProgram_1 = require(\"../ShaderProgram/Shader3DProgram\");\nvar RenderOption_1 = require(\"../../Data/RenderOption\");\nvar Entity3DProgram = /** @class */ (function () {\n    function Entity3DProgram(ctx) {\n        this.ctx = ctx;\n        this.program = new Shader3DProgram_1.default(ctx);\n    }\n    Entity3DProgram.prototype.updatePerspective = function (projectionMatrix) {\n        this.program.bindProgram();\n        this.program.glSetProjectMatrix(projectionMatrix);\n    };\n    Entity3DProgram.prototype.delete = function () {\n        this.program.arrayBuffer.delete();\n        this.program.delete();\n    };\n    Entity3DProgram.prototype.setLight = function (light, camera) {\n        this.program.setLight(light, camera);\n    };\n    Entity3DProgram.prototype.updateBuffer = function (entity, buffer) {\n        var opt = entity.getOpt();\n        if (RenderOption_1.ShaderType.THREE_DIMENSION !== opt.shaderType) {\n            console.error(\"Updating buffer for registered 3D Entity but with different shader type as RenderOptions\", opt);\n            return;\n        }\n        var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n        if (!buffer || buffer.length !== buffReg.verticesSize) {\n            console.error(\"New Buffer data does not match initial buffer data!\", entity, buffer, buffReg.verticesSize);\n        }\n        this.program.arrayBuffer.bufferSub(buffReg.offset, buffer, Shader3DProgram_1.default.DRAW_VERTEX_SIZE);\n    };\n    Entity3DProgram.prototype._render3DShadowEntities = function (entities) {\n        for (var index = 0; index < entities.length; index++) {\n            var data = entities[index];\n            var entity = data[0];\n            var model = data[1];\n            var opt = entity.getOpt();\n            this.program.glSetShadowModelMatrix(model);\n            if (!entity.rendererBufferId) {\n                throw new Error(\"Unregistered entity buffer\" + entity);\n            }\n            var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n            if (opt.renderType === RenderOption_1.RenderType.TRIANGLE) {\n                this.ctx.drawArrays(this.ctx.TRIANGLES, buffReg.offset, buffReg.size);\n            }\n            else {\n                this.ctx.drawArrays(this.ctx.TRIANGLE_STRIP, buffReg.offset, buffReg.size);\n            }\n        }\n    };\n    Entity3DProgram.prototype._setupShadow = function () {\n        this.program.bindShadowTexture();\n    };\n    Entity3DProgram.prototype.render3DShadowMap = function (entities, setOriginalViewport) {\n        if (!this.program.isShadowEnabled) {\n            return;\n        }\n        this.ctx.disable(this.ctx.CULL_FACE);\n        this.program.prepareShadowTexture();\n        this._render3DShadowEntities(entities);\n        this.program.revertShadowTexture();\n        setOriginalViewport();\n        this.ctx.enable(this.ctx.CULL_FACE);\n        this.ctx.cullFace(this.ctx.BACK);\n        this._setupShadow();\n    };\n    Entity3DProgram.prototype.render = function (entities, camera, textureReg, is2d) {\n        this.program.arrayBuffer.bind();\n        this.program.bindAttributePointers();\n        this.program.bindProgram();\n        this.program.glSetViewMatrix(camera.viewMatrix);\n        if (is2d) {\n            if (this.ctx.isEnabled(this.ctx.CULL_FACE)) {\n                this.ctx.disable(this.ctx.CULL_FACE);\n            }\n            if (this.ctx.isEnabled(this.ctx.DEPTH_TEST)) {\n                this.ctx.disable(this.ctx.DEPTH_TEST);\n            }\n        }\n        else {\n            if (!this.ctx.isEnabled(this.ctx.CULL_FACE)) {\n                this.ctx.enable(this.ctx.CULL_FACE);\n            }\n            if (!this.ctx.isEnabled(this.ctx.DEPTH_TEST)) {\n                this.ctx.enable(this.ctx.DEPTH_TEST);\n            }\n        }\n        for (var index = 0; index < entities.length; index++) {\n            var data = entities[index];\n            var entity = data[0];\n            var model = data[1];\n            var opt = entity.getOpt();\n            if (!entity.rendererTextureRef) {\n                throw new Error(\"Unregistered entity texture\" + entity);\n            }\n            var texReg = textureReg[entity.rendererTextureRef];\n            this.program.bindTexture(texReg.texture);\n            this.program.glSetModelViewMatrix(model);\n            if (!entity.rendererBufferId) {\n                throw new Error(\"Unregistered entity buffer\" + entity);\n            }\n            var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n            if (opt.renderType === RenderOption_1.RenderType.TRIANGLE) {\n                this.ctx.drawArrays(this.ctx.TRIANGLES, buffReg.offset, buffReg.size);\n            }\n            else {\n                this.ctx.drawArrays(this.ctx.TRIANGLE_STRIP, buffReg.offset, buffReg.size);\n            }\n        }\n        this.program.arrayBuffer.unbind();\n        this.program.unbindAttributePointers();\n        this.program.unbindProgram();\n    };\n    Entity3DProgram.prototype.bindBuffer = function () {\n        this.program.arrayBuffer.bufferBind();\n    };\n    Entity3DProgram.prototype.registerEntity = function (object, objBuffer) {\n        var size = objBuffer.length / Shader3DProgram_1.default.DRAW_VERTEX_SIZE;\n        this.program.arrayBuffer.bufferReg[this.program.arrayBuffer.bufferRegId] = {\n            offset: this.program.arrayBuffer.length(),\n            size: size,\n            verticesSize: objBuffer.length,\n        };\n        this.program.arrayBuffer.push(objBuffer, size);\n        object.rendererBufferId = this.program.arrayBuffer.bufferRegId;\n        this.program.arrayBuffer.bufferRegId++;\n    };\n    return Entity3DProgram;\n}());\nexports.default = Entity3DProgram;\n//# sourceMappingURL=Entity3DProgram.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderOption_1 = require(\"../../Data/RenderOption\");\nvar ShaderColourProgram_1 = require(\"../ShaderProgram/ShaderColourProgram\");\nvar EntityColourProgram = /** @class */ (function () {\n    function EntityColourProgram(ctx) {\n        this.ctx = ctx;\n        this.program = new ShaderColourProgram_1.default(ctx);\n    }\n    EntityColourProgram.prototype.delete = function () {\n        this.program.arrayBuffer.delete();\n        this.program.delete();\n    };\n    EntityColourProgram.prototype.updateBuffer = function (entity, buffer) {\n        var opt = entity.getOpt();\n        if (RenderOption_1.ShaderType.COLOUR !== opt.shaderType) {\n            console.error(\"Updating buffer for registered Colour Entity but with different shader type as RenderOptions\", opt);\n            return;\n        }\n        var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n        if (!buffer || buffer.length !== buffReg.verticesSize) {\n            console.error(\"New Buffer data does not match initial buffer data!\", entity, buffer, buffReg.verticesSize);\n        }\n        this.program.arrayBuffer.bufferSub(buffReg.offset, buffer, ShaderColourProgram_1.default.DRAW_VERTEX_SIZE);\n    };\n    EntityColourProgram.prototype.bindBuffer = function () {\n        this.program.arrayBuffer.bufferBind();\n    };\n    EntityColourProgram.prototype.render = function (entities, camera) {\n        this.program.arrayBuffer.bind();\n        this.program.bindAttributePointers();\n        this.program.bindProgram();\n        this.program.glSetViewMatrix(camera.viewMatrix);\n        if (this.ctx.isEnabled(this.ctx.CULL_FACE)) {\n            this.ctx.disable(this.ctx.CULL_FACE);\n        }\n        if (this.ctx.isEnabled(this.ctx.DEPTH_TEST)) {\n            this.ctx.disable(this.ctx.DEPTH_TEST);\n        }\n        for (var index = 0; index < entities.length; index++) {\n            var data = entities[index];\n            var entity = data[0];\n            var model = data[1];\n            if (!entity.rendererBufferId) {\n                throw new Error(\"Unregistered entity buffer\" + entity);\n            }\n            var buffReg = this.program.arrayBuffer.bufferReg[entity.rendererBufferId];\n            this.program.glSetModelViewMatrix(model);\n            this.ctx.drawArrays(this.ctx.TRIANGLE_STRIP, buffReg.offset, buffReg.size);\n        }\n        this.program.arrayBuffer.unbind();\n        this.program.unbindAttributePointers();\n        this.program.unbindProgram();\n    };\n    EntityColourProgram.prototype.registerEntity = function (object, objBuffer) {\n        var size = objBuffer.length / ShaderColourProgram_1.default.DRAW_VERTEX_SIZE;\n        this.program.arrayBuffer.bufferReg[this.program.arrayBuffer.bufferRegId] = {\n            offset: this.program.arrayBuffer.length(),\n            size: size,\n            verticesSize: objBuffer.length,\n        };\n        this.program.arrayBuffer.push(objBuffer, size);\n        object.rendererBufferId = this.program.arrayBuffer.bufferRegId;\n        this.program.arrayBuffer.bufferRegId++;\n    };\n    EntityColourProgram.prototype.updatePerspective = function (projectionMatrix) {\n        this.program.bindProgram();\n        this.program.glSetProjectMatrix(projectionMatrix);\n    };\n    return EntityColourProgram;\n}());\nexports.default = EntityColourProgram;\n//# sourceMappingURL=EntityColorProgram.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseProgram_1 = require(\"../Base/BaseProgram\");\nvar ShadowDepthFragmentShader_glsl_1 = require(\"../Shaders/ShadowDepthFragmentShader.glsl\");\nvar PassthroughVertexShader_glsl_1 = require(\"../Shaders/PassthroughVertexShader.glsl\");\nvar ShadowLightVertexShader_glsl_1 = require(\"../Shaders/ShadowLightVertexShader.glsl\");\nvar ShadowLightFragmentShader_glsl_1 = require(\"../Shaders/ShadowLightFragmentShader.glsl\");\nvar LightFragmentShader_glsl_1 = require(\"../Shaders/LightFragmentShader.glsl\");\nvar LightVertexShader_glsl_1 = require(\"../Shaders/LightVertexShader.glsl\");\nvar ArrayBuffer_1 = require(\"../../Buffer/ArrayBuffer\");\nvar gl_matrix_1 = require(\"gl-matrix\");\nvar Texture_1 = require(\"../../Buffer/Texture\");\nvar ProgramReference_1 = require(\"../Base/ProgramReference\");\nvar Shader3DProgram = /** @class */ (function (_super) {\n    __extends(Shader3DProgram, _super);\n    function Shader3DProgram(ctx) {\n        var _this = _super.call(this, ctx) || this;\n        // this must be changed in shader as well.\n        _this.shadowDepthTextureSize = 1024.0;\n        _this.arrayBuffer = new ArrayBuffer_1.default(ctx);\n        if (_this.isShadowEnabled) {\n            _this.program = _this.compileShaders(ShadowLightVertexShader_glsl_1.default, ShadowLightFragmentShader_glsl_1.default);\n            _this.bindProgram();\n            _this.shadowMap = new ProgramReference_1.default(\"shadowMap\", ctx, false, _this.program);\n            _this.light1View = new ProgramReference_1.default(\"u_light1_view\", ctx, false, _this.program);\n            _this.light1Projection = new ProgramReference_1.default(\"u_light1_projection\", ctx, false, _this.program);\n        }\n        else {\n            _this.program = _this.compileShaders(LightVertexShader_glsl_1.default, LightFragmentShader_glsl_1.default);\n            _this.bindProgram();\n        }\n        _this.normal = new ProgramReference_1.default(\"a_normal\", ctx, true, _this.program);\n        _this.position = new ProgramReference_1.default(\"a_position\", ctx, true, _this.program);\n        _this.textureCoords = new ProgramReference_1.default(\"a_texture_coords\", ctx, true, _this.program);\n        _this.projMtrx = new ProgramReference_1.default(\"u_projection\", ctx, false, _this.program);\n        _this.viewMtrx = new ProgramReference_1.default(\"u_view\", ctx, false, _this.program);\n        _this.modelMtrx = new ProgramReference_1.default(\"u_model\", ctx, false, _this.program);\n        _this.tex2DSampler = new ProgramReference_1.default(\"texture\", ctx, false, _this.program);\n        _this.light1Pos = new ProgramReference_1.default(\"u_light1_pos\", ctx, false, _this.program);\n        _this.light1Intensities = new ProgramReference_1.default(\"u_light1_intensities\", ctx, false, _this.program);\n        _this.light1Attenu = new ProgramReference_1.default(\"u_light1_attenuation\", ctx, false, _this.program);\n        _this.light1AmbCoeff = new ProgramReference_1.default(\"u_light1_ambient_coefficient\", ctx, false, _this.program);\n        if (_this.isShadowEnabled) {\n            _this.initShadowProgram();\n        }\n        return _this;\n    }\n    Shader3DProgram.prototype.initShadowProgram = function () {\n        var ctx = this.ctx;\n        this.shadowProgram = this.compileShaders(PassthroughVertexShader_glsl_1.default, ShadowDepthFragmentShader_glsl_1.default);\n        this.bindShadowProgram();\n        this.shadowPos = new ProgramReference_1.default(\"a_position\", ctx, true, this.shadowProgram);\n        this.shadowProjection = new ProgramReference_1.default(\"u_projection\", ctx, false, this.shadowProgram);\n        this.shadowView = new ProgramReference_1.default(\"u_view\", ctx, false, this.shadowProgram);\n        this.shadowModel = new ProgramReference_1.default(\"u_model\", ctx, false, this.shadowProgram);\n        this.shadowFramebuffer = ctx.createFramebuffer();\n        this.createDepthTexture();\n        this.shadowRenderBuffer = ctx.createRenderbuffer();\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, this.shadowRenderBuffer);\n        ctx.renderbufferStorage(ctx.RENDERBUFFER, ctx.DEPTH_COMPONENT16, this.shadowDepthTextureSize, this.shadowDepthTextureSize);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, this.shadowFramebuffer);\n        ctx.framebufferTexture2D(ctx.FRAMEBUFFER, ctx.COLOR_ATTACHMENT0, ctx.TEXTURE_2D, this.shadowDepthTexture, 0);\n        ctx.framebufferRenderbuffer(ctx.FRAMEBUFFER, ctx.DEPTH_ATTACHMENT, ctx.RENDERBUFFER, this.shadowRenderBuffer);\n        ctx.bindTexture(ctx.TEXTURE_2D, null);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n    };\n    Shader3DProgram.prototype.createDepthTexture = function () {\n        var ctx = this.ctx;\n        this.shadowTextureUnit = Texture_1.default.textureCount;\n        ctx.activeTexture(ctx.TEXTURE0 + this.shadowTextureUnit);\n        Texture_1.default.textureCount += 1;\n        this.shadowDepthTexture = ctx.createTexture();\n        ctx.bindTexture(ctx.TEXTURE_2D, this.shadowDepthTexture);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.LINEAR);\n        ctx.texParameterf(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.LINEAR);\n        ctx.texImage2D(ctx.TEXTURE_2D, 0, ctx.RGBA, this.shadowDepthTextureSize, this.shadowDepthTextureSize, 0, ctx.RGBA, ctx.UNSIGNED_BYTE, null);\n    };\n    Shader3DProgram.prototype.bindShadowProgram = function () {\n        this._bindProgram(this.shadowProgram);\n    };\n    Shader3DProgram.prototype.bindProgram = function () {\n        this._bindProgram(this.program);\n    };\n    Shader3DProgram.prototype.unbindProgram = function () {\n        this._unbindProgram();\n    };\n    Shader3DProgram.prototype.unbindShadowProgram = function () { };\n    Shader3DProgram.prototype.enableAttribPointers = function () {\n        var ctx = this.ctx;\n        ctx.enableVertexAttribArray(this.position.ref);\n        ctx.enableVertexAttribArray(this.textureCoords.ref);\n        ctx.enableVertexAttribArray(this.normal.ref);\n    };\n    Shader3DProgram.prototype.bindAttributePointers = function () {\n        this.enableAttribPointers();\n        var ctx = this.ctx;\n        ctx.vertexAttribPointer(this.position.ref, 3, ctx.FLOAT, false, 4 * 8, 0);\n        ctx.vertexAttribPointer(this.normal.ref, 3, ctx.FLOAT, true, 4 * 8, 3 * 4);\n        ctx.vertexAttribPointer(this.textureCoords.ref, 2, ctx.FLOAT, true, 4 * 8, 6 * 4);\n    };\n    Shader3DProgram.prototype.enableShadowAttribPointers = function () {\n        this.ctx.enableVertexAttribArray(this.shadowPos.ref);\n    };\n    Shader3DProgram.prototype.bindShadowAttributePointers = function () {\n        this.enableShadowAttribPointers();\n        var ctx = this.ctx;\n        ctx.vertexAttribPointer(this.shadowPos.ref, 3, ctx.FLOAT, false, 4 * 8, 0);\n    };\n    Shader3DProgram.prototype.glSetShadowModelMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.shadowModel.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.unbindShadowAttributePointers = function () {\n        this.ctx.disableVertexAttribArray(this.shadowPos.ref);\n    };\n    Shader3DProgram.prototype.setLight = function (light, camera) {\n        this.light = light;\n        var lookAt = light.lookAt();\n        this.bindProgram();\n        var ctx = this.ctx;\n        ctx.uniform3fv(this.light1Pos.ref, light.pos);\n        ctx.uniform3fv(this.light1Intensities.ref, light.in);\n        ctx.uniform1f(this.light1AmbCoeff.ref, light.ambientCoeff);\n        ctx.uniform1f(this.light1Attenu.ref, light.attenuation);\n        if (this.isShadowEnabled) {\n            var cameraFrustum = gl_matrix_1.mat4.frustum(gl_matrix_1.mat4.create(), -1 * camera.aspect, 1 * camera.aspect, -1 * camera.aspect, 1 * camera.aspect, 1, gl_matrix_1.vec3.squaredDistance(light.posVec(), light.atVec()));\n            ctx.uniformMatrix4fv(this.light1View.ref, false, lookAt);\n            ctx.uniformMatrix4fv(this.light1Projection.ref, false, cameraFrustum);\n            this.bindShadowProgram();\n            ctx.uniformMatrix4fv(this.shadowView.ref, false, lookAt);\n            ctx.uniformMatrix4fv(this.shadowProjection.ref, false, cameraFrustum);\n        }\n    };\n    Shader3DProgram.prototype.prepareShadowTexture = function () {\n        var ctx = this.ctx;\n        ctx.activeTexture(ctx.TEXTURE0 + this.shadowTextureUnit);\n        ctx.bindTexture(ctx.TEXTURE_2D, this.shadowDepthTexture);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, this.shadowRenderBuffer);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, this.shadowFramebuffer);\n        ctx.viewport(0, 0, this.shadowDepthTextureSize, this.shadowDepthTextureSize);\n        ctx.clear(ctx.COLOR_BUFFER_BIT | ctx.DEPTH_BUFFER_BIT);\n        this.arrayBuffer.bind();\n        this.bindShadowAttributePointers();\n        this.bindShadowProgram();\n    };\n    Shader3DProgram.prototype.revertShadowTexture = function () {\n        var ctx = this.ctx;\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        this.arrayBuffer.unbind();\n        this.unbindShadowAttributePointers();\n        this.unbindShadowProgram();\n    };\n    Shader3DProgram.prototype.bindShadowTexture = function () {\n        this.bindProgram();\n        this.ctx.uniform1i(this.shadowMap.ref, this.shadowTextureUnit);\n    };\n    Shader3DProgram.prototype.unbindAttributePointers = function () {\n        var ctx = this.ctx;\n        ctx.disableVertexAttribArray(this.position.ref);\n        ctx.disableVertexAttribArray(this.textureCoords.ref);\n        ctx.disableVertexAttribArray(this.normal.ref);\n    };\n    Shader3DProgram.prototype.glSetViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.viewMtrx.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.glSetProjectMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.projMtrx.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.glSetModelViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.modelMtrx.ref, false, matrixArray);\n    };\n    Shader3DProgram.prototype.bindTexture = function (texture) {\n        texture.bindTexture(this.ctx, this.tex2DSampler.ref);\n    };\n    Shader3DProgram.DRAW_VERTEX_SIZE = 8;\n    return Shader3DProgram;\n}(BaseProgram_1.default));\nexports.default = Shader3DProgram;\n//# sourceMappingURL=Shader3DProgram.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseProgram_1 = require(\"../Base/BaseProgram\");\nvar RGBFragmentShader_glsl_1 = require(\"../Shaders/RGBFragmentShader.glsl\");\nvar RGBVertexShader_glsl_1 = require(\"../Shaders/RGBVertexShader.glsl\");\nvar ArrayBuffer_1 = require(\"../../Buffer/ArrayBuffer\");\nvar ProgramReference_1 = require(\"../Base/ProgramReference\");\nvar ShaderProgramColour = /** @class */ (function (_super) {\n    __extends(ShaderProgramColour, _super);\n    function ShaderProgramColour(ctx) {\n        var _this = _super.call(this, ctx) || this;\n        _this.arrayBuffer = new ArrayBuffer_1.default(ctx);\n        _this.program = _this.compileShaders(RGBVertexShader_glsl_1.default, RGBFragmentShader_glsl_1.default);\n        _this.bindProgram();\n        _this.positionRef = new ProgramReference_1.default(\"a_position\", ctx, true, _this.program);\n        _this.colorRef = new ProgramReference_1.default(\"a_color\", ctx, true, _this.program);\n        _this.modelViewMatrixRef = new ProgramReference_1.default(\"u_model\", ctx, false, _this.program);\n        _this.viewMtrx = new ProgramReference_1.default(\"u_view\", ctx, false, _this.program);\n        _this.projMtrx = new ProgramReference_1.default(\"u_projection\", ctx, false, _this.program);\n        return _this;\n    }\n    ShaderProgramColour.prototype.bindProgram = function () {\n        this._bindProgram(this.program);\n    };\n    ShaderProgramColour.prototype.unbindProgram = function () {\n        this._unbindProgram();\n    };\n    ShaderProgramColour.prototype.enableAttribPointers = function () {\n        var ctx = this.ctx;\n        ctx.enableVertexAttribArray(this.positionRef.ref);\n        ctx.enableVertexAttribArray(this.colorRef.ref);\n    };\n    ShaderProgramColour.prototype.bindAttributePointers = function () {\n        this.enableAttribPointers();\n        var ctx = this.ctx;\n        ctx.vertexAttribPointer(this.positionRef.ref, 2, ctx.FLOAT, false, 4 * 7, 0);\n        ctx.vertexAttribPointer(this.colorRef.ref, 4, ctx.FLOAT, false, 4 * 7, 3 * 4);\n    };\n    ShaderProgramColour.prototype.unbindAttributePointers = function () {\n        var ctx = this.ctx;\n        ctx.disableVertexAttribArray(this.positionRef.ref);\n        ctx.disableVertexAttribArray(this.colorRef.ref);\n    };\n    ShaderProgramColour.prototype.glSetProjectMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.projMtrx.ref, false, matrixArray);\n    };\n    ShaderProgramColour.prototype.glSetModelViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.modelViewMatrixRef.ref, false, matrixArray);\n    };\n    ShaderProgramColour.prototype.glSetViewMatrix = function (matrixArray) {\n        this.ctx.uniformMatrix4fv(this.viewMtrx.ref, false, matrixArray);\n    };\n    ShaderProgramColour.DRAW_VERTEX_SIZE = 7;\n    return ShaderProgramColour;\n}(BaseProgram_1.default));\nexports.default = ShaderProgramColour;\n//# sourceMappingURL=ShaderColourProgram.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WorldDelegate = /** @class */ (function () {\n    function WorldDelegate() {\n    }\n    WorldDelegate.prototype.setEngineHelper = function (engineHelper) {\n        this.engineHelper = engineHelper;\n    };\n    WorldDelegate.prototype.loadResources = function (resources) {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.update = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.render = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.event = function (event) {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.pause = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.resume = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.init = function (engineHelper) {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.destroy = function () {\n        throw new Error(\"unimplemented method\");\n    };\n    WorldDelegate.prototype.reset = function () { };\n    return WorldDelegate;\n}());\nexports.default = WorldDelegate;\n//# sourceMappingURL=WorldDelegate.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Moveable_1 = require(\"./Moveable\");\nvar BasicSprite = /** @class */ (function (_super) {\n    __extends(BasicSprite, _super);\n    function BasicSprite(rect, spriteModel) {\n        var _this = _super.call(this) || this;\n        _this.spriteModel = spriteModel;\n        _this.spriteModel.setRect(rect);\n        _this.entities.push(_this.spriteModel);\n        return _this;\n    }\n    BasicSprite.prototype.render = function (engineHelper) {\n        this.spriteModel.render(engineHelper);\n    };\n    BasicSprite.prototype.update = function (engineHelper) {\n        this.spriteModel.update(engineHelper);\n    };\n    BasicSprite.prototype.init = function (engineHelper) {\n        _super.prototype.init.call(this, engineHelper);\n        this.setRect(this.spriteModel.getRect());\n        this.updatePhysicsPosition();\n    };\n    return BasicSprite;\n}(Moveable_1.default));\nexports.default = BasicSprite;\n//# sourceMappingURL=BasicSprite.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Core/Builder/ShaderEntityBuilder\");\nvar Colour_1 = require(\"../Core/Data/Colour\");\nvar ColourVertexModel_1 = require(\"../Core/Data/ColourVertexModel\");\nvar RenderOption_1 = require(\"../Core/Data/RenderOption\");\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar EngineObjectHelper_1 = require(\"../Core/EngineEntity/EngineObjectHelper\");\nvar LineColour = /** @class */ (function (_super) {\n    __extends(LineColour, _super);\n    function LineColour(point1, point2, thickness, rgba) {\n        var _this = _super.call(this) || this;\n        _this.point1 = point1;\n        _this.point2 = point2;\n        _this.thickness = thickness;\n        _this.rgba = rgba;\n        return _this;\n    }\n    LineColour.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    LineColour.prototype.updatePosition = function (point1, point2) {\n        this.point1 = point1;\n        this.point2 = point2;\n        var lX = point2.x - point1.x;\n        var lY = point2.y - point1.y;\n        var length = Math.sqrt(lX * lX + lY * lY);\n        var angle = Math.atan2(lY, lX) * (180 / Math.PI);\n        var mX = (point1.x + point2.x) / 2;\n        var mY = (point1.y + point2.y) / 2;\n        this.center(mX, mY, 0);\n        this.rotateOrigin(mX, mY, 0);\n        this.angleZ(angle);\n        this.scale(length, this.thickness, 1.0);\n    };\n    LineColour.prototype.init = function (engineHelper) {\n        this.vertexModel = new ColourVertexModel_1.default().fillRenderUnits(EngineObjectHelper_1.default.vertex.planeXYColour(this.rgba || new Colour_1.default(0, 0, 0, 0)));\n        this.updatePosition(this.point1, this.point2);\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.TRIANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.COLOUR;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .build(this, renderOpt);\n    };\n    return LineColour;\n}(EngineObject_1.default));\nexports.default = LineColour;\n//# sourceMappingURL=LineColour.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelPosition_1 = require(\"../Core/EngineEntity/ModelPosition\");\nvar Physics_1 = require(\"../Core/Physics/Physics\");\nvar EntityManager_1 = require(\"../Manager/EntityManager\");\nvar Coordinate_1 = require(\"../Core/Data/Coordinate\");\nvar EngineMath_1 = require(\"../Core/Physics/EngineMath\");\nvar Rect2d_1 = require(\"../Core/Data/Rect2d\");\nvar Moveable = /** @class */ (function (_super) {\n    __extends(Moveable, _super);\n    function Moveable() {\n        var _this = _super.call(this) || this;\n        _this.dampenReduction = 0.0;\n        _this.completeSimulation = function () {\n            _this.resetPhysics();\n        };\n        _this.resetPhysics = function () {\n            _this.physics.t.x = _this.position.x;\n            _this.physics.t.y = _this.position.y;\n            _this.physics.t.z = _this.position.z;\n            _this.physics.d.x = 0;\n            _this.physics.d.y = 0;\n            _this.physics.d.z = 0;\n            _this.physics.isMoving = false;\n            _this.physics.collisionIteration = 0;\n        };\n        _this.physicSimulation = function (simulationId, time, _) {\n            var physics = _this.physics;\n            physics.isMoving = true;\n            var dx = physics.v.x * time;\n            var dy = physics.v.y * time;\n            var model = _this;\n            if (physics.collisionSize) {\n                physics.modelPos.setRect(physics.collisionSize);\n                physics.modelPos.$physicsId = _this.$physicsId;\n                model = physics.modelPos;\n            }\n            var _a = _this.resolveCollision(model, dx, dy), _dx = _a[0], _dy = _a[1], collision = _a[2];\n            if (_this.shouldTranslate(collision)) {\n                physics.collisionIteration = 0;\n            }\n            else {\n                _this.addDampener(time);\n                dx = _dx;\n                dy = _dy;\n                physics.collisionIteration++;\n                if (physics.collisionIteration > physics.collisionStopItThres) {\n                    _this.cancelSimulation(simulationId);\n                }\n            }\n            _this.movementRotation(physics.v.x);\n            _this.translate(dx, dy, 0);\n            if (physics.collisionSize) {\n                physics.modelPos.translate(dx, dy, 0);\n                physics.collisionSize.x += dx;\n                physics.collisionSize.y += dy;\n            }\n            if (_this.isBounded) {\n                _this.updateLocBoundToBoundary();\n            }\n            _this.completePhysicsIteration(time);\n        };\n        _this.physics = {\n            t: new Coordinate_1.default(0, 0, 0),\n            d: new Coordinate_1.default(0, 0, 0),\n            v: new Coordinate_1.default(0, 0, 0),\n            a: new Coordinate_1.default(0, 0, 0),\n            modelPos: new ModelPosition_1.default(),\n            isMoving: false,\n            collisionSize: undefined,\n            bound: new Rect2d_1.default(0, 0, 1.0, 1.0),\n            simulationId: undefined,\n            jumpSimulationId: undefined,\n            gravitySimulationId: undefined,\n            collisionIteration: 0,\n            collisionStopItThres: 5,\n        };\n        _this.isMoveable = true;\n        _this.isBounded = true;\n        _this.hasCollision = true;\n        return _this;\n    }\n    Moveable.prototype.updatePhysicsPosition = function () {\n        this.physics.t.x = this.position.x;\n        this.physics.t.y = this.position.y;\n        this.physics.t.z = this.position.z;\n    };\n    Moveable.prototype.updateDeltaDistance = function (x, y, z) {\n        if (x !== undefined) {\n            this.physics.d.x = x - this.position.x;\n            this.physics.t.x = x;\n        }\n        else {\n            this.physics.d.x = this.physics.t.x - this.position.x;\n        }\n        if (y !== undefined) {\n            this.physics.d.y = y - this.position.y;\n            this.physics.t.y = y;\n        }\n        else {\n            this.physics.d.y = this.physics.t.y - this.position.y;\n        }\n        if (z !== undefined) {\n            this.physics.d.z = z - this.position.z;\n            this.physics.t.z = z;\n        }\n        else {\n            this.physics.d.z = this.physics.t.z - this.position.z;\n        }\n    };\n    Moveable.prototype.updateLocBoundToBoundary = function () {\n        var _a;\n        var pos = this.physics.collisionSize\n            ? this.physics.modelPos.position\n            : this.position;\n        var boundRect = (_a = this.physics.bound) !== null && _a !== void 0 ? _a : new Rect2d_1.default(0, 0, 1, 1, 0);\n        var coordinate = EngineMath_1.default.boundRect(boundRect, this.physics.collisionSize\n            ? this.physics.modelPos.position\n            : this.position);\n        var dx = 0;\n        var dy = 0;\n        if (pos.x !== coordinate.x) {\n            this.physics.v.x = 0;\n            dx = coordinate.x - pos.x;\n        }\n        if (pos.y !== coordinate.y) {\n            this.physics.v.y = 0;\n            dy = coordinate.y - pos.y;\n        }\n        this.center(this.position.x + dx, this.position.y + dy, this.position.z);\n    };\n    Moveable.prototype.calcTotalDeltaDistance = function () {\n        return Math.sqrt(this.physics.d.x * this.physics.d.x +\n            this.physics.d.y * this.physics.d.y +\n            this.physics.d.z * this.physics.d.z);\n    };\n    Moveable.prototype.translateTo = function (velocity, dx, dy, dz, complete) {\n        var directionalModifier = dx !== 0 ? 10e-6 * (this.physics.d.x < 0 ? -1 : 1) : 0;\n        this.physics.t.x += (dx || 0) + directionalModifier;\n        this.physics.t.y += dy || 0;\n        this.physics.t.z += dz || 0;\n        this.moveTo(velocity, this.physics.t.x, this.physics.t.y, this.physics.t.z, complete);\n    };\n    Moveable.prototype.shouldTranslate = function (colliding) {\n        return colliding.length === 0;\n    };\n    Moveable.prototype.moveToTime = function (time, x, y, z, complete) {\n        var _this = this;\n        var _a;\n        Physics_1.default.cancelSimulation((_a = this.physics.simulationId) !== null && _a !== void 0 ? _a : 0, true);\n        if (!this.isMoveable) {\n            return;\n        }\n        var physics = this.physics;\n        this.updateDeltaDistance(x, y, z);\n        var totalTime = Math.max(time, 10e-6);\n        this.movementRotation(physics.d.x);\n        var completeSim = this.completeSimulation;\n        if (complete) {\n            completeSim = function () {\n                _this.completeSimulation();\n                complete();\n            };\n        }\n        physics.simulationId = Physics_1.default.runSimulation(totalTime, this.moveSimulation.bind(this), completeSim, physics.simulationId);\n    };\n    Moveable.prototype.movementRotation = function (dx) {\n        if (this.isRotateMove) {\n            if (dx > 0) {\n                this.rotateY(0);\n            }\n            else if (dx < 0) {\n                this.rotateY(180);\n            }\n        }\n    };\n    Moveable.prototype.moveTo = function (velocity, x, y, z, complete) {\n        var _this = this;\n        var _a;\n        Physics_1.default.cancelSimulation((_a = this.physics.simulationId) !== null && _a !== void 0 ? _a : 0, true);\n        if (!this.isMoveable) {\n            return;\n        }\n        var physics = this.physics;\n        this.updateDeltaDistance(x, y, z);\n        var distance = this.calcTotalDeltaDistance();\n        var totalTime = distance / velocity;\n        this.movementRotation(physics.d.x);\n        var completeSim = this.completeSimulation;\n        if (complete) {\n            completeSim = function () {\n                _this.completeSimulation();\n                complete();\n            };\n        }\n        physics.simulationId = Physics_1.default.runSimulation(totalTime, this.moveSimulation.bind(this), completeSim, physics.simulationId);\n    };\n    Moveable.prototype.addDampener = function (time) {\n        var dampeningProp = time / 1000.0;\n        var xSign = Math.sign(this.physics.v.x);\n        this.physics.v.x -= xSign * this.dampenReduction * dampeningProp;\n        if (xSign !== Math.sign(this.physics.v.x)) {\n            this.physics.v.x = 0;\n        }\n        var ySign = Math.sign(this.physics.v.y);\n        this.physics.v.y -= ySign * this.dampenReduction * dampeningProp;\n        if (ySign !== Math.sign(this.physics.v.y)) {\n            this.physics.v.y = 0;\n        }\n        if (Math.abs(this.physics.v.x) < 10e-6) {\n            this.physics.v.x = 0;\n        }\n        if (Math.abs(this.physics.v.y) < 10e-6) {\n            this.physics.v.y = 0;\n        }\n    };\n    Moveable.prototype.addImpulse = function (acceleration, contactTime) {\n        this.physics.v.x += acceleration.x * contactTime;\n        this.physics.v.y += acceleration.y * contactTime;\n    };\n    Moveable.prototype.setVelocity = function (velocity) {\n        this.physics.v.x = velocity.x;\n        this.physics.v.y = velocity.y;\n    };\n    Moveable.prototype.runPhysicsSimulation = function (simulationId, totalTime) {\n        if (totalTime === void 0) { totalTime = Physics_1.default.TIME_STEP_MILLIS * 2.0; }\n        Physics_1.default.runSimulation(totalTime, this.physicSimulation, this.completeSimulation, simulationId);\n    };\n    Moveable.prototype.completePhysicsIteration = function (_) { };\n    Moveable.prototype.resolveCollision = function (model, dx, dy) {\n        if (this.hasCollision) {\n            return Physics_1.default.isCollidingResolve(model, dx, dy);\n        }\n        else {\n            return [dx, dy, []];\n        }\n    };\n    Moveable.prototype.cancelSimulation = function (simulationId) {\n        var simulation = Physics_1.default.simulations[simulationId];\n        if (simulation === null || simulation === void 0 ? void 0 : simulation.completeSimulation) {\n            simulation.completeSimulation();\n        }\n        Physics_1.default.cancelSimulation(simulationId);\n    };\n    Moveable.prototype.moveSimulation = function (simulationId, time, totalRunTime) {\n        if (Math.abs(totalRunTime) < 10e-6) {\n            return;\n        }\n        var physics = this.physics;\n        physics.isMoving = true;\n        var propTime = Math.min(1.0, time / totalRunTime);\n        var dx = physics.d.x * propTime;\n        var dy = physics.d.y * propTime;\n        var dz = physics.d.z * propTime;\n        this.translateCollision(simulationId, dx, dy, dz);\n        this.completePhysicsIteration(time);\n    };\n    Moveable.prototype.translateCollision = function (simulationId, dx, dy, dz) {\n        var physics = this.physics;\n        var model = this;\n        if (physics.collisionSize) {\n            physics.modelPos.setRect(physics.collisionSize);\n            physics.modelPos.$physicsId = this.$physicsId;\n            model = physics.modelPos;\n        }\n        var colliding = Physics_1.default.isCollidingOffset2d(model, dx, dy);\n        if (this.shouldTranslate(colliding)) {\n            this.translate(dx, dy, dz);\n            if (physics.collisionSize) {\n                physics.modelPos.translate(dx, dy, 0);\n                physics.collisionSize.x += dx;\n                physics.collisionSize.y += dy;\n            }\n            if (this.isBounded) {\n                this.updateLocBoundToBoundary();\n            }\n            this.physics.collisionIteration = 0;\n        }\n        else {\n            this.physics.collisionIteration++;\n            if (this.physics.collisionIteration > this.physics.collisionStopItThres) {\n                this.cancelSimulation(simulationId);\n            }\n        }\n    };\n    Moveable.prototype.setMoveable = function (isMoving) {\n        this.isMoveable = isMoving;\n    };\n    Moveable.prototype.copyTexture = function (obj) {\n        this.shaderEntity ? _super.prototype.copyTexture.call(this, obj) : undefined;\n        this.entities.forEach(function (entity) { return entity.copyTexture(obj); });\n    };\n    return Moveable;\n}(EntityManager_1.default));\nexports.default = Moveable;\n//# sourceMappingURL=Moveable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextureVertexModel_1 = require(\"../Core/Data/TextureVertexModel\");\nvar ModelObject3d_1 = require(\"../Core/EngineEntity/ModelObject3d\");\nvar Object3d = /** @class */ (function (_super) {\n    __extends(Object3d, _super);\n    function Object3d(rect, vertexUvCacheId) {\n        var _this = _super.call(this, rect, new TextureVertexModel_1.default()) || this;\n        _this.vertexUvCacheId = vertexUvCacheId;\n        return _this;\n    }\n    Object3d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    Object3d.prototype.init = function (engineHelper) {\n        this.vertexModel = engineHelper.newVertexModelUv3d(this.vertexUvCacheId);\n        _super.prototype.init.call(this, engineHelper);\n    };\n    return Object3d;\n}(ModelObject3d_1.default));\nexports.default = Object3d;\n//# sourceMappingURL=Object3d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelObject2d_1 = require(\"../Core/EngineEntity/ModelObject2d\");\nvar TextureVertexModel_1 = require(\"../Core/Data/TextureVertexModel\");\nvar Plane2d = /** @class */ (function (_super) {\n    __extends(Plane2d, _super);\n    function Plane2d(rect, textureReference) {\n        var _this = _super.call(this, rect, new TextureVertexModel_1.default()) || this;\n        _this.textureReference = textureReference;\n        return _this;\n    }\n    Plane2d.prototype.setLayer = function (layer) {\n        this.position.z = -layer;\n    };\n    Plane2d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    Plane2d.prototype.init = function (engineHelper) {\n        this.vertexModel = engineHelper.newVertexModel2d(this.textureReference);\n        _super.prototype.init.call(this, engineHelper);\n    };\n    return Plane2d;\n}(ModelObject2d_1.default));\nexports.default = Plane2d;\n//# sourceMappingURL=Plane2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ModelObjectRect3d_1 = require(\"../Core/EngineEntity/ModelObjectRect3d\");\nvar TextureVertexModel_1 = require(\"../Core/Data/TextureVertexModel\");\nvar Plane3d = /** @class */ (function (_super) {\n    __extends(Plane3d, _super);\n    function Plane3d(rect, vertexModel) {\n        var _this = _super.call(this, rect, vertexModel) || this;\n        if (!(vertexModel instanceof TextureVertexModel_1.default)) {\n            var error = \"Vertex model must of be type TextureVertexModel\";\n            console.error(error, vertexModel);\n            throw new Error(error);\n        }\n        if (!vertexModel.renderUnits || vertexModel.renderUnits.length !== 4) {\n            var error = \"Plane3d requires 4 vertexes\";\n            console.error(error, vertexModel);\n            throw new Error(error);\n        }\n        return _this;\n    }\n    Plane3d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    return Plane3d;\n}(ModelObjectRect3d_1.default));\nexports.default = Plane3d;\n//# sourceMappingURL=Plane3d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderOption_1 = require(\"../Core/Data/RenderOption\");\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar ShaderEntityBuilder_1 = require(\"../Core/Builder/ShaderEntityBuilder\");\nvar Colour_1 = require(\"../Core/Data/Colour\");\nvar ColourVertexModel_1 = require(\"../Core/Data/ColourVertexModel\");\nvar EngineObjectHelper_1 = require(\"../Core/EngineEntity/EngineObjectHelper\");\nvar PlaneColour = /** @class */ (function (_super) {\n    __extends(PlaneColour, _super);\n    function PlaneColour(rect, rgba) {\n        var _this = _super.call(this) || this;\n        _this.rgba = rgba;\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    PlaneColour.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    PlaneColour.prototype.init = function (engineHelper) {\n        this.vertexModel = new ColourVertexModel_1.default().fillRenderUnits(EngineObjectHelper_1.default.vertex.planeXYColour(this.rgba || new Colour_1.default(0, 0, 0, 0)));\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.TRIANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.COLOUR;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .build(this, renderOpt);\n    };\n    return PlaneColour;\n}(EngineObject_1.default));\nexports.default = PlaneColour;\n//# sourceMappingURL=PlaneColour.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Plane2d_1 = require(\"./Plane2d\");\nvar Timer_1 = require(\"../Core/Common/Timer\");\nvar EntityManager2d_1 = require(\"../Manager/EntityManager2d\");\nvar SpriteModel = /** @class */ (function (_super) {\n    __extends(SpriteModel, _super);\n    function SpriteModel(rect, ticks, textures) {\n        var _this = _super.call(this) || this;\n        _this.spriteIdx = 0;\n        _this.timer = new Timer_1.default();\n        _this.setRect(rect);\n        _this.ticks = ticks;\n        _this.textures = textures;\n        return _this;\n    }\n    SpriteModel.prototype.update = function (_) { };\n    SpriteModel.prototype.render = function (engineHelper) {\n        var _a;\n        (_a = this.entities[this.spriteIdx]) === null || _a === void 0 ? void 0 : _a.render(engineHelper);\n        this.calcSpriteIdx();\n    };\n    SpriteModel.prototype.calcSpriteIdx = function () {\n        if (this.timer.peak() > this.ticks) {\n            var spriteLength = this.entities.length;\n            this.spriteIdx += Math.round(this.timer.peak() / this.ticks);\n            if (this.spriteIdx >= spriteLength) {\n                var idxFactor = this.spriteIdx / spriteLength;\n                this.spriteIdx = Math.round((idxFactor - Math.floor(idxFactor)) * spriteLength);\n                if (this.spriteIdx >= spriteLength) {\n                    console.error(\"index out of bound after shaping\", this.spriteIdx);\n                    this.spriteIdx = 0;\n                }\n            }\n            this.timer.start();\n        }\n    };\n    SpriteModel.prototype.init = function (engineHelper) {\n        var _this = this;\n        if (!this.textures) {\n            return;\n        }\n        for (var index = 0; index < this.textures.length; index++) {\n            this.entities.push(new Plane2d_1.default(this.getRect(), this.textures[index]));\n        }\n        this.entities.forEach(function (e) {\n            e.setTop(_this.isTop);\n            e.hidden = _this.hidden;\n        });\n        this.center(this.position.x, this.position.y, this.position.z);\n        this.rotateOrigin(this.position.x, this.position.y, this.position.z);\n        this.rotateZ(180);\n        _super.prototype.init.call(this, engineHelper);\n        this.timer.start();\n    };\n    return SpriteModel;\n}(EntityManager2d_1.default));\nexports.default = SpriteModel;\n//# sourceMappingURL=SpriteModel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SpriteMoveableModel = void 0;\nvar SpriteModel_1 = require(\"./SpriteModel\");\nvar Moveable_1 = require(\"./Moveable\");\nvar SpriteMoveableModel = /** @class */ (function (_super) {\n    __extends(SpriteMoveableModel, _super);\n    function SpriteMoveableModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SpriteMoveableModel;\n}(SpriteModel_1.default));\nexports.SpriteMoveableModel = SpriteMoveableModel;\nvar SpriteMoveable = /** @class */ (function (_super) {\n    __extends(SpriteMoveable, _super);\n    function SpriteMoveable(rect, spriteModel) {\n        var _this = _super.call(this) || this;\n        _this.spriteModel = spriteModel;\n        _this.spriteModel.setRect(rect);\n        return _this;\n    }\n    SpriteMoveable.prototype.render = function (engineHelper) {\n        this.spriteModel.render(engineHelper);\n    };\n    SpriteMoveable.prototype.update = function (engineHelper) {\n        this.spriteModel.update(engineHelper);\n    };\n    SpriteMoveable.prototype.init = function (engineHelper) {\n        this.entities.push(this.spriteModel);\n        _super.prototype.init.call(this, engineHelper);\n        this.setRect(this.spriteModel.getRect());\n        this.updatePhysicsPosition();\n    };\n    return SpriteMoveable;\n}(Moveable_1.default));\nexports.default = SpriteMoveable;\n//# sourceMappingURL=SpriteMoveable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderEntityBuilder_1 = require(\"../Core/Builder/ShaderEntityBuilder\");\nvar ColourVertexModel_1 = require(\"../Core/Data/ColourVertexModel\");\nvar RenderOption_1 = require(\"../Core/Data/RenderOption\");\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar EngineObjectHelper_1 = require(\"../Core/EngineEntity/EngineObjectHelper\");\nvar TriangleColour2d = /** @class */ (function (_super) {\n    __extends(TriangleColour2d, _super);\n    function TriangleColour2d(rect, rgba) {\n        var _this = _super.call(this) || this;\n        _this.vertexModel = new ColourVertexModel_1.default().fillRenderUnits(EngineObjectHelper_1.default.vertex.triangleXYColour(rgba));\n        _this.centerRect(rect);\n        _this.rotateOriginRect(rect);\n        _this.scaleRect(rect);\n        return _this;\n    }\n    TriangleColour2d.prototype.render = function (engineHelper) {\n        engineHelper.render(this.shaderEntity);\n    };\n    TriangleColour2d.prototype.init = function (engineHelper) {\n        var renderOpt = new RenderOption_1.default();\n        renderOpt.renderType = RenderOption_1.RenderType.TRIANGLE;\n        renderOpt.shaderType = RenderOption_1.ShaderType.COLOUR;\n        this.shaderEntity = new ShaderEntityBuilder_1.default(engineHelper)\n            .addBuffer(this.vertexModel)\n            .build(this, renderOpt);\n    };\n    return TriangleColour2d;\n}(EngineObject_1.default));\nexports.default = TriangleColour2d;\n//# sourceMappingURL=TriangleColour2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EngineObject_1 = require(\"../Core/EngineEntity/EngineObject\");\nvar EntityManager = /** @class */ (function (_super) {\n    __extends(EntityManager, _super);\n    function EntityManager() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.entities = [];\n        return _this;\n    }\n    EntityManager.prototype.setPosition = function (position) {\n        this.entities.forEach(function (e) { return e.setPosition(position); });\n    };\n    EntityManager.prototype.center = function (x, y, z) {\n        _super.prototype.center.call(this, x, y, z);\n        this.entities.forEach(function (e) { return e.center(x, y, z); });\n    };\n    EntityManager.prototype.rotateOrigin = function (x, y, z) {\n        _super.prototype.rotateOrigin.call(this, x, y, z);\n        this.entities.forEach(function (e) { return e.rotateOrigin(x, y, z); });\n    };\n    EntityManager.prototype.rotateOriginRect = function (rect) {\n        this.rotateOrigin(rect.x, rect.y, rect.z);\n    };\n    EntityManager.prototype.rotateX = function (x) {\n        this.angleX(x);\n    };\n    EntityManager.prototype.rotateY = function (y) {\n        this.angleY(y);\n    };\n    EntityManager.prototype.rotateZ = function (z) {\n        this.angleZ(z);\n    };\n    EntityManager.prototype.angleX = function (x) {\n        _super.prototype.angleX.call(this, x);\n        this.entities.forEach(function (e) { return e.angleX(x); });\n    };\n    EntityManager.prototype.angleY = function (y) {\n        _super.prototype.angleY.call(this, y);\n        this.entities.forEach(function (e) { return e.angleY(y); });\n    };\n    EntityManager.prototype.angleZ = function (z) {\n        _super.prototype.angleZ.call(this, z);\n        this.entities.forEach(function (e) { return e.angleZ(z); });\n    };\n    EntityManager.prototype.scaleX = function (x) {\n        _super.prototype.scaleX.call(this, x);\n        this.entities.forEach(function (e) { return e.scaleX(x); });\n    };\n    EntityManager.prototype.scaleY = function (y) {\n        _super.prototype.scaleY.call(this, y);\n        this.entities.forEach(function (e) { return e.scaleY(y); });\n    };\n    EntityManager.prototype.scaleZ = function (z) {\n        _super.prototype.scaleZ.call(this, z);\n        this.entities.forEach(function (e) { return e.scaleZ(z); });\n    };\n    EntityManager.prototype.scale = function (x, y, z) {\n        _super.prototype.scale.call(this, x, y, z);\n        this.entities.forEach(function (e) { return e.scale(x, y, z); });\n    };\n    EntityManager.prototype.translate = function (dx, dy, dz) {\n        _super.prototype.translate.call(this, dx, dy, dz);\n        this.entities.forEach(function (e) { return e.translate(dx, dy, dz); });\n    };\n    EntityManager.prototype.init = function (engineHelper) {\n        _super.prototype.init.call(this, engineHelper);\n        this.entities.forEach(function (a) { return a.init(engineHelper); });\n    };\n    EntityManager.prototype.render = function (engineHelper) {\n        if (this.hidden) {\n            return;\n        }\n        this.entities.forEach(function (entity) { return entity.render(engineHelper); });\n        _super.prototype.render.call(this, engineHelper);\n    };\n    EntityManager.prototype.update = function (engineHelper) {\n        if (this.hidden) {\n            return;\n        }\n        this.entities.forEach(function (entity) { return entity.update(engineHelper); });\n        _super.prototype.update.call(this, engineHelper);\n    };\n    EntityManager.prototype.setTop = function (isTop) {\n        _super.prototype.setTop.call(this, isTop);\n        this.entities.forEach(function (entity) { return entity.setTop(isTop); });\n    };\n    Object.defineProperty(EntityManager.prototype, \"hidden\", {\n        set: function (value) {\n            _super.prototype.setHidden.call(this, value);\n            this.entities.forEach(function (entity) { return (entity.hidden = value); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EntityManager;\n}(EngineObject_1.default));\nexports.default = EntityManager;\n//# sourceMappingURL=EntityManager.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EntityManager_1 = require(\"./EntityManager\");\nvar Plane2d_1 = require(\"../Entity/Plane2d\");\nvar EntityManager2d = /** @class */ (function (_super) {\n    __extends(EntityManager2d, _super);\n    function EntityManager2d() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EntityManager2d.prototype.setLayer = function (priority) {\n        this.entities.forEach(function (entity) {\n            if (entity instanceof Plane2d_1.default) {\n                entity.setLayer(priority);\n            }\n        });\n        this.position.z = -1 * priority;\n        return this;\n    };\n    EntityManager2d.prototype.init = function (engineHelper) {\n        _super.prototype.init.call(this, engineHelper);\n        this.setLayer(-this.position.z);\n    };\n    return EntityManager2d;\n}(EntityManager_1.default));\nexports.default = EntityManager2d;\n//# sourceMappingURL=EntityManager2d.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar WorldDelegate_1 = require(\"../Core/WorldDelegate\");\nvar ObjectManager = /** @class */ (function (_super) {\n    __extends(ObjectManager, _super);\n    function ObjectManager() {\n        var _this = _super.call(this) || this;\n        _this.entities = [];\n        _this.deferred = [];\n        _this.isLoaded = false;\n        return _this;\n    }\n    ObjectManager.prototype.render = function () {\n        var _this = this;\n        this.entities.forEach(function (ent) { return ent.render(_this.engineHelper); });\n    };\n    ObjectManager.prototype.update = function () {\n        var _this = this;\n        this.entities.forEach(function (ent) { return ent.update(_this.engineHelper); });\n    };\n    ObjectManager.prototype.addEntity = function (entity) {\n        this.entities.push(entity);\n    };\n    ObjectManager.prototype.event = function (event) {\n        for (var entityIdx = 0; entityIdx < this.entities.length; entityIdx++) {\n            var shouldPropagate = this.entities[entityIdx].event(event, this.engineHelper);\n            if (shouldPropagate === false) {\n                return false;\n            }\n        }\n    };\n    ObjectManager.prototype.loadTexture = function (onLoad) {\n        if (!this.isLoaded) {\n            this.deferred.push(onLoad);\n        }\n        else {\n            onLoad();\n        }\n    };\n    ObjectManager.prototype.init = function () {\n        for (var entityIdx = 0; entityIdx < this.entities.length; entityIdx++) {\n            this.entities[entityIdx].init(this.engineHelper);\n        }\n        this.deferred.forEach(function (def) { return def(); });\n        this.isLoaded = true;\n    };\n    return ObjectManager;\n}(WorldDelegate_1.default));\nexports.default = ObjectManager;\n//# sourceMappingURL=ObjectManager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextureVertexModel = exports.RenderType = exports.Object3d = exports.ModelObject3d = exports.BitmapConfigParser = exports.Plane3d = exports.Coordinate = exports.Camera = exports.Polygon = exports.CollisionDetection = exports.Collision = exports.Events = exports.ConfigEntity = exports.generateId = exports.Timer = exports.Position = exports.Physics = exports.ModelPosition = exports.Rect2d = exports.Rect3d = exports.Moveable = exports.Colour = exports.PlaneType = exports.Light = exports.Resource = exports.ResourceResolver = exports.LineColour = exports.FontReference = exports.Font = exports.EntityManager2d = exports.EntityManager = exports.ObjectManager = exports.EngineMap = exports.EngineHelper = exports.EngineObject = exports.App = void 0;\nvar App_1 = require(\"./Core/App\");\nexports.App = App_1.default;\nvar EngineObject_1 = require(\"./Core/EngineEntity/EngineObject\");\nObject.defineProperty(exports, \"EngineObject\", { enumerable: true, get: function () { return EngineObject_1.default; } });\nvar EngineHelper_1 = require(\"./Core/EngineHelper\");\nObject.defineProperty(exports, \"EngineHelper\", { enumerable: true, get: function () { return EngineHelper_1.default; } });\nvar EngineMap_1 = require(\"./Core/EngineEntity/EngineMap\");\nObject.defineProperty(exports, \"EngineMap\", { enumerable: true, get: function () { return EngineMap_1.default; } });\nvar ObjectManager_1 = require(\"./Manager/ObjectManager\");\nObject.defineProperty(exports, \"ObjectManager\", { enumerable: true, get: function () { return ObjectManager_1.default; } });\nvar EntityManager_1 = require(\"./Manager/EntityManager\");\nObject.defineProperty(exports, \"EntityManager\", { enumerable: true, get: function () { return EntityManager_1.default; } });\nvar EntityManager2d_1 = require(\"./Manager/EntityManager2d\");\nObject.defineProperty(exports, \"EntityManager2d\", { enumerable: true, get: function () { return EntityManager2d_1.default; } });\nvar Font_1 = require(\"./Core/Font/Font\");\nObject.defineProperty(exports, \"Font\", { enumerable: true, get: function () { return Font_1.default; } });\nvar Font_2 = require(\"./Core/Font/Font\");\nObject.defineProperty(exports, \"FontReference\", { enumerable: true, get: function () { return Font_2.FontReference; } });\nvar LineColour_1 = require(\"./Entity/LineColour\");\nObject.defineProperty(exports, \"LineColour\", { enumerable: true, get: function () { return LineColour_1.default; } });\nvar ResourceResolver_1 = require(\"./AssetLoader/ResourceResolver\");\nObject.defineProperty(exports, \"ResourceResolver\", { enumerable: true, get: function () { return ResourceResolver_1.default; } });\nvar Resource_1 = require(\"./Core/Data/Resource\");\nObject.defineProperty(exports, \"Resource\", { enumerable: true, get: function () { return Resource_1.default; } });\nvar Light_1 = require(\"./Core/Data/Light\");\nObject.defineProperty(exports, \"Light\", { enumerable: true, get: function () { return Light_1.default; } });\nvar PlaneType_1 = require(\"./Core/Data/PlaneType\");\nObject.defineProperty(exports, \"PlaneType\", { enumerable: true, get: function () { return PlaneType_1.default; } });\nvar Colour_1 = require(\"./Core/Data/Colour\");\nObject.defineProperty(exports, \"Colour\", { enumerable: true, get: function () { return Colour_1.default; } });\nvar Moveable_1 = require(\"./Entity/Moveable\");\nObject.defineProperty(exports, \"Moveable\", { enumerable: true, get: function () { return Moveable_1.default; } });\nvar Rect3d_1 = require(\"./Core/Data/Rect3d\");\nObject.defineProperty(exports, \"Rect3d\", { enumerable: true, get: function () { return Rect3d_1.default; } });\nvar Rect2d_1 = require(\"./Core/Data/Rect2d\");\nObject.defineProperty(exports, \"Rect2d\", { enumerable: true, get: function () { return Rect2d_1.default; } });\nvar ModelPosition_1 = require(\"./Core/EngineEntity/ModelPosition\");\nObject.defineProperty(exports, \"ModelPosition\", { enumerable: true, get: function () { return ModelPosition_1.default; } });\nvar Physics_1 = require(\"./Core/Physics/Physics\");\nObject.defineProperty(exports, \"Physics\", { enumerable: true, get: function () { return Physics_1.default; } });\nvar Position_1 = require(\"./Core/EngineEntity/Position\");\nObject.defineProperty(exports, \"Position\", { enumerable: true, get: function () { return Position_1.default; } });\nvar Timer_1 = require(\"./Core/Common/Timer\");\nObject.defineProperty(exports, \"Timer\", { enumerable: true, get: function () { return Timer_1.default; } });\nvar IdGenerator_1 = require(\"./Core/Common/IdGenerator\");\nObject.defineProperty(exports, \"generateId\", { enumerable: true, get: function () { return IdGenerator_1.generateId; } });\nvar ConfigMapBuilder_1 = require(\"./Core/Builder/ConfigMapBuilder\");\nObject.defineProperty(exports, \"ConfigEntity\", { enumerable: true, get: function () { return ConfigMapBuilder_1.ConfigEntity; } });\nvar Events_1 = require(\"./Core/Events\");\nObject.defineProperty(exports, \"Events\", { enumerable: true, get: function () { return Events_1.default; } });\nvar CollisionDetection_1 = require(\"./Core/Physics/CollisionDetection\");\nObject.defineProperty(exports, \"Collision\", { enumerable: true, get: function () { return CollisionDetection_1.Collision; } });\nObject.defineProperty(exports, \"CollisionDetection\", { enumerable: true, get: function () { return CollisionDetection_1.CollisionDetection; } });\nObject.defineProperty(exports, \"Polygon\", { enumerable: true, get: function () { return CollisionDetection_1.Polygon; } });\nvar Camera_1 = require(\"./Core/Camera\");\nObject.defineProperty(exports, \"Camera\", { enumerable: true, get: function () { return Camera_1.default; } });\nvar Coordinate_1 = require(\"./Core/Data/Coordinate\");\nObject.defineProperty(exports, \"Coordinate\", { enumerable: true, get: function () { return Coordinate_1.default; } });\nvar Plane3d_1 = require(\"./Entity/Plane3d\");\nObject.defineProperty(exports, \"Plane3d\", { enumerable: true, get: function () { return Plane3d_1.default; } });\nvar BitmapConfigParser_1 = require(\"./AssetLoader/BitmapConfigParser\");\nObject.defineProperty(exports, \"BitmapConfigParser\", { enumerable: true, get: function () { return BitmapConfigParser_1.default; } });\nvar ModelObject3d_1 = require(\"./Core/EngineEntity/ModelObject3d\");\nObject.defineProperty(exports, \"ModelObject3d\", { enumerable: true, get: function () { return ModelObject3d_1.default; } });\nvar Object3d_1 = require(\"./Entity/Object3d\");\nObject.defineProperty(exports, \"Object3d\", { enumerable: true, get: function () { return Object3d_1.default; } });\nvar RenderOption_1 = require(\"./Core/Data/RenderOption\");\nObject.defineProperty(exports, \"RenderType\", { enumerable: true, get: function () { return RenderOption_1.RenderType; } });\nvar TextureVertexModel_1 = require(\"./Core/Data/TextureVertexModel\");\nObject.defineProperty(exports, \"TextureVertexModel\", { enumerable: true, get: function () { return TextureVertexModel_1.default; } });\n//# sourceMappingURL=index.js.map","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\nimport * as mat2 from \"./mat2.js\";\nimport * as mat2d from \"./mat2d.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as mat4 from \"./mat4.js\";\nimport * as quat from \"./quat.js\";\nimport * as quat2 from \"./quat2.js\";\nimport * as vec2 from \"./vec2.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\nexport { glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };","import * as glMatrix from \"./common.js\";\n/**\n * 2x2 Matrix\n * @module mat2\n */\n\n/**\n * Creates a new identity mat2\n *\n * @returns {mat2} a new 2x2 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2} a matrix to clone\n * @returns {mat2} a new 2x2 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Copy the values from one mat2 to another\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set a mat2 to the identity matrix\n *\n * @param {mat2} out the receiving matrix\n * @returns {mat2} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Create a new mat2 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out A new 2x2 matrix\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Set the components of a mat2 to the given values\n *\n * @param {mat2} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\n * @returns {mat2} out\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\n * Transpose the values of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the source matrix\n * @returns {mat2} out\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2\n *\n * @param {ReadonlyMat2} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\n * Multiplies two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\n * Rotates a mat2 by the given angle\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\n * Scales the mat2 by the dimensions in the given vec2\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2} out\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.rotate(dest, dest, rad);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2.identity(dest);\n *     mat2.scale(dest, dest, vec);\n *\n * @param {mat2} out mat2 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2\n *\n * @param {ReadonlyMat2} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2\n *\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\n * @param {ReadonlyMat2} L the lower triangular matrix\n * @param {ReadonlyMat2} D the diagonal matrix\n * @param {ReadonlyMat2} U the upper triangular matrix\n * @param {ReadonlyMat2} a the input matrix to factorize\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\n * Adds two mat2's\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @returns {mat2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2} a The first matrix.\n * @param {ReadonlyMat2} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2} out the receiving matrix\n * @param {ReadonlyMat2} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2} out the receiving vector\n * @param {ReadonlyMat2} a the first operand\n * @param {ReadonlyMat2} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Alias for {@link mat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat2.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 2x3 Matrix\n * @module mat2d\n * @description\n * A mat2d contains six elements defined as:\n * <pre>\n * [a, b,\n *  c, d,\n *  tx, ty]\n * </pre>\n * This is a short form for the 3x3 matrix:\n * <pre>\n * [a, b, 0,\n *  c, d, 0,\n *  tx, ty, 1]\n * </pre>\n * The last column is ignored so the array is shorter and operations are faster.\n */\n\n/**\n * Creates a new identity mat2d\n *\n * @returns {mat2d} a new 2x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\n * Creates a new mat2d initialized with values from an existing matrix\n *\n * @param {ReadonlyMat2d} a matrix to clone\n * @returns {mat2d} a new 2x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Copy the values from one mat2d to another\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\n * Set a mat2d to the identity matrix\n *\n * @param {mat2d} out the receiving matrix\n * @returns {mat2d} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Create a new mat2d with the given values\n *\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} A new mat2d\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Set the components of a mat2d to the given values\n *\n * @param {mat2d} out the receiving matrix\n * @param {Number} a Component A (index 0)\n * @param {Number} b Component B (index 1)\n * @param {Number} c Component C (index 2)\n * @param {Number} d Component D (index 3)\n * @param {Number} tx Component TX (index 4)\n * @param {Number} ty Component TY (index 5)\n * @returns {mat2d} out\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\n * Inverts a mat2d\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {mat2d} out\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Calculates the determinant of a mat2d\n *\n * @param {ReadonlyMat2d} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\n * Multiplies two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\n * Rotates a mat2d by the given angle\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Scales the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat2d} out\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\n * Translates the mat2d by the dimensions in the given vec2\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to translate\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\n * @returns {mat2d} out\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.rotate(dest, dest, rad);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat2d} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.scale(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat2d} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat2d.identity(dest);\n *     mat2d.translate(dest, dest, vec);\n *\n * @param {mat2d} out mat2d receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat2d} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\n * Returns a string representation of a mat2d\n *\n * @param {ReadonlyMat2d} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat2d\n *\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\n * Adds two mat2d's\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @returns {mat2d} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat2d} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat2d} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat2d} out the receiving vector\n * @param {ReadonlyMat2d} a the first operand\n * @param {ReadonlyMat2d} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat2d} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat2d} a The first matrix.\n * @param {ReadonlyMat2d} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\n * Alias for {@link mat2d.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat2d.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\n * Dual Quaternion<br>\n * Format: [real, dual]<br>\n * Quaternion format: XYZW<br>\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\n * @module quat2\n */\n\n/**\n * Creates a new identity dual quat\n *\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat2} a dual quaternion to clone\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\n * Creates a new dual quat initialized with the given values\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\n * Creates a new dual quat from the given values (quat and translation)\n *\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component (translation)\n * @param {Number} y2 Y component (translation)\n * @param {Number} z2 Z component (translation)\n * @returns {quat2} new dual quaternion\n * @function\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\n * Creates a dual quat from a quaternion and a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q a normalized quaternion\n * @param {ReadonlyVec3} t tranlation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Creates a dual quat from a translation\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyVec3} t translation vector\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a dual quat from a quaternion\n *\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\n * @param {ReadonlyQuat} q the quaternion\n * @returns {quat2} dual quaternion receiving operation result\n * @function\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Creates a new dual quat from a matrix (4x4)\n *\n * @param {quat2} out the dual quaternion\n * @param {ReadonlyMat4} a the matrix\n * @returns {quat2} dual quat receiving operation result\n * @function\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\n * Copy the values from one dual quat to another\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the source dual quaternion\n * @returns {quat2} out\n * @function\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Set a dual quat to the identity dual quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @returns {quat2} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\n * Set the components of a dual quat to the given values\n *\n * @param {quat2} out the receiving quaternion\n * @param {Number} x1 X component\n * @param {Number} y1 Y component\n * @param {Number} z1 Z component\n * @param {Number} w1 W component\n * @param {Number} x2 X component\n * @param {Number} y2 Y component\n * @param {Number} z2 Z component\n * @param {Number} w2 W component\n * @returns {quat2} out\n * @function\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\n * Gets the real part of a dual quat\n * @param  {quat} out real part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} real part\n */\n\nexport var getReal = quat.copy;\n/**\n * Gets the dual part of a dual quat\n * @param  {quat} out dual part\n * @param  {ReadonlyQuat2} a Dual Quaternion\n * @return {quat} dual part\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\n * Set the real component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the real part\n * @returns {quat2} out\n * @function\n */\n\nexport var setReal = quat.copy;\n/**\n * Set the dual component of a dual quat to the given quaternion\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat} q a quaternion representing the dual part\n * @returns {quat2} out\n * @function\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\n * Gets the translation of a normalized dual quat\n * @param  {vec3} out translation\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\n * @return {vec3} translation\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\n * Translates a dual quat by the given vector\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {quat2} out\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\n * Rotates a dual quat around the X axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Y axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around the Z axis\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {number} rad how far should the rotation be\n * @returns {quat2} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (a * q)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @returns {quat2} out\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\n * Rotates a dual quat by a given quaternion (q * a)\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat} q quaternion to rotate by\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @returns {quat2} out\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\n * Rotates a dual quat around a given axis. Does the normalisation automatically\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @param {Number} rad how far the rotation should be\n * @returns {quat2} out\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Adds two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n * @function\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\n * Multiplies two dual quat's\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {quat2} out\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\n * Alias for {@link quat2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a dual quat by a scalar number\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the dual quat to scale\n * @param {Number} b amount to scale the dual quat by\n * @returns {quat2} out\n * @function\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\n *\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = quat.dot;\n/**\n * Performs a linear interpolation between two dual quats's\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\n *\n * @param {quat2} out the receiving dual quat\n * @param {ReadonlyQuat2} a the first operand\n * @param {ReadonlyQuat2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\n * @returns {quat2} out\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\n * Calculates the conjugate of a dual quat\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\n *\n * @param {quat2} out the receiving quaternion\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\n * @returns {quat2} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\n * Calculates the length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate length of\n * @returns {Number} length of a\n * @function\n */\n\nexport var length = quat.length;\n/**\n * Alias for {@link quat2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a dual quat\n *\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\n * Alias for {@link quat2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a dual quat\n *\n * @param {quat2} out the receiving dual quaternion\n * @param {ReadonlyQuat2} a dual quaternion to normalize\n * @returns {quat2} out\n * @function\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\n * Returns a string representation of a dual quatenion\n *\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\n * @returns {String} string representation of the dual quat\n */\n\nexport function str(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat2} a the first dual quaternion.\n * @param {ReadonlyQuat2} b the second dual quaternion.\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat2} a the first dual quat.\n * @param {ReadonlyQuat2} b the second dual quat.\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./ExampleApp/index.ts\");\n",""],"names":[],"sourceRoot":""}